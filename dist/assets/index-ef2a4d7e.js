function MP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var P1={exports:{}},Kc={},C1={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dl=Symbol.for("react.element"),jP=Symbol.for("react.portal"),VP=Symbol.for("react.fragment"),FP=Symbol.for("react.strict_mode"),BP=Symbol.for("react.profiler"),UP=Symbol.for("react.provider"),$P=Symbol.for("react.context"),qP=Symbol.for("react.forward_ref"),zP=Symbol.for("react.suspense"),HP=Symbol.for("react.memo"),WP=Symbol.for("react.lazy"),$y=Symbol.iterator;function KP(t){return t===null||typeof t!="object"?null:(t=$y&&t[$y]||t["@@iterator"],typeof t=="function"?t:null)}var O1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R1=Object.assign,x1={};function gs(t,e,n){this.props=t,this.context=e,this.refs=x1,this.updater=n||O1}gs.prototype.isReactComponent={};gs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};gs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function N1(){}N1.prototype=gs.prototype;function mm(t,e,n){this.props=t,this.context=e,this.refs=x1,this.updater=n||O1}var gm=mm.prototype=new N1;gm.constructor=mm;R1(gm,gs.prototype);gm.isPureReactComponent=!0;var qy=Array.isArray,D1=Object.prototype.hasOwnProperty,vm={current:null},L1={key:!0,ref:!0,__self:!0,__source:!0};function M1(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)D1.call(e,r)&&!L1.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:dl,type:t,key:o,ref:s,props:i,_owner:vm.current}}function GP(t,e){return{$$typeof:dl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ym(t){return typeof t=="object"&&t!==null&&t.$$typeof===dl}function QP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var zy=/\/+/g;function Ad(t,e){return typeof t=="object"&&t!==null&&t.key!=null?QP(""+t.key):e.toString(36)}function Iu(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case dl:case jP:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Ad(s,0):r,qy(i)?(n="",t!=null&&(n=t.replace(zy,"$&/")+"/"),Iu(i,e,n,"",function(u){return u})):i!=null&&(ym(i)&&(i=GP(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(zy,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",qy(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Ad(o,a);s+=Iu(o,e,n,l,i)}else if(l=KP(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Ad(o,a++),s+=Iu(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Wl(t,e,n){if(t==null)return t;var r=[],i=0;return Iu(t,r,"","",function(o){return e.call(n,o,i++)}),r}function YP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Jt={current:null},ku={transition:null},XP={ReactCurrentDispatcher:Jt,ReactCurrentBatchConfig:ku,ReactCurrentOwner:vm};xe.Children={map:Wl,forEach:function(t,e,n){Wl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Wl(t,function(){e++}),e},toArray:function(t){return Wl(t,function(e){return e})||[]},only:function(t){if(!ym(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xe.Component=gs;xe.Fragment=VP;xe.Profiler=BP;xe.PureComponent=mm;xe.StrictMode=FP;xe.Suspense=zP;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XP;xe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=R1({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=vm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)D1.call(e,l)&&!L1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:dl,type:t.type,key:i,ref:o,props:r,_owner:s}};xe.createContext=function(t){return t={$$typeof:$P,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:UP,_context:t},t.Consumer=t};xe.createElement=M1;xe.createFactory=function(t){var e=M1.bind(null,t);return e.type=t,e};xe.createRef=function(){return{current:null}};xe.forwardRef=function(t){return{$$typeof:qP,render:t}};xe.isValidElement=ym;xe.lazy=function(t){return{$$typeof:WP,_payload:{_status:-1,_result:t},_init:YP}};xe.memo=function(t,e){return{$$typeof:HP,type:t,compare:e===void 0?null:e}};xe.startTransition=function(t){var e=ku.transition;ku.transition={};try{t()}finally{ku.transition=e}};xe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};xe.useCallback=function(t,e){return Jt.current.useCallback(t,e)};xe.useContext=function(t){return Jt.current.useContext(t)};xe.useDebugValue=function(){};xe.useDeferredValue=function(t){return Jt.current.useDeferredValue(t)};xe.useEffect=function(t,e){return Jt.current.useEffect(t,e)};xe.useId=function(){return Jt.current.useId()};xe.useImperativeHandle=function(t,e,n){return Jt.current.useImperativeHandle(t,e,n)};xe.useInsertionEffect=function(t,e){return Jt.current.useInsertionEffect(t,e)};xe.useLayoutEffect=function(t,e){return Jt.current.useLayoutEffect(t,e)};xe.useMemo=function(t,e){return Jt.current.useMemo(t,e)};xe.useReducer=function(t,e,n){return Jt.current.useReducer(t,e,n)};xe.useRef=function(t){return Jt.current.useRef(t)};xe.useState=function(t){return Jt.current.useState(t)};xe.useSyncExternalStore=function(t,e,n){return Jt.current.useSyncExternalStore(t,e,n)};xe.useTransition=function(){return Jt.current.useTransition()};xe.version="18.2.0";C1.exports=xe;var re=C1.exports;const j1=Wc(re),JP=MP({__proto__:null,default:j1},[re]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZP=re,eC=Symbol.for("react.element"),tC=Symbol.for("react.fragment"),nC=Object.prototype.hasOwnProperty,rC=ZP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iC={key:!0,ref:!0,__self:!0,__source:!0};function V1(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)nC.call(e,r)&&!iC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:eC,type:t,key:o,ref:s,props:i,_owner:rC.current}}Kc.Fragment=tC;Kc.jsx=V1;Kc.jsxs=V1;P1.exports=Kc;var z=P1.exports,Oh={},F1={exports:{}},wn={},B1={exports:{}},U1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,q){var L=G.length;G.push(q);e:for(;0<L;){var x=L-1>>>1,F=G[x];if(0<i(F,q))G[x]=q,G[L]=F,L=x;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var q=G[0],L=G.pop();if(L!==q){G[0]=L;e:for(var x=0,F=G.length,U=F>>>1;x<U;){var Q=2*(x+1)-1,M=G[Q],V=Q+1,W=G[V];if(0>i(M,L))V<F&&0>i(W,M)?(G[x]=W,G[V]=L,x=V):(G[x]=M,G[Q]=L,x=Q);else if(V<F&&0>i(W,L))G[x]=W,G[V]=L,x=V;else break e}}return q}function i(G,q){var L=G.sortIndex-q.sortIndex;return L!==0?L:G.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,d=3,h=!1,w=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(G){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=G)r(u),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(u)}}function v(G){if(y=!1,E(G),!w)if(n(l)!==null)w=!0,H(b);else{var q=n(u);q!==null&&K(v,q.startTime-G)}}function b(G,q){w=!1,y&&(y=!1,g(O),O=-1),h=!0;var L=d;try{for(E(q),f=n(l);f!==null&&(!(f.expirationTime>q)||G&&!P());){var x=f.callback;if(typeof x=="function"){f.callback=null,d=f.priorityLevel;var F=x(f.expirationTime<=q);q=t.unstable_now(),typeof F=="function"?f.callback=F:f===n(l)&&r(l),E(q)}else r(l);f=n(l)}if(f!==null)var U=!0;else{var Q=n(u);Q!==null&&K(v,Q.startTime-q),U=!1}return U}finally{f=null,d=L,h=!1}}var k=!1,I=null,O=-1,D=5,C=-1;function P(){return!(t.unstable_now()-C<D)}function R(){if(I!==null){var G=t.unstable_now();C=G;var q=!0;try{q=I(!0,G)}finally{q?N():(k=!1,I=null)}}else k=!1}var N;if(typeof p=="function")N=function(){p(R)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,B=j.port2;j.port1.onmessage=R,N=function(){B.postMessage(null)}}else N=function(){_(R,0)};function H(G){I=G,k||(k=!0,N())}function K(G,q){O=_(function(){G(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){w||h||(w=!0,H(b))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(G){switch(d){case 1:case 2:case 3:var q=3;break;default:q=d}var L=d;d=q;try{return G()}finally{d=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,q){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var L=d;d=G;try{return q()}finally{d=L}},t.unstable_scheduleCallback=function(G,q,L){var x=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?x+L:x):L=x,G){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=L+F,G={id:c++,callback:q,priorityLevel:G,startTime:L,expirationTime:F,sortIndex:-1},L>x?(G.sortIndex=L,e(u,G),n(l)===null&&G===n(u)&&(y?(g(O),O=-1):y=!0,K(v,L-x))):(G.sortIndex=F,e(l,G),w||h||(w=!0,H(b))),G},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(G){var q=d;return function(){var L=d;d=q;try{return G.apply(this,arguments)}finally{d=L}}}})(U1);B1.exports=U1;var oC=B1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $1=re,vn=oC;function se(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var q1=new Set,Pa={};function so(t,e){Jo(t,e),Jo(t+"Capture",e)}function Jo(t,e){for(Pa[t]=e,t=0;t<e.length;t++)q1.add(e[t])}var Er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rh=Object.prototype.hasOwnProperty,sC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hy={},Wy={};function aC(t){return Rh.call(Wy,t)?!0:Rh.call(Hy,t)?!1:sC.test(t)?Wy[t]=!0:(Hy[t]=!0,!1)}function lC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function uC(t,e,n,r){if(e===null||typeof e>"u"||lC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Zt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dt[t]=new Zt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dt[e]=new Zt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dt[t]=new Zt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dt[t]=new Zt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dt[t]=new Zt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dt[t]=new Zt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dt[t]=new Zt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dt[t]=new Zt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dt[t]=new Zt(t,5,!1,t.toLowerCase(),null,!1,!1)});var wm=/[\-:]([a-z])/g;function _m(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(wm,_m);Dt[e]=new Zt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(wm,_m);Dt[e]=new Zt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(wm,_m);Dt[e]=new Zt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dt[t]=new Zt(t,1,!1,t.toLowerCase(),null,!1,!1)});Dt.xlinkHref=new Zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dt[t]=new Zt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Em(t,e,n,r){var i=Dt.hasOwnProperty(e)?Dt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uC(e,n,i,r)&&(n=null),r||i===null?aC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Pr=$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kl=Symbol.for("react.element"),ko=Symbol.for("react.portal"),Po=Symbol.for("react.fragment"),Tm=Symbol.for("react.strict_mode"),xh=Symbol.for("react.profiler"),z1=Symbol.for("react.provider"),H1=Symbol.for("react.context"),bm=Symbol.for("react.forward_ref"),Nh=Symbol.for("react.suspense"),Dh=Symbol.for("react.suspense_list"),Am=Symbol.for("react.memo"),Lr=Symbol.for("react.lazy"),W1=Symbol.for("react.offscreen"),Ky=Symbol.iterator;function Fs(t){return t===null||typeof t!="object"?null:(t=Ky&&t[Ky]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,Sd;function Js(t){if(Sd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Sd=e&&e[1]||""}return`
`+Sd+t}var Id=!1;function kd(t,e){if(!t||Id)return"";Id=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Id=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Js(t):""}function cC(t){switch(t.tag){case 5:return Js(t.type);case 16:return Js("Lazy");case 13:return Js("Suspense");case 19:return Js("SuspenseList");case 0:case 2:case 15:return t=kd(t.type,!1),t;case 11:return t=kd(t.type.render,!1),t;case 1:return t=kd(t.type,!0),t;default:return""}}function Lh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Po:return"Fragment";case ko:return"Portal";case xh:return"Profiler";case Tm:return"StrictMode";case Nh:return"Suspense";case Dh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case H1:return(t.displayName||"Context")+".Consumer";case z1:return(t._context.displayName||"Context")+".Provider";case bm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Am:return e=t.displayName||null,e!==null?e:Lh(t.type)||"Memo";case Lr:e=t._payload,t=t._init;try{return Lh(t(e))}catch{}}return null}function fC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lh(e);case 8:return e===Tm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function si(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function K1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dC(t){var e=K1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Gl(t){t._valueTracker||(t._valueTracker=dC(t))}function G1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=K1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Wu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Mh(t,e){var n=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Gy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=si(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Q1(t,e){e=e.checked,e!=null&&Em(t,"checked",e,!1)}function jh(t,e){Q1(t,e);var n=si(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Vh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Vh(t,e.type,si(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Qy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Vh(t,e,n){(e!=="number"||Wu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zs=Array.isArray;function Uo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+si(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Fh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(se(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Yy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(se(92));if(Zs(n)){if(1<n.length)throw Error(se(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:si(n)}}function Y1(t,e){var n=si(e.value),r=si(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Xy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function X1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?X1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ql,J1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ql=Ql||document.createElement("div"),Ql.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ql.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ca(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ua={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hC=["Webkit","ms","Moz","O"];Object.keys(ua).forEach(function(t){hC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ua[e]=ua[t]})});function Z1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ua.hasOwnProperty(t)&&ua[t]?(""+e).trim():e+"px"}function eE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Z1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var pC=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uh(t,e){if(e){if(pC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(se(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(se(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(se(61))}if(e.style!=null&&typeof e.style!="object")throw Error(se(62))}}function $h(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qh=null;function Sm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zh=null,$o=null,qo=null;function Jy(t){if(t=ml(t)){if(typeof zh!="function")throw Error(se(280));var e=t.stateNode;e&&(e=Jc(e),zh(t.stateNode,t.type,e))}}function tE(t){$o?qo?qo.push(t):qo=[t]:$o=t}function nE(){if($o){var t=$o,e=qo;if(qo=$o=null,Jy(t),e)for(t=0;t<e.length;t++)Jy(e[t])}}function rE(t,e){return t(e)}function iE(){}var Pd=!1;function oE(t,e,n){if(Pd)return t(e,n);Pd=!0;try{return rE(t,e,n)}finally{Pd=!1,($o!==null||qo!==null)&&(iE(),nE())}}function Oa(t,e){var n=t.stateNode;if(n===null)return null;var r=Jc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(se(231,e,typeof n));return n}var Hh=!1;if(Er)try{var Bs={};Object.defineProperty(Bs,"passive",{get:function(){Hh=!0}}),window.addEventListener("test",Bs,Bs),window.removeEventListener("test",Bs,Bs)}catch{Hh=!1}function mC(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ca=!1,Ku=null,Gu=!1,Wh=null,gC={onError:function(t){ca=!0,Ku=t}};function vC(t,e,n,r,i,o,s,a,l){ca=!1,Ku=null,mC.apply(gC,arguments)}function yC(t,e,n,r,i,o,s,a,l){if(vC.apply(this,arguments),ca){if(ca){var u=Ku;ca=!1,Ku=null}else throw Error(se(198));Gu||(Gu=!0,Wh=u)}}function ao(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Zy(t){if(ao(t)!==t)throw Error(se(188))}function wC(t){var e=t.alternate;if(!e){if(e=ao(t),e===null)throw Error(se(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Zy(i),t;if(o===r)return Zy(i),e;o=o.sibling}throw Error(se(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(se(189))}}if(n.alternate!==r)throw Error(se(190))}if(n.tag!==3)throw Error(se(188));return n.stateNode.current===n?t:e}function aE(t){return t=wC(t),t!==null?lE(t):null}function lE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lE(t);if(e!==null)return e;t=t.sibling}return null}var uE=vn.unstable_scheduleCallback,e0=vn.unstable_cancelCallback,_C=vn.unstable_shouldYield,EC=vn.unstable_requestPaint,lt=vn.unstable_now,TC=vn.unstable_getCurrentPriorityLevel,Im=vn.unstable_ImmediatePriority,cE=vn.unstable_UserBlockingPriority,Qu=vn.unstable_NormalPriority,bC=vn.unstable_LowPriority,fE=vn.unstable_IdlePriority,Gc=null,tr=null;function AC(t){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(Gc,t,void 0,(t.current.flags&128)===128)}catch{}}var Mn=Math.clz32?Math.clz32:kC,SC=Math.log,IC=Math.LN2;function kC(t){return t>>>=0,t===0?32:31-(SC(t)/IC|0)|0}var Yl=64,Xl=4194304;function ea(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Yu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=ea(a):(o&=s,o!==0&&(r=ea(o)))}else s=n&~i,s!==0?r=ea(s):o!==0&&(r=ea(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Mn(e),i=1<<n,r|=t[n],e&=~i;return r}function PC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Mn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=PC(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Kh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function dE(){var t=Yl;return Yl<<=1,!(Yl&4194240)&&(Yl=64),t}function Cd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Mn(e),t[e]=n}function OC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Mn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function km(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Mn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Be=0;function hE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pE,Pm,mE,gE,vE,Gh=!1,Jl=[],Kr=null,Gr=null,Qr=null,Ra=new Map,xa=new Map,jr=[],RC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function t0(t,e){switch(t){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Ra.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xa.delete(e.pointerId)}}function Us(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ml(e),e!==null&&Pm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function xC(t,e,n,r,i){switch(e){case"focusin":return Kr=Us(Kr,t,e,n,r,i),!0;case"dragenter":return Gr=Us(Gr,t,e,n,r,i),!0;case"mouseover":return Qr=Us(Qr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ra.set(o,Us(Ra.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,xa.set(o,Us(xa.get(o)||null,t,e,n,r,i)),!0}return!1}function yE(t){var e=Di(t.target);if(e!==null){var n=ao(e);if(n!==null){if(e=n.tag,e===13){if(e=sE(n),e!==null){t.blockedOn=e,vE(t.priority,function(){mE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);qh=r,n.target.dispatchEvent(r),qh=null}else return e=ml(n),e!==null&&Pm(e),t.blockedOn=n,!1;e.shift()}return!0}function n0(t,e,n){Pu(t)&&n.delete(e)}function NC(){Gh=!1,Kr!==null&&Pu(Kr)&&(Kr=null),Gr!==null&&Pu(Gr)&&(Gr=null),Qr!==null&&Pu(Qr)&&(Qr=null),Ra.forEach(n0),xa.forEach(n0)}function $s(t,e){t.blockedOn===e&&(t.blockedOn=null,Gh||(Gh=!0,vn.unstable_scheduleCallback(vn.unstable_NormalPriority,NC)))}function Na(t){function e(i){return $s(i,t)}if(0<Jl.length){$s(Jl[0],t);for(var n=1;n<Jl.length;n++){var r=Jl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Kr!==null&&$s(Kr,t),Gr!==null&&$s(Gr,t),Qr!==null&&$s(Qr,t),Ra.forEach(e),xa.forEach(e),n=0;n<jr.length;n++)r=jr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<jr.length&&(n=jr[0],n.blockedOn===null);)yE(n),n.blockedOn===null&&jr.shift()}var zo=Pr.ReactCurrentBatchConfig,Xu=!0;function DC(t,e,n,r){var i=Be,o=zo.transition;zo.transition=null;try{Be=1,Cm(t,e,n,r)}finally{Be=i,zo.transition=o}}function LC(t,e,n,r){var i=Be,o=zo.transition;zo.transition=null;try{Be=4,Cm(t,e,n,r)}finally{Be=i,zo.transition=o}}function Cm(t,e,n,r){if(Xu){var i=Qh(t,e,n,r);if(i===null)Fd(t,e,r,Ju,n),t0(t,r);else if(xC(i,t,e,n,r))r.stopPropagation();else if(t0(t,r),e&4&&-1<RC.indexOf(t)){for(;i!==null;){var o=ml(i);if(o!==null&&pE(o),o=Qh(t,e,n,r),o===null&&Fd(t,e,r,Ju,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Fd(t,e,r,null,n)}}var Ju=null;function Qh(t,e,n,r){if(Ju=null,t=Sm(r),t=Di(t),t!==null)if(e=ao(t),e===null)t=null;else if(n=e.tag,n===13){if(t=sE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ju=t,null}function wE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TC()){case Im:return 1;case cE:return 4;case Qu:case bC:return 16;case fE:return 536870912;default:return 16}default:return 16}}var qr=null,Om=null,Cu=null;function _E(){if(Cu)return Cu;var t,e=Om,n=e.length,r,i="value"in qr?qr.value:qr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Cu=i.slice(t,1<r?1-r:void 0)}function Ou(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zl(){return!0}function r0(){return!1}function _n(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Zl:r0,this.isPropagationStopped=r0,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zl)},persist:function(){},isPersistent:Zl}),e}var vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rm=_n(vs),pl=tt({},vs,{view:0,detail:0}),MC=_n(pl),Od,Rd,qs,Qc=tt({},pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qs&&(qs&&t.type==="mousemove"?(Od=t.screenX-qs.screenX,Rd=t.screenY-qs.screenY):Rd=Od=0,qs=t),Od)},movementY:function(t){return"movementY"in t?t.movementY:Rd}}),i0=_n(Qc),jC=tt({},Qc,{dataTransfer:0}),VC=_n(jC),FC=tt({},pl,{relatedTarget:0}),xd=_n(FC),BC=tt({},vs,{animationName:0,elapsedTime:0,pseudoElement:0}),UC=_n(BC),$C=tt({},vs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qC=_n($C),zC=tt({},vs,{data:0}),o0=_n(zC),HC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=KC[t])?!!e[t]:!1}function xm(){return GC}var QC=tt({},pl,{key:function(t){if(t.key){var e=HC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ou(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?WC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xm,charCode:function(t){return t.type==="keypress"?Ou(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ou(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),YC=_n(QC),XC=tt({},Qc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),s0=_n(XC),JC=tt({},pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xm}),ZC=_n(JC),eO=tt({},vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),tO=_n(eO),nO=tt({},Qc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rO=_n(nO),iO=[9,13,27,32],Nm=Er&&"CompositionEvent"in window,fa=null;Er&&"documentMode"in document&&(fa=document.documentMode);var oO=Er&&"TextEvent"in window&&!fa,EE=Er&&(!Nm||fa&&8<fa&&11>=fa),a0=String.fromCharCode(32),l0=!1;function TE(t,e){switch(t){case"keyup":return iO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Co=!1;function sO(t,e){switch(t){case"compositionend":return bE(e);case"keypress":return e.which!==32?null:(l0=!0,a0);case"textInput":return t=e.data,t===a0&&l0?null:t;default:return null}}function aO(t,e){if(Co)return t==="compositionend"||!Nm&&TE(t,e)?(t=_E(),Cu=Om=qr=null,Co=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return EE&&e.locale!=="ko"?null:e.data;default:return null}}var lO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function u0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lO[t.type]:e==="textarea"}function AE(t,e,n,r){tE(r),e=Zu(e,"onChange"),0<e.length&&(n=new Rm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var da=null,Da=null;function uO(t){LE(t,0)}function Yc(t){var e=xo(t);if(G1(e))return t}function cO(t,e){if(t==="change")return e}var SE=!1;if(Er){var Nd;if(Er){var Dd="oninput"in document;if(!Dd){var c0=document.createElement("div");c0.setAttribute("oninput","return;"),Dd=typeof c0.oninput=="function"}Nd=Dd}else Nd=!1;SE=Nd&&(!document.documentMode||9<document.documentMode)}function f0(){da&&(da.detachEvent("onpropertychange",IE),Da=da=null)}function IE(t){if(t.propertyName==="value"&&Yc(Da)){var e=[];AE(e,Da,t,Sm(t)),oE(uO,e)}}function fO(t,e,n){t==="focusin"?(f0(),da=e,Da=n,da.attachEvent("onpropertychange",IE)):t==="focusout"&&f0()}function dO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yc(Da)}function hO(t,e){if(t==="click")return Yc(e)}function pO(t,e){if(t==="input"||t==="change")return Yc(e)}function mO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fn=typeof Object.is=="function"?Object.is:mO;function La(t,e){if(Fn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Rh.call(e,i)||!Fn(t[i],e[i]))return!1}return!0}function d0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function h0(t,e){var n=d0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=d0(n)}}function kE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function PE(){for(var t=window,e=Wu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Wu(t.document)}return e}function Dm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function gO(t){var e=PE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&kE(n.ownerDocument.documentElement,n)){if(r!==null&&Dm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=h0(n,o);var s=h0(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vO=Er&&"documentMode"in document&&11>=document.documentMode,Oo=null,Yh=null,ha=null,Xh=!1;function p0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xh||Oo==null||Oo!==Wu(r)||(r=Oo,"selectionStart"in r&&Dm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ha&&La(ha,r)||(ha=r,r=Zu(Yh,"onSelect"),0<r.length&&(e=new Rm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Oo)))}function eu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ro={animationend:eu("Animation","AnimationEnd"),animationiteration:eu("Animation","AnimationIteration"),animationstart:eu("Animation","AnimationStart"),transitionend:eu("Transition","TransitionEnd")},Ld={},CE={};Er&&(CE=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function Xc(t){if(Ld[t])return Ld[t];if(!Ro[t])return t;var e=Ro[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in CE)return Ld[t]=e[n];return t}var OE=Xc("animationend"),RE=Xc("animationiteration"),xE=Xc("animationstart"),NE=Xc("transitionend"),DE=new Map,m0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fi(t,e){DE.set(t,e),so(e,[t])}for(var Md=0;Md<m0.length;Md++){var jd=m0[Md],yO=jd.toLowerCase(),wO=jd[0].toUpperCase()+jd.slice(1);fi(yO,"on"+wO)}fi(OE,"onAnimationEnd");fi(RE,"onAnimationIteration");fi(xE,"onAnimationStart");fi("dblclick","onDoubleClick");fi("focusin","onFocus");fi("focusout","onBlur");fi(NE,"onTransitionEnd");Jo("onMouseEnter",["mouseout","mouseover"]);Jo("onMouseLeave",["mouseout","mouseover"]);Jo("onPointerEnter",["pointerout","pointerover"]);Jo("onPointerLeave",["pointerout","pointerover"]);so("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));so("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));so("onBeforeInput",["compositionend","keypress","textInput","paste"]);so("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));so("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));so("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_O=new Set("cancel close invalid load scroll toggle".split(" ").concat(ta));function g0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,yC(r,e,void 0,t),t.currentTarget=null}function LE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;g0(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;g0(i,a,u),o=l}}}if(Gu)throw t=Wh,Gu=!1,Wh=null,t}function Ke(t,e){var n=e[np];n===void 0&&(n=e[np]=new Set);var r=t+"__bubble";n.has(r)||(ME(e,t,2,!1),n.add(r))}function Vd(t,e,n){var r=0;e&&(r|=4),ME(n,t,r,e)}var tu="_reactListening"+Math.random().toString(36).slice(2);function Ma(t){if(!t[tu]){t[tu]=!0,q1.forEach(function(n){n!=="selectionchange"&&(_O.has(n)||Vd(n,!1,t),Vd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[tu]||(e[tu]=!0,Vd("selectionchange",!1,e))}}function ME(t,e,n,r){switch(wE(e)){case 1:var i=DC;break;case 4:i=LC;break;default:i=Cm}n=i.bind(null,e,n,t),i=void 0,!Hh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Fd(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Di(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}oE(function(){var u=o,c=Sm(n),f=[];e:{var d=DE.get(t);if(d!==void 0){var h=Rm,w=t;switch(t){case"keypress":if(Ou(n)===0)break e;case"keydown":case"keyup":h=YC;break;case"focusin":w="focus",h=xd;break;case"focusout":w="blur",h=xd;break;case"beforeblur":case"afterblur":h=xd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=i0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=VC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=ZC;break;case OE:case RE:case xE:h=UC;break;case NE:h=tO;break;case"scroll":h=MC;break;case"wheel":h=rO;break;case"copy":case"cut":case"paste":h=qC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=s0}var y=(e&4)!==0,_=!y&&t==="scroll",g=y?d!==null?d+"Capture":null:d;y=[];for(var p=u,E;p!==null;){E=p;var v=E.stateNode;if(E.tag===5&&v!==null&&(E=v,g!==null&&(v=Oa(p,g),v!=null&&y.push(ja(p,v,E)))),_)break;p=p.return}0<y.length&&(d=new h(d,w,null,n,c),f.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&n!==qh&&(w=n.relatedTarget||n.fromElement)&&(Di(w)||w[Tr]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(w=n.relatedTarget||n.toElement,h=u,w=w?Di(w):null,w!==null&&(_=ao(w),w!==_||w.tag!==5&&w.tag!==6)&&(w=null)):(h=null,w=u),h!==w)){if(y=i0,v="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(y=s0,v="onPointerLeave",g="onPointerEnter",p="pointer"),_=h==null?d:xo(h),E=w==null?d:xo(w),d=new y(v,p+"leave",h,n,c),d.target=_,d.relatedTarget=E,v=null,Di(c)===u&&(y=new y(g,p+"enter",w,n,c),y.target=E,y.relatedTarget=_,v=y),_=v,h&&w)t:{for(y=h,g=w,p=0,E=y;E;E=To(E))p++;for(E=0,v=g;v;v=To(v))E++;for(;0<p-E;)y=To(y),p--;for(;0<E-p;)g=To(g),E--;for(;p--;){if(y===g||g!==null&&y===g.alternate)break t;y=To(y),g=To(g)}y=null}else y=null;h!==null&&v0(f,d,h,y,!1),w!==null&&_!==null&&v0(f,_,w,y,!0)}}e:{if(d=u?xo(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var b=cO;else if(u0(d))if(SE)b=pO;else{b=dO;var k=fO}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(b=hO);if(b&&(b=b(t,u))){AE(f,b,n,c);break e}k&&k(t,d,u),t==="focusout"&&(k=d._wrapperState)&&k.controlled&&d.type==="number"&&Vh(d,"number",d.value)}switch(k=u?xo(u):window,t){case"focusin":(u0(k)||k.contentEditable==="true")&&(Oo=k,Yh=u,ha=null);break;case"focusout":ha=Yh=Oo=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,p0(f,n,c);break;case"selectionchange":if(vO)break;case"keydown":case"keyup":p0(f,n,c)}var I;if(Nm)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Co?TE(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(EE&&n.locale!=="ko"&&(Co||O!=="onCompositionStart"?O==="onCompositionEnd"&&Co&&(I=_E()):(qr=c,Om="value"in qr?qr.value:qr.textContent,Co=!0)),k=Zu(u,O),0<k.length&&(O=new o0(O,t,null,n,c),f.push({event:O,listeners:k}),I?O.data=I:(I=bE(n),I!==null&&(O.data=I)))),(I=oO?sO(t,n):aO(t,n))&&(u=Zu(u,"onBeforeInput"),0<u.length&&(c=new o0("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=I))}LE(f,e)})}function ja(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Oa(t,n),o!=null&&r.unshift(ja(t,o,i)),o=Oa(t,e),o!=null&&r.push(ja(t,o,i))),t=t.return}return r}function To(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function v0(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Oa(n,o),l!=null&&s.unshift(ja(n,l,a))):i||(l=Oa(n,o),l!=null&&s.push(ja(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var EO=/\r\n?/g,TO=/\u0000|\uFFFD/g;function y0(t){return(typeof t=="string"?t:""+t).replace(EO,`
`).replace(TO,"")}function nu(t,e,n){if(e=y0(e),y0(t)!==e&&n)throw Error(se(425))}function ec(){}var Jh=null,Zh=null;function ep(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tp=typeof setTimeout=="function"?setTimeout:void 0,bO=typeof clearTimeout=="function"?clearTimeout:void 0,w0=typeof Promise=="function"?Promise:void 0,AO=typeof queueMicrotask=="function"?queueMicrotask:typeof w0<"u"?function(t){return w0.resolve(null).then(t).catch(SO)}:tp;function SO(t){setTimeout(function(){throw t})}function Bd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Na(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Na(e)}function Yr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ys=Math.random().toString(36).slice(2),Yn="__reactFiber$"+ys,Va="__reactProps$"+ys,Tr="__reactContainer$"+ys,np="__reactEvents$"+ys,IO="__reactListeners$"+ys,kO="__reactHandles$"+ys;function Di(t){var e=t[Yn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Tr]||n[Yn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_0(t);t!==null;){if(n=t[Yn])return n;t=_0(t)}return e}t=n,n=t.parentNode}return null}function ml(t){return t=t[Yn]||t[Tr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(se(33))}function Jc(t){return t[Va]||null}var rp=[],No=-1;function di(t){return{current:t}}function Ye(t){0>No||(t.current=rp[No],rp[No]=null,No--)}function ze(t,e){No++,rp[No]=t.current,t.current=e}var ai={},Wt=di(ai),on=di(!1),Ki=ai;function Zo(t,e){var n=t.type.contextTypes;if(!n)return ai;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function sn(t){return t=t.childContextTypes,t!=null}function tc(){Ye(on),Ye(Wt)}function E0(t,e,n){if(Wt.current!==ai)throw Error(se(168));ze(Wt,e),ze(on,n)}function jE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(se(108,fC(t)||"Unknown",i));return tt({},n,r)}function nc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ai,Ki=Wt.current,ze(Wt,t),ze(on,on.current),!0}function T0(t,e,n){var r=t.stateNode;if(!r)throw Error(se(169));n?(t=jE(t,e,Ki),r.__reactInternalMemoizedMergedChildContext=t,Ye(on),Ye(Wt),ze(Wt,t)):Ye(on),ze(on,n)}var hr=null,Zc=!1,Ud=!1;function VE(t){hr===null?hr=[t]:hr.push(t)}function PO(t){Zc=!0,VE(t)}function hi(){if(!Ud&&hr!==null){Ud=!0;var t=0,e=Be;try{var n=hr;for(Be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hr=null,Zc=!1}catch(i){throw hr!==null&&(hr=hr.slice(t+1)),uE(Im,hi),i}finally{Be=e,Ud=!1}}return null}var Do=[],Lo=0,rc=null,ic=0,bn=[],An=0,Gi=null,pr=1,mr="";function ki(t,e){Do[Lo++]=ic,Do[Lo++]=rc,rc=t,ic=e}function FE(t,e,n){bn[An++]=pr,bn[An++]=mr,bn[An++]=Gi,Gi=t;var r=pr;t=mr;var i=32-Mn(r)-1;r&=~(1<<i),n+=1;var o=32-Mn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,pr=1<<32-Mn(e)+i|n<<i|r,mr=o+t}else pr=1<<o|n<<i|r,mr=t}function Lm(t){t.return!==null&&(ki(t,1),FE(t,1,0))}function Mm(t){for(;t===rc;)rc=Do[--Lo],Do[Lo]=null,ic=Do[--Lo],Do[Lo]=null;for(;t===Gi;)Gi=bn[--An],bn[An]=null,mr=bn[--An],bn[An]=null,pr=bn[--An],bn[An]=null}var mn=null,hn=null,Xe=!1,Ln=null;function BE(t,e){var n=In(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function b0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mn=t,hn=Yr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mn=t,hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Gi!==null?{id:pr,overflow:mr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=In(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,mn=t,hn=null,!0):!1;default:return!1}}function ip(t){return(t.mode&1)!==0&&(t.flags&128)===0}function op(t){if(Xe){var e=hn;if(e){var n=e;if(!b0(t,e)){if(ip(t))throw Error(se(418));e=Yr(n.nextSibling);var r=mn;e&&b0(t,e)?BE(r,n):(t.flags=t.flags&-4097|2,Xe=!1,mn=t)}}else{if(ip(t))throw Error(se(418));t.flags=t.flags&-4097|2,Xe=!1,mn=t}}}function A0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mn=t}function ru(t){if(t!==mn)return!1;if(!Xe)return A0(t),Xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ep(t.type,t.memoizedProps)),e&&(e=hn)){if(ip(t))throw UE(),Error(se(418));for(;e;)BE(t,e),e=Yr(e.nextSibling)}if(A0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(se(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){hn=Yr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}hn=null}}else hn=mn?Yr(t.stateNode.nextSibling):null;return!0}function UE(){for(var t=hn;t;)t=Yr(t.nextSibling)}function es(){hn=mn=null,Xe=!1}function jm(t){Ln===null?Ln=[t]:Ln.push(t)}var CO=Pr.ReactCurrentBatchConfig;function Nn(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var oc=di(null),sc=null,Mo=null,Vm=null;function Fm(){Vm=Mo=sc=null}function Bm(t){var e=oc.current;Ye(oc),t._currentValue=e}function sp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ho(t,e){sc=t,Vm=Mo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rn=!0),t.firstContext=null)}function On(t){var e=t._currentValue;if(Vm!==t)if(t={context:t,memoizedValue:e,next:null},Mo===null){if(sc===null)throw Error(se(308));Mo=t,sc.dependencies={lanes:0,firstContext:t}}else Mo=Mo.next=t;return e}var Li=null;function Um(t){Li===null?Li=[t]:Li.push(t)}function $E(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Um(e)):(n.next=i.next,i.next=n),e.interleaved=n,br(t,r)}function br(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Mr=!1;function $m(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,br(t,n)}return i=r.interleaved,i===null?(e.next=e,Um(r)):(e.next=i.next,i.next=e),r.interleaved=e,br(t,n)}function Ru(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,km(t,n)}}function S0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ac(t,e,n,r){var i=t.updateQueue;Mr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,y=a;switch(d=e,h=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){f=w.call(h,f,d);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,d=typeof w=="function"?w.call(h,f,d):w,d==null)break e;f=tt({},f,d);break e;case 2:Mr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Yi|=s,t.lanes=s,t.memoizedState=f}}function I0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(se(191,i));i.call(r)}}}var zE=new $1.Component().refs;function ap(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ef={isMounted:function(t){return(t=t._reactInternals)?ao(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Xt(),i=Zr(t),o=wr(r,i);o.payload=e,n!=null&&(o.callback=n),e=Xr(t,o,i),e!==null&&(jn(e,t,i,r),Ru(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Xt(),i=Zr(t),o=wr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Xr(t,o,i),e!==null&&(jn(e,t,i,r),Ru(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Xt(),r=Zr(t),i=wr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Xr(t,i,r),e!==null&&(jn(e,t,r,n),Ru(e,t,r))}};function k0(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!La(n,r)||!La(i,o):!0}function HE(t,e,n){var r=!1,i=ai,o=e.contextType;return typeof o=="object"&&o!==null?o=On(o):(i=sn(e)?Ki:Wt.current,r=e.contextTypes,o=(r=r!=null)?Zo(t,i):ai),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ef,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function P0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ef.enqueueReplaceState(e,e.state,null)}function lp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=zE,$m(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=On(o):(o=sn(e)?Ki:Wt.current,i.context=Zo(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(ap(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ef.enqueueReplaceState(i,i.state,null),ac(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function zs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(se(309));var r=n.stateNode}if(!r)throw Error(se(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===zE&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(se(284));if(!n._owner)throw Error(se(290,t))}return t}function iu(t,e){throw t=Object.prototype.toString.call(e),Error(se(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function C0(t){var e=t._init;return e(t._payload)}function WE(t){function e(g,p){if(t){var E=g.deletions;E===null?(g.deletions=[p],g.flags|=16):E.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=ei(g,p),g.index=0,g.sibling=null,g}function o(g,p,E){return g.index=E,t?(E=g.alternate,E!==null?(E=E.index,E<p?(g.flags|=2,p):E):(g.flags|=2,p)):(g.flags|=1048576,p)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,E,v){return p===null||p.tag!==6?(p=Gd(E,g.mode,v),p.return=g,p):(p=i(p,E),p.return=g,p)}function l(g,p,E,v){var b=E.type;return b===Po?c(g,p,E.props.children,v,E.key):p!==null&&(p.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Lr&&C0(b)===p.type)?(v=i(p,E.props),v.ref=zs(g,p,E),v.return=g,v):(v=ju(E.type,E.key,E.props,null,g.mode,v),v.ref=zs(g,p,E),v.return=g,v)}function u(g,p,E,v){return p===null||p.tag!==4||p.stateNode.containerInfo!==E.containerInfo||p.stateNode.implementation!==E.implementation?(p=Qd(E,g.mode,v),p.return=g,p):(p=i(p,E.children||[]),p.return=g,p)}function c(g,p,E,v,b){return p===null||p.tag!==7?(p=qi(E,g.mode,v,b),p.return=g,p):(p=i(p,E),p.return=g,p)}function f(g,p,E){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Gd(""+p,g.mode,E),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Kl:return E=ju(p.type,p.key,p.props,null,g.mode,E),E.ref=zs(g,null,p),E.return=g,E;case ko:return p=Qd(p,g.mode,E),p.return=g,p;case Lr:var v=p._init;return f(g,v(p._payload),E)}if(Zs(p)||Fs(p))return p=qi(p,g.mode,E,null),p.return=g,p;iu(g,p)}return null}function d(g,p,E,v){var b=p!==null?p.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return b!==null?null:a(g,p,""+E,v);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Kl:return E.key===b?l(g,p,E,v):null;case ko:return E.key===b?u(g,p,E,v):null;case Lr:return b=E._init,d(g,p,b(E._payload),v)}if(Zs(E)||Fs(E))return b!==null?null:c(g,p,E,v,null);iu(g,E)}return null}function h(g,p,E,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return g=g.get(E)||null,a(p,g,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Kl:return g=g.get(v.key===null?E:v.key)||null,l(p,g,v,b);case ko:return g=g.get(v.key===null?E:v.key)||null,u(p,g,v,b);case Lr:var k=v._init;return h(g,p,E,k(v._payload),b)}if(Zs(v)||Fs(v))return g=g.get(E)||null,c(p,g,v,b,null);iu(p,v)}return null}function w(g,p,E,v){for(var b=null,k=null,I=p,O=p=0,D=null;I!==null&&O<E.length;O++){I.index>O?(D=I,I=null):D=I.sibling;var C=d(g,I,E[O],v);if(C===null){I===null&&(I=D);break}t&&I&&C.alternate===null&&e(g,I),p=o(C,p,O),k===null?b=C:k.sibling=C,k=C,I=D}if(O===E.length)return n(g,I),Xe&&ki(g,O),b;if(I===null){for(;O<E.length;O++)I=f(g,E[O],v),I!==null&&(p=o(I,p,O),k===null?b=I:k.sibling=I,k=I);return Xe&&ki(g,O),b}for(I=r(g,I);O<E.length;O++)D=h(I,g,O,E[O],v),D!==null&&(t&&D.alternate!==null&&I.delete(D.key===null?O:D.key),p=o(D,p,O),k===null?b=D:k.sibling=D,k=D);return t&&I.forEach(function(P){return e(g,P)}),Xe&&ki(g,O),b}function y(g,p,E,v){var b=Fs(E);if(typeof b!="function")throw Error(se(150));if(E=b.call(E),E==null)throw Error(se(151));for(var k=b=null,I=p,O=p=0,D=null,C=E.next();I!==null&&!C.done;O++,C=E.next()){I.index>O?(D=I,I=null):D=I.sibling;var P=d(g,I,C.value,v);if(P===null){I===null&&(I=D);break}t&&I&&P.alternate===null&&e(g,I),p=o(P,p,O),k===null?b=P:k.sibling=P,k=P,I=D}if(C.done)return n(g,I),Xe&&ki(g,O),b;if(I===null){for(;!C.done;O++,C=E.next())C=f(g,C.value,v),C!==null&&(p=o(C,p,O),k===null?b=C:k.sibling=C,k=C);return Xe&&ki(g,O),b}for(I=r(g,I);!C.done;O++,C=E.next())C=h(I,g,O,C.value,v),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?O:C.key),p=o(C,p,O),k===null?b=C:k.sibling=C,k=C);return t&&I.forEach(function(R){return e(g,R)}),Xe&&ki(g,O),b}function _(g,p,E,v){if(typeof E=="object"&&E!==null&&E.type===Po&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Kl:e:{for(var b=E.key,k=p;k!==null;){if(k.key===b){if(b=E.type,b===Po){if(k.tag===7){n(g,k.sibling),p=i(k,E.props.children),p.return=g,g=p;break e}}else if(k.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Lr&&C0(b)===k.type){n(g,k.sibling),p=i(k,E.props),p.ref=zs(g,k,E),p.return=g,g=p;break e}n(g,k);break}else e(g,k);k=k.sibling}E.type===Po?(p=qi(E.props.children,g.mode,v,E.key),p.return=g,g=p):(v=ju(E.type,E.key,E.props,null,g.mode,v),v.ref=zs(g,p,E),v.return=g,g=v)}return s(g);case ko:e:{for(k=E.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===E.containerInfo&&p.stateNode.implementation===E.implementation){n(g,p.sibling),p=i(p,E.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=Qd(E,g.mode,v),p.return=g,g=p}return s(g);case Lr:return k=E._init,_(g,p,k(E._payload),v)}if(Zs(E))return w(g,p,E,v);if(Fs(E))return y(g,p,E,v);iu(g,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,p!==null&&p.tag===6?(n(g,p.sibling),p=i(p,E),p.return=g,g=p):(n(g,p),p=Gd(E,g.mode,v),p.return=g,g=p),s(g)):n(g,p)}return _}var ts=WE(!0),KE=WE(!1),gl={},nr=di(gl),Fa=di(gl),Ba=di(gl);function Mi(t){if(t===gl)throw Error(se(174));return t}function qm(t,e){switch(ze(Ba,e),ze(Fa,t),ze(nr,gl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bh(e,t)}Ye(nr),ze(nr,e)}function ns(){Ye(nr),Ye(Fa),Ye(Ba)}function GE(t){Mi(Ba.current);var e=Mi(nr.current),n=Bh(e,t.type);e!==n&&(ze(Fa,t),ze(nr,n))}function zm(t){Fa.current===t&&(Ye(nr),Ye(Fa))}var Ze=di(0);function lc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $d=[];function Hm(){for(var t=0;t<$d.length;t++)$d[t]._workInProgressVersionPrimary=null;$d.length=0}var xu=Pr.ReactCurrentDispatcher,qd=Pr.ReactCurrentBatchConfig,Qi=0,et=null,mt=null,Tt=null,uc=!1,pa=!1,Ua=0,OO=0;function Vt(){throw Error(se(321))}function Wm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Fn(t[n],e[n]))return!1;return!0}function Km(t,e,n,r,i,o){if(Qi=o,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xu.current=t===null||t.memoizedState===null?DO:LO,t=n(r,i),pa){o=0;do{if(pa=!1,Ua=0,25<=o)throw Error(se(301));o+=1,Tt=mt=null,e.updateQueue=null,xu.current=MO,t=n(r,i)}while(pa)}if(xu.current=cc,e=mt!==null&&mt.next!==null,Qi=0,Tt=mt=et=null,uc=!1,e)throw Error(se(300));return t}function Gm(){var t=Ua!==0;return Ua=0,t}function Qn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?et.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function Rn(){if(mt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var e=Tt===null?et.memoizedState:Tt.next;if(e!==null)Tt=e,mt=t;else{if(t===null)throw Error(se(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Tt===null?et.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function $a(t,e){return typeof e=="function"?e(t):e}function zd(t){var e=Rn(),n=e.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=t;var r=mt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Qi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,et.lanes|=c,Yi|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Fn(r,e.memoizedState)||(rn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,et.lanes|=o,Yi|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Hd(t){var e=Rn(),n=e.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Fn(o,e.memoizedState)||(rn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function QE(){}function YE(t,e){var n=et,r=Rn(),i=e(),o=!Fn(r.memoizedState,i);if(o&&(r.memoizedState=i,rn=!0),r=r.queue,Qm(ZE.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Tt!==null&&Tt.memoizedState.tag&1){if(n.flags|=2048,qa(9,JE.bind(null,n,r,i,e),void 0,null),bt===null)throw Error(se(349));Qi&30||XE(n,e,i)}return i}function XE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function JE(t,e,n,r){e.value=n,e.getSnapshot=r,eT(e)&&tT(t)}function ZE(t,e,n){return n(function(){eT(e)&&tT(t)})}function eT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Fn(t,n)}catch{return!0}}function tT(t){var e=br(t,1);e!==null&&jn(e,t,1,-1)}function O0(t){var e=Qn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:t},e.queue=t,t=t.dispatch=NO.bind(null,et,t),[e.memoizedState,t]}function qa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function nT(){return Rn().memoizedState}function Nu(t,e,n,r){var i=Qn();et.flags|=t,i.memoizedState=qa(1|e,n,void 0,r===void 0?null:r)}function tf(t,e,n,r){var i=Rn();r=r===void 0?null:r;var o=void 0;if(mt!==null){var s=mt.memoizedState;if(o=s.destroy,r!==null&&Wm(r,s.deps)){i.memoizedState=qa(e,n,o,r);return}}et.flags|=t,i.memoizedState=qa(1|e,n,o,r)}function R0(t,e){return Nu(8390656,8,t,e)}function Qm(t,e){return tf(2048,8,t,e)}function rT(t,e){return tf(4,2,t,e)}function iT(t,e){return tf(4,4,t,e)}function oT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sT(t,e,n){return n=n!=null?n.concat([t]):null,tf(4,4,oT.bind(null,e,t),n)}function Ym(){}function aT(t,e){var n=Rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function lT(t,e){var n=Rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function uT(t,e,n){return Qi&21?(Fn(n,e)||(n=dE(),et.lanes|=n,Yi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rn=!0),t.memoizedState=n)}function RO(t,e){var n=Be;Be=n!==0&&4>n?n:4,t(!0);var r=qd.transition;qd.transition={};try{t(!1),e()}finally{Be=n,qd.transition=r}}function cT(){return Rn().memoizedState}function xO(t,e,n){var r=Zr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fT(t))dT(e,n);else if(n=$E(t,e,n,r),n!==null){var i=Xt();jn(n,t,r,i),hT(n,e,r)}}function NO(t,e,n){var r=Zr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fT(t))dT(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Fn(a,s)){var l=e.interleaved;l===null?(i.next=i,Um(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=$E(t,e,i,r),n!==null&&(i=Xt(),jn(n,t,r,i),hT(n,e,r))}}function fT(t){var e=t.alternate;return t===et||e!==null&&e===et}function dT(t,e){pa=uc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function hT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,km(t,n)}}var cc={readContext:On,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},DO={readContext:On,useCallback:function(t,e){return Qn().memoizedState=[t,e===void 0?null:e],t},useContext:On,useEffect:R0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Nu(4194308,4,oT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Nu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Nu(4,2,t,e)},useMemo:function(t,e){var n=Qn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Qn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=xO.bind(null,et,t),[r.memoizedState,t]},useRef:function(t){var e=Qn();return t={current:t},e.memoizedState=t},useState:O0,useDebugValue:Ym,useDeferredValue:function(t){return Qn().memoizedState=t},useTransition:function(){var t=O0(!1),e=t[0];return t=RO.bind(null,t[1]),Qn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=et,i=Qn();if(Xe){if(n===void 0)throw Error(se(407));n=n()}else{if(n=e(),bt===null)throw Error(se(349));Qi&30||XE(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,R0(ZE.bind(null,r,o,t),[t]),r.flags|=2048,qa(9,JE.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Qn(),e=bt.identifierPrefix;if(Xe){var n=mr,r=pr;n=(r&~(1<<32-Mn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ua++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=OO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},LO={readContext:On,useCallback:aT,useContext:On,useEffect:Qm,useImperativeHandle:sT,useInsertionEffect:rT,useLayoutEffect:iT,useMemo:lT,useReducer:zd,useRef:nT,useState:function(){return zd($a)},useDebugValue:Ym,useDeferredValue:function(t){var e=Rn();return uT(e,mt.memoizedState,t)},useTransition:function(){var t=zd($a)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:QE,useSyncExternalStore:YE,useId:cT,unstable_isNewReconciler:!1},MO={readContext:On,useCallback:aT,useContext:On,useEffect:Qm,useImperativeHandle:sT,useInsertionEffect:rT,useLayoutEffect:iT,useMemo:lT,useReducer:Hd,useRef:nT,useState:function(){return Hd($a)},useDebugValue:Ym,useDeferredValue:function(t){var e=Rn();return mt===null?e.memoizedState=t:uT(e,mt.memoizedState,t)},useTransition:function(){var t=Hd($a)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:QE,useSyncExternalStore:YE,useId:cT,unstable_isNewReconciler:!1};function rs(t,e){try{var n="",r=e;do n+=cC(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Wd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function up(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var jO=typeof WeakMap=="function"?WeakMap:Map;function pT(t,e,n){n=wr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){dc||(dc=!0,wp=r),up(t,e)},n}function mT(t,e,n){n=wr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){up(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){up(t,e),typeof r!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function x0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new jO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=XO.bind(null,t,e,n),e.then(t,t))}function N0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function D0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wr(-1,1),e.tag=2,Xr(n,e,1))),n.lanes|=1),t)}var VO=Pr.ReactCurrentOwner,rn=!1;function Qt(t,e,n,r){e.child=t===null?KE(e,null,n,r):ts(e,t.child,n,r)}function L0(t,e,n,r,i){n=n.render;var o=e.ref;return Ho(e,i),r=Km(t,e,n,r,o,i),n=Gm(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ar(t,e,i)):(Xe&&n&&Lm(e),e.flags|=1,Qt(t,e,r,i),e.child)}function M0(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!ig(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,gT(t,e,o,r,i)):(t=ju(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:La,n(s,r)&&t.ref===e.ref)return Ar(t,e,i)}return e.flags|=1,t=ei(o,r),t.ref=e.ref,t.return=e,e.child=t}function gT(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(La(o,r)&&t.ref===e.ref)if(rn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(rn=!0);else return e.lanes=t.lanes,Ar(t,e,i)}return cp(t,e,n,r,i)}function vT(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Vo,dn),dn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ze(Vo,dn),dn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ze(Vo,dn),dn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ze(Vo,dn),dn|=r;return Qt(t,e,i,n),e.child}function yT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cp(t,e,n,r,i){var o=sn(n)?Ki:Wt.current;return o=Zo(e,o),Ho(e,i),n=Km(t,e,n,r,o,i),r=Gm(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ar(t,e,i)):(Xe&&r&&Lm(e),e.flags|=1,Qt(t,e,n,i),e.child)}function j0(t,e,n,r,i){if(sn(n)){var o=!0;nc(e)}else o=!1;if(Ho(e,i),e.stateNode===null)Du(t,e),HE(e,n,r),lp(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=On(u):(u=sn(n)?Ki:Wt.current,u=Zo(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&P0(e,s,r,u),Mr=!1;var d=e.memoizedState;s.state=d,ac(e,r,s,i),l=e.memoizedState,a!==r||d!==l||on.current||Mr?(typeof c=="function"&&(ap(e,n,c,r),l=e.memoizedState),(a=Mr||k0(e,n,a,r,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,qE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Nn(e.type,a),s.props=u,f=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=On(l):(l=sn(n)?Ki:Wt.current,l=Zo(e,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&P0(e,s,r,l),Mr=!1,d=e.memoizedState,s.state=d,ac(e,r,s,i);var w=e.memoizedState;a!==f||d!==w||on.current||Mr?(typeof h=="function"&&(ap(e,n,h,r),w=e.memoizedState),(u=Mr||k0(e,n,u,r,d,w,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,w,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,w,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),s.props=r,s.state=w,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return fp(t,e,n,r,o,i)}function fp(t,e,n,r,i,o){yT(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&T0(e,n,!1),Ar(t,e,o);r=e.stateNode,VO.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=ts(e,t.child,null,o),e.child=ts(e,null,a,o)):Qt(t,e,a,o),e.memoizedState=r.state,i&&T0(e,n,!0),e.child}function wT(t){var e=t.stateNode;e.pendingContext?E0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&E0(t,e.context,!1),qm(t,e.containerInfo)}function V0(t,e,n,r,i){return es(),jm(i),e.flags|=256,Qt(t,e,n,r),e.child}var dp={dehydrated:null,treeContext:null,retryLane:0};function hp(t){return{baseLanes:t,cachePool:null,transitions:null}}function _T(t,e,n){var r=e.pendingProps,i=Ze.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ze(Ze,i&1),t===null)return op(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=of(s,r,0,null),t=qi(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=hp(n),e.memoizedState=dp,t):Xm(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return FO(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ei(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=ei(a,o):(o=qi(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?hp(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=dp,r}return o=t.child,t=o.sibling,r=ei(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Xm(t,e){return e=of({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ou(t,e,n,r){return r!==null&&jm(r),ts(e,t.child,null,n),t=Xm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function FO(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Wd(Error(se(422))),ou(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=of({mode:"visible",children:r.children},i,0,null),o=qi(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ts(e,t.child,null,s),e.child.memoizedState=hp(s),e.memoizedState=dp,o);if(!(e.mode&1))return ou(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(se(419)),r=Wd(o,r,void 0),ou(t,e,s,r)}if(a=(s&t.childLanes)!==0,rn||a){if(r=bt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,br(t,i),jn(r,t,i,-1))}return rg(),r=Wd(Error(se(421))),ou(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=JO.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,hn=Yr(i.nextSibling),mn=e,Xe=!0,Ln=null,t!==null&&(bn[An++]=pr,bn[An++]=mr,bn[An++]=Gi,pr=t.id,mr=t.overflow,Gi=e),e=Xm(e,r.children),e.flags|=4096,e)}function F0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),sp(t.return,e,n)}function Kd(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function ET(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Qt(t,e,r.children,n),r=Ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&F0(t,n,e);else if(t.tag===19)F0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ze(Ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&lc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Kd(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&lc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Kd(e,!0,n,null,o);break;case"together":Kd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Du(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ar(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Yi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(se(153));if(e.child!==null){for(t=e.child,n=ei(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ei(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function BO(t,e,n){switch(e.tag){case 3:wT(e),es();break;case 5:GE(e);break;case 1:sn(e.type)&&nc(e);break;case 4:qm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ze(oc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ze(Ze,Ze.current&1),e.flags|=128,null):n&e.child.childLanes?_T(t,e,n):(ze(Ze,Ze.current&1),t=Ar(t,e,n),t!==null?t.sibling:null);ze(Ze,Ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ET(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ze(Ze,Ze.current),r)break;return null;case 22:case 23:return e.lanes=0,vT(t,e,n)}return Ar(t,e,n)}var TT,pp,bT,AT;TT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pp=function(){};bT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Mi(nr.current);var o=null;switch(n){case"input":i=Mh(t,i),r=Mh(t,r),o=[];break;case"select":i=tt({},i,{value:void 0}),r=tt({},r,{value:void 0}),o=[];break;case"textarea":i=Fh(t,i),r=Fh(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ec)}Uh(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pa.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pa.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ke("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};AT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Hs(t,e){if(!Xe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function UO(t,e,n){var r=e.pendingProps;switch(Mm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(e),null;case 1:return sn(e.type)&&tc(),Ft(e),null;case 3:return r=e.stateNode,ns(),Ye(on),Ye(Wt),Hm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ru(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ln!==null&&(Tp(Ln),Ln=null))),pp(t,e),Ft(e),null;case 5:zm(e);var i=Mi(Ba.current);if(n=e.type,t!==null&&e.stateNode!=null)bT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(se(166));return Ft(e),null}if(t=Mi(nr.current),ru(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Yn]=e,r[Va]=o,t=(e.mode&1)!==0,n){case"dialog":Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(i=0;i<ta.length;i++)Ke(ta[i],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"input":Gy(r,o),Ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ke("invalid",r);break;case"textarea":Yy(r,o),Ke("invalid",r)}Uh(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&nu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&nu(r.textContent,a,t),i=["children",""+a]):Pa.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ke("scroll",r)}switch(n){case"input":Gl(r),Qy(r,o,!0);break;case"textarea":Gl(r),Xy(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ec)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=X1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Yn]=e,t[Va]=r,TT(t,e,!1,!1),e.stateNode=t;e:{switch(s=$h(n,r),n){case"dialog":Ke("cancel",t),Ke("close",t),i=r;break;case"iframe":case"object":case"embed":Ke("load",t),i=r;break;case"video":case"audio":for(i=0;i<ta.length;i++)Ke(ta[i],t);i=r;break;case"source":Ke("error",t),i=r;break;case"img":case"image":case"link":Ke("error",t),Ke("load",t),i=r;break;case"details":Ke("toggle",t),i=r;break;case"input":Gy(t,r),i=Mh(t,r),Ke("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=tt({},r,{value:void 0}),Ke("invalid",t);break;case"textarea":Yy(t,r),i=Fh(t,r),Ke("invalid",t);break;default:i=r}Uh(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?eE(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&J1(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ca(t,l):typeof l=="number"&&Ca(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Pa.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ke("scroll",t):l!=null&&Em(t,o,l,s))}switch(n){case"input":Gl(t),Qy(t,r,!1);break;case"textarea":Gl(t),Xy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+si(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Uo(t,!!r.multiple,o,!1):r.defaultValue!=null&&Uo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ec)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ft(e),null;case 6:if(t&&e.stateNode!=null)AT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(se(166));if(n=Mi(Ba.current),Mi(nr.current),ru(e)){if(r=e.stateNode,n=e.memoizedProps,r[Yn]=e,(o=r.nodeValue!==n)&&(t=mn,t!==null))switch(t.tag){case 3:nu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&nu(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yn]=e,e.stateNode=r}return Ft(e),null;case 13:if(Ye(Ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xe&&hn!==null&&e.mode&1&&!(e.flags&128))UE(),es(),e.flags|=98560,o=!1;else if(o=ru(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(se(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(se(317));o[Yn]=e}else es(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ft(e),o=!1}else Ln!==null&&(Tp(Ln),Ln=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ze.current&1?vt===0&&(vt=3):rg())),e.updateQueue!==null&&(e.flags|=4),Ft(e),null);case 4:return ns(),pp(t,e),t===null&&Ma(e.stateNode.containerInfo),Ft(e),null;case 10:return Bm(e.type._context),Ft(e),null;case 17:return sn(e.type)&&tc(),Ft(e),null;case 19:if(Ye(Ze),o=e.memoizedState,o===null)return Ft(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Hs(o,!1);else{if(vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=lc(t),s!==null){for(e.flags|=128,Hs(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ze(Ze,Ze.current&1|2),e.child}t=t.sibling}o.tail!==null&&lt()>is&&(e.flags|=128,r=!0,Hs(o,!1),e.lanes=4194304)}else{if(!r)if(t=lc(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Xe)return Ft(e),null}else 2*lt()-o.renderingStartTime>is&&n!==1073741824&&(e.flags|=128,r=!0,Hs(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=lt(),e.sibling=null,n=Ze.current,ze(Ze,r?n&1|2:n&1),e):(Ft(e),null);case 22:case 23:return ng(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?dn&1073741824&&(Ft(e),e.subtreeFlags&6&&(e.flags|=8192)):Ft(e),null;case 24:return null;case 25:return null}throw Error(se(156,e.tag))}function $O(t,e){switch(Mm(e),e.tag){case 1:return sn(e.type)&&tc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ns(),Ye(on),Ye(Wt),Hm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return zm(e),null;case 13:if(Ye(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(se(340));es()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(Ze),null;case 4:return ns(),null;case 10:return Bm(e.type._context),null;case 22:case 23:return ng(),null;case 24:return null;default:return null}}var su=!1,$t=!1,qO=typeof WeakSet=="function"?WeakSet:Set,he=null;function jo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){it(t,e,r)}else n.current=null}function mp(t,e,n){try{n()}catch(r){it(t,e,r)}}var B0=!1;function zO(t,e){if(Jh=Xu,t=PE(),Dm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zh={focusedElem:t,selectionRange:n},Xu=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,_=w.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Nn(e.type,y),_);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(v){it(e,e.return,v)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return w=B0,B0=!1,w}function ma(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&mp(e,n,o)}i=i.next}while(i!==r)}}function nf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function gp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ST(t){var e=t.alternate;e!==null&&(t.alternate=null,ST(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Yn],delete e[Va],delete e[np],delete e[IO],delete e[kO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function IT(t){return t.tag===5||t.tag===3||t.tag===4}function U0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||IT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ec));else if(r!==4&&(t=t.child,t!==null))for(vp(t,e,n),t=t.sibling;t!==null;)vp(t,e,n),t=t.sibling}function yp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(yp(t,e,n),t=t.sibling;t!==null;)yp(t,e,n),t=t.sibling}var kt=null,Dn=!1;function Nr(t,e,n){for(n=n.child;n!==null;)kT(t,e,n),n=n.sibling}function kT(t,e,n){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(Gc,n)}catch{}switch(n.tag){case 5:$t||jo(n,e);case 6:var r=kt,i=Dn;kt=null,Nr(t,e,n),kt=r,Dn=i,kt!==null&&(Dn?(t=kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):kt.removeChild(n.stateNode));break;case 18:kt!==null&&(Dn?(t=kt,n=n.stateNode,t.nodeType===8?Bd(t.parentNode,n):t.nodeType===1&&Bd(t,n),Na(t)):Bd(kt,n.stateNode));break;case 4:r=kt,i=Dn,kt=n.stateNode.containerInfo,Dn=!0,Nr(t,e,n),kt=r,Dn=i;break;case 0:case 11:case 14:case 15:if(!$t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&mp(n,e,s),i=i.next}while(i!==r)}Nr(t,e,n);break;case 1:if(!$t&&(jo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){it(n,e,a)}Nr(t,e,n);break;case 21:Nr(t,e,n);break;case 22:n.mode&1?($t=(r=$t)||n.memoizedState!==null,Nr(t,e,n),$t=r):Nr(t,e,n);break;default:Nr(t,e,n)}}function $0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new qO),e.forEach(function(r){var i=ZO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:kt=a.stateNode,Dn=!1;break e;case 3:kt=a.stateNode.containerInfo,Dn=!0;break e;case 4:kt=a.stateNode.containerInfo,Dn=!0;break e}a=a.return}if(kt===null)throw Error(se(160));kT(o,s,i),kt=null,Dn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){it(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)PT(e,t),e=e.sibling}function PT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xn(e,t),Kn(t),r&4){try{ma(3,t,t.return),nf(3,t)}catch(y){it(t,t.return,y)}try{ma(5,t,t.return)}catch(y){it(t,t.return,y)}}break;case 1:xn(e,t),Kn(t),r&512&&n!==null&&jo(n,n.return);break;case 5:if(xn(e,t),Kn(t),r&512&&n!==null&&jo(n,n.return),t.flags&32){var i=t.stateNode;try{Ca(i,"")}catch(y){it(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Q1(i,o),$h(a,s);var u=$h(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?eE(i,f):c==="dangerouslySetInnerHTML"?J1(i,f):c==="children"?Ca(i,f):Em(i,c,f,u)}switch(a){case"input":jh(i,o);break;case"textarea":Y1(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Uo(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?Uo(i,!!o.multiple,o.defaultValue,!0):Uo(i,!!o.multiple,o.multiple?[]:"",!1))}i[Va]=o}catch(y){it(t,t.return,y)}}break;case 6:if(xn(e,t),Kn(t),r&4){if(t.stateNode===null)throw Error(se(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){it(t,t.return,y)}}break;case 3:if(xn(e,t),Kn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Na(e.containerInfo)}catch(y){it(t,t.return,y)}break;case 4:xn(e,t),Kn(t);break;case 13:xn(e,t),Kn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(eg=lt())),r&4&&$0(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?($t=(u=$t)||c,xn(e,t),$t=u):xn(e,t),Kn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(he=t,c=t.child;c!==null;){for(f=he=c;he!==null;){switch(d=he,h=d.child,d.tag){case 0:case 11:case 14:case 15:ma(4,d,d.return);break;case 1:jo(d,d.return);var w=d.stateNode;if(typeof w.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(y){it(r,n,y)}}break;case 5:jo(d,d.return);break;case 22:if(d.memoizedState!==null){z0(f);continue}}h!==null?(h.return=d,he=h):z0(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Z1("display",s))}catch(y){it(t,t.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){it(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:xn(e,t),Kn(t),r&4&&$0(t);break;case 21:break;default:xn(e,t),Kn(t)}}function Kn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(IT(n)){var r=n;break e}n=n.return}throw Error(se(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ca(i,""),r.flags&=-33);var o=U0(t);yp(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=U0(t);vp(t,a,s);break;default:throw Error(se(161))}}catch(l){it(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function HO(t,e,n){he=t,CT(t)}function CT(t,e,n){for(var r=(t.mode&1)!==0;he!==null;){var i=he,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||su;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||$t;a=su;var u=$t;if(su=s,($t=l)&&!u)for(he=i;he!==null;)s=he,l=s.child,s.tag===22&&s.memoizedState!==null?H0(i):l!==null?(l.return=s,he=l):H0(i);for(;o!==null;)he=o,CT(o),o=o.sibling;he=i,su=a,$t=u}q0(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,he=o):q0(t)}}function q0(t){for(;he!==null;){var e=he;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$t||nf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$t)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Nn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&I0(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}I0(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Na(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}$t||e.flags&512&&gp(e)}catch(d){it(e,e.return,d)}}if(e===t){he=null;break}if(n=e.sibling,n!==null){n.return=e.return,he=n;break}he=e.return}}function z0(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var n=e.sibling;if(n!==null){n.return=e.return,he=n;break}he=e.return}}function H0(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{nf(4,e)}catch(l){it(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){it(e,i,l)}}var o=e.return;try{gp(e)}catch(l){it(e,o,l)}break;case 5:var s=e.return;try{gp(e)}catch(l){it(e,s,l)}}}catch(l){it(e,e.return,l)}if(e===t){he=null;break}var a=e.sibling;if(a!==null){a.return=e.return,he=a;break}he=e.return}}var WO=Math.ceil,fc=Pr.ReactCurrentDispatcher,Jm=Pr.ReactCurrentOwner,kn=Pr.ReactCurrentBatchConfig,je=0,bt=null,ht=null,Rt=0,dn=0,Vo=di(0),vt=0,za=null,Yi=0,rf=0,Zm=0,ga=null,tn=null,eg=0,is=1/0,dr=null,dc=!1,wp=null,Jr=null,au=!1,zr=null,hc=0,va=0,_p=null,Lu=-1,Mu=0;function Xt(){return je&6?lt():Lu!==-1?Lu:Lu=lt()}function Zr(t){return t.mode&1?je&2&&Rt!==0?Rt&-Rt:CO.transition!==null?(Mu===0&&(Mu=dE()),Mu):(t=Be,t!==0||(t=window.event,t=t===void 0?16:wE(t.type)),t):1}function jn(t,e,n,r){if(50<va)throw va=0,_p=null,Error(se(185));hl(t,n,r),(!(je&2)||t!==bt)&&(t===bt&&(!(je&2)&&(rf|=n),vt===4&&Vr(t,Rt)),an(t,r),n===1&&je===0&&!(e.mode&1)&&(is=lt()+500,Zc&&hi()))}function an(t,e){var n=t.callbackNode;CC(t,e);var r=Yu(t,t===bt?Rt:0);if(r===0)n!==null&&e0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&e0(n),e===1)t.tag===0?PO(W0.bind(null,t)):VE(W0.bind(null,t)),AO(function(){!(je&6)&&hi()}),n=null;else{switch(hE(r)){case 1:n=Im;break;case 4:n=cE;break;case 16:n=Qu;break;case 536870912:n=fE;break;default:n=Qu}n=jT(n,OT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function OT(t,e){if(Lu=-1,Mu=0,je&6)throw Error(se(327));var n=t.callbackNode;if(Wo()&&t.callbackNode!==n)return null;var r=Yu(t,t===bt?Rt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=pc(t,r);else{e=r;var i=je;je|=2;var o=xT();(bt!==t||Rt!==e)&&(dr=null,is=lt()+500,$i(t,e));do try{QO();break}catch(a){RT(t,a)}while(1);Fm(),fc.current=o,je=i,ht!==null?e=0:(bt=null,Rt=0,e=vt)}if(e!==0){if(e===2&&(i=Kh(t),i!==0&&(r=i,e=Ep(t,i))),e===1)throw n=za,$i(t,0),Vr(t,r),an(t,lt()),n;if(e===6)Vr(t,r);else{if(i=t.current.alternate,!(r&30)&&!KO(i)&&(e=pc(t,r),e===2&&(o=Kh(t),o!==0&&(r=o,e=Ep(t,o))),e===1))throw n=za,$i(t,0),Vr(t,r),an(t,lt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(se(345));case 2:Pi(t,tn,dr);break;case 3:if(Vr(t,r),(r&130023424)===r&&(e=eg+500-lt(),10<e)){if(Yu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Xt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=tp(Pi.bind(null,t,tn,dr),e);break}Pi(t,tn,dr);break;case 4:if(Vr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Mn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*WO(r/1960))-r,10<r){t.timeoutHandle=tp(Pi.bind(null,t,tn,dr),r);break}Pi(t,tn,dr);break;case 5:Pi(t,tn,dr);break;default:throw Error(se(329))}}}return an(t,lt()),t.callbackNode===n?OT.bind(null,t):null}function Ep(t,e){var n=ga;return t.current.memoizedState.isDehydrated&&($i(t,e).flags|=256),t=pc(t,e),t!==2&&(e=tn,tn=n,e!==null&&Tp(e)),t}function Tp(t){tn===null?tn=t:tn.push.apply(tn,t)}function KO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Fn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vr(t,e){for(e&=~Zm,e&=~rf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Mn(e),r=1<<n;t[n]=-1,e&=~r}}function W0(t){if(je&6)throw Error(se(327));Wo();var e=Yu(t,0);if(!(e&1))return an(t,lt()),null;var n=pc(t,e);if(t.tag!==0&&n===2){var r=Kh(t);r!==0&&(e=r,n=Ep(t,r))}if(n===1)throw n=za,$i(t,0),Vr(t,e),an(t,lt()),n;if(n===6)throw Error(se(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pi(t,tn,dr),an(t,lt()),null}function tg(t,e){var n=je;je|=1;try{return t(e)}finally{je=n,je===0&&(is=lt()+500,Zc&&hi())}}function Xi(t){zr!==null&&zr.tag===0&&!(je&6)&&Wo();var e=je;je|=1;var n=kn.transition,r=Be;try{if(kn.transition=null,Be=1,t)return t()}finally{Be=r,kn.transition=n,je=e,!(je&6)&&hi()}}function ng(){dn=Vo.current,Ye(Vo)}function $i(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,bO(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(Mm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&tc();break;case 3:ns(),Ye(on),Ye(Wt),Hm();break;case 5:zm(r);break;case 4:ns();break;case 13:Ye(Ze);break;case 19:Ye(Ze);break;case 10:Bm(r.type._context);break;case 22:case 23:ng()}n=n.return}if(bt=t,ht=t=ei(t.current,null),Rt=dn=e,vt=0,za=null,Zm=rf=Yi=0,tn=ga=null,Li!==null){for(e=0;e<Li.length;e++)if(n=Li[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Li=null}return t}function RT(t,e){do{var n=ht;try{if(Fm(),xu.current=cc,uc){for(var r=et.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}uc=!1}if(Qi=0,Tt=mt=et=null,pa=!1,Ua=0,Jm.current=null,n===null||n.return===null){vt=1,za=e,ht=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Rt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=N0(s);if(h!==null){h.flags&=-257,D0(h,s,a,o,e),h.mode&1&&x0(o,u,e),e=h,l=u;var w=e.updateQueue;if(w===null){var y=new Set;y.add(l),e.updateQueue=y}else w.add(l);break e}else{if(!(e&1)){x0(o,u,e),rg();break e}l=Error(se(426))}}else if(Xe&&a.mode&1){var _=N0(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),D0(_,s,a,o,e),jm(rs(l,a));break e}}o=l=rs(l,a),vt!==4&&(vt=2),ga===null?ga=[o]:ga.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=pT(o,l,e);S0(o,g);break e;case 1:a=l;var p=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Jr===null||!Jr.has(E)))){o.flags|=65536,e&=-e,o.lanes|=e;var v=mT(o,a,e);S0(o,v);break e}}o=o.return}while(o!==null)}DT(n)}catch(b){e=b,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(1)}function xT(){var t=fc.current;return fc.current=cc,t===null?cc:t}function rg(){(vt===0||vt===3||vt===2)&&(vt=4),bt===null||!(Yi&268435455)&&!(rf&268435455)||Vr(bt,Rt)}function pc(t,e){var n=je;je|=2;var r=xT();(bt!==t||Rt!==e)&&(dr=null,$i(t,e));do try{GO();break}catch(i){RT(t,i)}while(1);if(Fm(),je=n,fc.current=r,ht!==null)throw Error(se(261));return bt=null,Rt=0,vt}function GO(){for(;ht!==null;)NT(ht)}function QO(){for(;ht!==null&&!_C();)NT(ht)}function NT(t){var e=MT(t.alternate,t,dn);t.memoizedProps=t.pendingProps,e===null?DT(t):ht=e,Jm.current=null}function DT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$O(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vt=6,ht=null;return}}else if(n=UO(n,e,dn),n!==null){ht=n;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);vt===0&&(vt=5)}function Pi(t,e,n){var r=Be,i=kn.transition;try{kn.transition=null,Be=1,YO(t,e,n,r)}finally{kn.transition=i,Be=r}return null}function YO(t,e,n,r){do Wo();while(zr!==null);if(je&6)throw Error(se(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(se(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(OC(t,o),t===bt&&(ht=bt=null,Rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||au||(au=!0,jT(Qu,function(){return Wo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=kn.transition,kn.transition=null;var s=Be;Be=1;var a=je;je|=4,Jm.current=null,zO(t,n),PT(n,t),gO(Zh),Xu=!!Jh,Zh=Jh=null,t.current=n,HO(n),EC(),je=a,Be=s,kn.transition=o}else t.current=n;if(au&&(au=!1,zr=t,hc=i),o=t.pendingLanes,o===0&&(Jr=null),AC(n.stateNode),an(t,lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(dc)throw dc=!1,t=wp,wp=null,t;return hc&1&&t.tag!==0&&Wo(),o=t.pendingLanes,o&1?t===_p?va++:(va=0,_p=t):va=0,hi(),null}function Wo(){if(zr!==null){var t=hE(hc),e=kn.transition,n=Be;try{if(kn.transition=null,Be=16>t?16:t,zr===null)var r=!1;else{if(t=zr,zr=null,hc=0,je&6)throw Error(se(331));var i=je;for(je|=4,he=t.current;he!==null;){var o=he,s=o.child;if(he.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(he=u;he!==null;){var c=he;switch(c.tag){case 0:case 11:case 15:ma(8,c,o)}var f=c.child;if(f!==null)f.return=c,he=f;else for(;he!==null;){c=he;var d=c.sibling,h=c.return;if(ST(c),c===u){he=null;break}if(d!==null){d.return=h,he=d;break}he=h}}}var w=o.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}he=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,he=s;else e:for(;he!==null;){if(o=he,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ma(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,he=g;break e}he=o.return}}var p=t.current;for(he=p;he!==null;){s=he;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,he=E;else e:for(s=p;he!==null;){if(a=he,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:nf(9,a)}}catch(b){it(a,a.return,b)}if(a===s){he=null;break e}var v=a.sibling;if(v!==null){v.return=a.return,he=v;break e}he=a.return}}if(je=i,hi(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(Gc,t)}catch{}r=!0}return r}finally{Be=n,kn.transition=e}}return!1}function K0(t,e,n){e=rs(n,e),e=pT(t,e,1),t=Xr(t,e,1),e=Xt(),t!==null&&(hl(t,1,e),an(t,e))}function it(t,e,n){if(t.tag===3)K0(t,t,n);else for(;e!==null;){if(e.tag===3){K0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Jr===null||!Jr.has(r))){t=rs(n,t),t=mT(e,t,1),e=Xr(e,t,1),t=Xt(),e!==null&&(hl(e,1,t),an(e,t));break}}e=e.return}}function XO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Xt(),t.pingedLanes|=t.suspendedLanes&n,bt===t&&(Rt&n)===n&&(vt===4||vt===3&&(Rt&130023424)===Rt&&500>lt()-eg?$i(t,0):Zm|=n),an(t,e)}function LT(t,e){e===0&&(t.mode&1?(e=Xl,Xl<<=1,!(Xl&130023424)&&(Xl=4194304)):e=1);var n=Xt();t=br(t,e),t!==null&&(hl(t,e,n),an(t,n))}function JO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),LT(t,n)}function ZO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(se(314))}r!==null&&r.delete(e),LT(t,n)}var MT;MT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||on.current)rn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rn=!1,BO(t,e,n);rn=!!(t.flags&131072)}else rn=!1,Xe&&e.flags&1048576&&FE(e,ic,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Du(t,e),t=e.pendingProps;var i=Zo(e,Wt.current);Ho(e,n),i=Km(null,e,r,t,i,n);var o=Gm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sn(r)?(o=!0,nc(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$m(e),i.updater=ef,e.stateNode=i,i._reactInternals=e,lp(e,r,t,n),e=fp(null,e,r,!0,o,n)):(e.tag=0,Xe&&o&&Lm(e),Qt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Du(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=tR(r),t=Nn(r,t),i){case 0:e=cp(null,e,r,t,n);break e;case 1:e=j0(null,e,r,t,n);break e;case 11:e=L0(null,e,r,t,n);break e;case 14:e=M0(null,e,r,Nn(r.type,t),n);break e}throw Error(se(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nn(r,i),cp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nn(r,i),j0(t,e,r,i,n);case 3:e:{if(wT(e),t===null)throw Error(se(387));r=e.pendingProps,o=e.memoizedState,i=o.element,qE(t,e),ac(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=rs(Error(se(423)),e),e=V0(t,e,r,n,i);break e}else if(r!==i){i=rs(Error(se(424)),e),e=V0(t,e,r,n,i);break e}else for(hn=Yr(e.stateNode.containerInfo.firstChild),mn=e,Xe=!0,Ln=null,n=KE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(es(),r===i){e=Ar(t,e,n);break e}Qt(t,e,r,n)}e=e.child}return e;case 5:return GE(e),t===null&&op(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,ep(r,i)?s=null:o!==null&&ep(r,o)&&(e.flags|=32),yT(t,e),Qt(t,e,s,n),e.child;case 6:return t===null&&op(e),null;case 13:return _T(t,e,n);case 4:return qm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ts(e,null,r,n):Qt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nn(r,i),L0(t,e,r,i,n);case 7:return Qt(t,e,e.pendingProps,n),e.child;case 8:return Qt(t,e,e.pendingProps.children,n),e.child;case 12:return Qt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,ze(oc,r._currentValue),r._currentValue=s,o!==null)if(Fn(o.value,s)){if(o.children===i.children&&!on.current){e=Ar(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=wr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),sp(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(se(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),sp(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Qt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ho(e,n),i=On(i),r=r(i),e.flags|=1,Qt(t,e,r,n),e.child;case 14:return r=e.type,i=Nn(r,e.pendingProps),i=Nn(r.type,i),M0(t,e,r,i,n);case 15:return gT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nn(r,i),Du(t,e),e.tag=1,sn(r)?(t=!0,nc(e)):t=!1,Ho(e,n),HE(e,r,i),lp(e,r,i,n),fp(null,e,r,!0,t,n);case 19:return ET(t,e,n);case 22:return vT(t,e,n)}throw Error(se(156,e.tag))};function jT(t,e){return uE(t,e)}function eR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,e,n,r){return new eR(t,e,n,r)}function ig(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tR(t){if(typeof t=="function")return ig(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bm)return 11;if(t===Am)return 14}return 2}function ei(t,e){var n=t.alternate;return n===null?(n=In(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ju(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")ig(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Po:return qi(n.children,i,o,e);case Tm:s=8,i|=8;break;case xh:return t=In(12,n,e,i|2),t.elementType=xh,t.lanes=o,t;case Nh:return t=In(13,n,e,i),t.elementType=Nh,t.lanes=o,t;case Dh:return t=In(19,n,e,i),t.elementType=Dh,t.lanes=o,t;case W1:return of(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case z1:s=10;break e;case H1:s=9;break e;case bm:s=11;break e;case Am:s=14;break e;case Lr:s=16,r=null;break e}throw Error(se(130,t==null?t:typeof t,""))}return e=In(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function qi(t,e,n,r){return t=In(7,t,r,e),t.lanes=n,t}function of(t,e,n,r){return t=In(22,t,r,e),t.elementType=W1,t.lanes=n,t.stateNode={isHidden:!1},t}function Gd(t,e,n){return t=In(6,t,null,e),t.lanes=n,t}function Qd(t,e,n){return e=In(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cd(0),this.expirationTimes=Cd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function og(t,e,n,r,i,o,s,a,l){return t=new nR(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=In(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$m(o),t}function rR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ko,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function VT(t){if(!t)return ai;t=t._reactInternals;e:{if(ao(t)!==t||t.tag!==1)throw Error(se(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(se(171))}if(t.tag===1){var n=t.type;if(sn(n))return jE(t,n,e)}return e}function FT(t,e,n,r,i,o,s,a,l){return t=og(n,r,!0,t,i,o,s,a,l),t.context=VT(null),n=t.current,r=Xt(),i=Zr(n),o=wr(r,i),o.callback=e??null,Xr(n,o,i),t.current.lanes=i,hl(t,i,r),an(t,r),t}function sf(t,e,n,r){var i=e.current,o=Xt(),s=Zr(i);return n=VT(n),e.context===null?e.context=n:e.pendingContext=n,e=wr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Xr(i,e,s),t!==null&&(jn(t,i,s,o),Ru(t,i,s)),s}function mc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function G0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function sg(t,e){G0(t,e),(t=t.alternate)&&G0(t,e)}function iR(){return null}var BT=typeof reportError=="function"?reportError:function(t){console.error(t)};function ag(t){this._internalRoot=t}af.prototype.render=ag.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(se(409));sf(t,e,null,null)};af.prototype.unmount=ag.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xi(function(){sf(null,t,null,null)}),e[Tr]=null}};function af(t){this._internalRoot=t}af.prototype.unstable_scheduleHydration=function(t){if(t){var e=gE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<jr.length&&e!==0&&e<jr[n].priority;n++);jr.splice(n,0,t),n===0&&yE(t)}};function lg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Q0(){}function oR(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=mc(s);o.call(u)}}var s=FT(e,r,t,0,null,!1,!1,"",Q0);return t._reactRootContainer=s,t[Tr]=s.current,Ma(t.nodeType===8?t.parentNode:t),Xi(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=mc(l);a.call(u)}}var l=og(t,0,!1,null,null,!1,!1,"",Q0);return t._reactRootContainer=l,t[Tr]=l.current,Ma(t.nodeType===8?t.parentNode:t),Xi(function(){sf(e,l,n,r)}),l}function uf(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=mc(s);a.call(l)}}sf(e,s,t,i)}else s=oR(n,e,t,i,r);return mc(s)}pE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ea(e.pendingLanes);n!==0&&(km(e,n|1),an(e,lt()),!(je&6)&&(is=lt()+500,hi()))}break;case 13:Xi(function(){var r=br(t,1);if(r!==null){var i=Xt();jn(r,t,1,i)}}),sg(t,1)}};Pm=function(t){if(t.tag===13){var e=br(t,134217728);if(e!==null){var n=Xt();jn(e,t,134217728,n)}sg(t,134217728)}};mE=function(t){if(t.tag===13){var e=Zr(t),n=br(t,e);if(n!==null){var r=Xt();jn(n,t,e,r)}sg(t,e)}};gE=function(){return Be};vE=function(t,e){var n=Be;try{return Be=t,e()}finally{Be=n}};zh=function(t,e,n){switch(e){case"input":if(jh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Jc(r);if(!i)throw Error(se(90));G1(r),jh(r,i)}}}break;case"textarea":Y1(t,n);break;case"select":e=n.value,e!=null&&Uo(t,!!n.multiple,e,!1)}};rE=tg;iE=Xi;var sR={usingClientEntryPoint:!1,Events:[ml,xo,Jc,tE,nE,tg]},Ws={findFiberByHostInstance:Di,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},aR={bundleType:Ws.bundleType,version:Ws.version,rendererPackageName:Ws.rendererPackageName,rendererConfig:Ws.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=aE(t),t===null?null:t.stateNode},findFiberByHostInstance:Ws.findFiberByHostInstance||iR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{Gc=lu.inject(aR),tr=lu}catch{}}wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sR;wn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lg(e))throw Error(se(200));return rR(t,e,null,n)};wn.createRoot=function(t,e){if(!lg(t))throw Error(se(299));var n=!1,r="",i=BT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=og(t,1,!1,null,null,n,!1,r,i),t[Tr]=e.current,Ma(t.nodeType===8?t.parentNode:t),new ag(e)};wn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(se(188)):(t=Object.keys(t).join(","),Error(se(268,t)));return t=aE(e),t=t===null?null:t.stateNode,t};wn.flushSync=function(t){return Xi(t)};wn.hydrate=function(t,e,n){if(!lf(e))throw Error(se(200));return uf(null,t,e,!0,n)};wn.hydrateRoot=function(t,e,n){if(!lg(t))throw Error(se(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=BT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=FT(e,null,t,1,n??null,i,!1,o,s),t[Tr]=e.current,Ma(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new af(e)};wn.render=function(t,e,n){if(!lf(e))throw Error(se(200));return uf(null,t,e,!1,n)};wn.unmountComponentAtNode=function(t){if(!lf(t))throw Error(se(40));return t._reactRootContainer?(Xi(function(){uf(null,null,t,!1,function(){t._reactRootContainer=null,t[Tr]=null})}),!0):!1};wn.unstable_batchedUpdates=tg;wn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!lf(n))throw Error(se(200));if(t==null||t._reactInternals===void 0)throw Error(se(38));return uf(t,e,n,!1,r)};wn.version="18.2.0-next-9e3b772b8-20220608";function UT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UT)}catch(t){console.error(t)}}UT(),F1.exports=wn;var $T=F1.exports,Y0=$T;Oh.createRoot=Y0.createRoot,Oh.hydrateRoot=Y0.hydrateRoot;/**
 * @remix-run/router v1.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ha(){return Ha=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ha.apply(this,arguments)}var Hr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Hr||(Hr={}));const X0="popstate";function lR(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return bp("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:gc(i)}return cR(e,n,null,t)}function ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ug(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uR(){return Math.random().toString(36).substr(2,8)}function J0(t,e){return{usr:t.state,key:t.key,idx:e}}function bp(t,e,n,r){return n===void 0&&(n=null),Ha({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ws(e):e,{state:n,key:e&&e.key||r||uR()})}function gc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ws(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function cR(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Hr.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(Ha({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function f(){a=Hr.Pop;let _=c(),g=_==null?null:_-u;u=_,l&&l({action:a,location:y.location,delta:g})}function d(_,g){a=Hr.Push;let p=bp(y.location,_,g);n&&n(p,_),u=c()+1;let E=J0(p,u),v=y.createHref(p);try{s.pushState(E,"",v)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;i.location.assign(v)}o&&l&&l({action:a,location:y.location,delta:1})}function h(_,g){a=Hr.Replace;let p=bp(y.location,_,g);n&&n(p,_),u=c();let E=J0(p,u),v=y.createHref(p);s.replaceState(E,"",v),o&&l&&l({action:a,location:y.location,delta:0})}function w(_){let g=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof _=="string"?_:gc(_);return ut(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let y={get action(){return a},get location(){return t(i,s)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(X0,f),l=_,()=>{i.removeEventListener(X0,f),l=null}},createHref(_){return e(i,_)},createURL:w,encodeLocation(_){let g=w(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:h,go(_){return s.go(_)}};return y}var Z0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Z0||(Z0={}));function fR(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ws(e):e,i=cg(r.pathname||"/",n);if(i==null)return null;let o=qT(t);dR(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=ER(o[a],AR(i));return s}function qT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(ut(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ti([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(ut(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),qT(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:wR(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of zT(o.path))i(o,s,l)}),e}function zT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=zT(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function dR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_R(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const hR=/^:[\w-]+$/,pR=3,mR=2,gR=1,vR=10,yR=-2,ew=t=>t==="*";function wR(t,e){let n=t.split("/"),r=n.length;return n.some(ew)&&(r+=yR),e&&(r+=mR),n.filter(i=>!ew(i)).reduce((i,o)=>i+(hR.test(o)?pR:o===""?gR:vR),r)}function _R(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ER(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=TR({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let f=a.route;o.push({params:r,pathname:ti([i,c.pathname]),pathnameBase:CR(ti([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=ti([i,c.pathnameBase]))}return o}function TR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=bR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:d,isOptional:h}=c;if(d==="*"){let y=a[f]||"";s=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const w=a[f];return h&&!w?u[d]=void 0:u[d]=SR(w||"",d),u},{}),pathname:o,pathnameBase:s,pattern:t}}function bR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ug(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function AR(t){try{return decodeURI(t)}catch(e){return ug(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function SR(t,e){try{return decodeURIComponent(t)}catch(n){return ug(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function cg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function IR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ws(t):t;return{pathname:n?n.startsWith("/")?n:kR(n,e):e,search:OR(r),hash:RR(i)}}function kR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Yd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function PR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function fg(t,e){let n=PR(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function dg(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ws(t):(i=Ha({},t),ut(!i.pathname||!i.pathname.includes("?"),Yd("?","pathname","search",i)),ut(!i.pathname||!i.pathname.includes("#"),Yd("#","pathname","hash",i)),ut(!i.search||!i.search.includes("#"),Yd("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?e[f]:"/"}let l=IR(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ti=t=>t.join("/").replace(/\/\/+/g,"/"),CR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),OR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,RR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const HT=["post","put","patch","delete"];new Set(HT);const NR=["get",...HT];new Set(NR);/**
 * React Router v6.21.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wa(){return Wa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wa.apply(this,arguments)}const hg=re.createContext(null),DR=re.createContext(null),pi=re.createContext(null),cf=re.createContext(null),mi=re.createContext({outlet:null,matches:[],isDataRoute:!1}),WT=re.createContext(null);function LR(t,e){let{relative:n}=e===void 0?{}:e;_s()||ut(!1);let{basename:r,navigator:i}=re.useContext(pi),{hash:o,pathname:s,search:a}=GT(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:ti([r,s])),i.createHref({pathname:l,search:a,hash:o})}function _s(){return re.useContext(cf)!=null}function vl(){return _s()||ut(!1),re.useContext(cf).location}function KT(t){re.useContext(pi).static||re.useLayoutEffect(t)}function pg(){let{isDataRoute:t}=re.useContext(mi);return t?GR():MR()}function MR(){_s()||ut(!1);let t=re.useContext(hg),{basename:e,future:n,navigator:r}=re.useContext(pi),{matches:i}=re.useContext(mi),{pathname:o}=vl(),s=JSON.stringify(fg(i,n.v7_relativeSplatPath)),a=re.useRef(!1);return KT(()=>{a.current=!0}),re.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=dg(u,JSON.parse(s),o,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ti([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,s,o,t])}function GT(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=re.useContext(pi),{matches:i}=re.useContext(mi),{pathname:o}=vl(),s=JSON.stringify(fg(i,r.v7_relativeSplatPath));return re.useMemo(()=>dg(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function jR(t,e){return VR(t,e)}function VR(t,e,n,r){_s()||ut(!1);let{navigator:i}=re.useContext(pi),{matches:o}=re.useContext(mi),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=vl(),c;if(e){var f;let _=typeof e=="string"?ws(e):e;l==="/"||(f=_.pathname)!=null&&f.startsWith(l)||ut(!1),c=_}else c=u;let d=c.pathname||"/",h=l==="/"?d:d.slice(l.length)||"/",w=fR(t,{pathname:h}),y=qR(w&&w.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:ti([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:ti([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r);return e&&y?re.createElement(cf.Provider,{value:{location:Wa({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Hr.Pop}},y):y}function FR(){let t=KR(),e=xR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return re.createElement(re.Fragment,null,re.createElement("h2",null,"Unexpected Application Error!"),re.createElement("h3",{style:{fontStyle:"italic"}},e),n?re.createElement("pre",{style:i},n):null,o)}const BR=re.createElement(FR,null);class UR extends re.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?re.createElement(mi.Provider,{value:this.props.routeContext},re.createElement(WT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $R(t){let{routeContext:e,match:n,children:r}=t,i=re.useContext(hg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),re.createElement(mi.Provider,{value:e},r)}function qR(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id]));c>=0||ut(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let f=s[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:d,errors:h}=n,w=f.route.loader&&d[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||w){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,f,d)=>{let h,w=!1,y=null,_=null;n&&(h=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||BR,l&&(u<0&&d===0?(QR("route-fallback",!1),w=!0,_=null):u===d&&(w=!0,_=f.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,d+1)),p=()=>{let E;return h?E=y:w?E=_:f.route.Component?E=re.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=c,re.createElement($R,{match:f,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?re.createElement(UR,{location:n.location,revalidation:n.revalidation,component:y,error:h,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var QT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(QT||{}),vc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(vc||{});function zR(t){let e=re.useContext(hg);return e||ut(!1),e}function HR(t){let e=re.useContext(DR);return e||ut(!1),e}function WR(t){let e=re.useContext(mi);return e||ut(!1),e}function YT(t){let e=WR(),n=e.matches[e.matches.length-1];return n.route.id||ut(!1),n.route.id}function KR(){var t;let e=re.useContext(WT),n=HR(vc.UseRouteError),r=YT(vc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function GR(){let{router:t}=zR(QT.UseNavigateStable),e=YT(vc.UseNavigateStable),n=re.useRef(!1);return KT(()=>{n.current=!0}),re.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Wa({fromRouteId:e},o)))},[t,e])}const tw={};function QR(t,e,n){!e&&!tw[t]&&(tw[t]=!0)}function os(t){let{to:e,replace:n,state:r,relative:i}=t;_s()||ut(!1);let{future:o,static:s}=re.useContext(pi),{matches:a}=re.useContext(mi),{pathname:l}=vl(),u=pg(),c=dg(e,fg(a,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(c);return re.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function Ci(t){ut(!1)}function YR(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Hr.Pop,navigator:o,static:s=!1,future:a}=t;_s()&&ut(!1);let l=e.replace(/^\/*/,"/"),u=re.useMemo(()=>({basename:l,navigator:o,static:s,future:Wa({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=ws(r));let{pathname:c="/",search:f="",hash:d="",state:h=null,key:w="default"}=r,y=re.useMemo(()=>{let _=cg(c,l);return _==null?null:{location:{pathname:_,search:f,hash:d,state:h,key:w},navigationType:i}},[l,c,f,d,h,w,i]);return y==null?null:re.createElement(pi.Provider,{value:u},re.createElement(cf.Provider,{children:n,value:y}))}function XR(t){let{children:e,location:n}=t;return jR(Ap(e),n)}new Promise(()=>{});function Ap(t,e){e===void 0&&(e=[]);let n=[];return re.Children.forEach(t,(r,i)=>{if(!re.isValidElement(r))return;let o=[...e,i];if(r.type===re.Fragment){n.push.apply(n,Ap(r.props.children,o));return}r.type!==Ci&&ut(!1),!r.props.index||!r.props.children||ut(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Ap(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.21.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sp(){return Sp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sp.apply(this,arguments)}function JR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ZR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ex(t,e){return t.button===0&&(!e||e==="_self")&&!ZR(t)}const tx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],nx="startTransition",nw=JP[nx];function rx(t){let{basename:e,children:n,future:r,window:i}=t,o=re.useRef();o.current==null&&(o.current=lR({window:i,v5Compat:!0}));let s=o.current,[a,l]=re.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=re.useCallback(f=>{u&&nw?nw(()=>l(f)):l(f)},[l,u]);return re.useLayoutEffect(()=>s.listen(c),[s,c]),re.createElement(YR,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const ix=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ox=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rw=re.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:f}=e,d=JR(e,tx),{basename:h}=re.useContext(pi),w,y=!1;if(typeof u=="string"&&ox.test(u)&&(w=u,ix))try{let E=new URL(window.location.href),v=u.startsWith("//")?new URL(E.protocol+u):new URL(u),b=cg(v.pathname,h);v.origin===E.origin&&b!=null?u=b+v.search+v.hash:y=!0}catch{}let _=LR(u,{relative:i}),g=sx(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:f});function p(E){r&&r(E),E.defaultPrevented||g(E)}return re.createElement("a",Sp({},d,{href:w||_,onClick:y||o?r:p,ref:n,target:l}))});var iw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(iw||(iw={}));var ow;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ow||(ow={}));function sx(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a}=e===void 0?{}:e,l=pg(),u=vl(),c=GT(t,{relative:s});return re.useCallback(f=>{if(ex(f,n)){f.preventDefault();let d=r!==void 0?r:gc(u)===gc(c);l(t,{replace:d,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,o,s,a])}const ax=()=>z.jsxs("div",{className:"main",children:[z.jsx("div",{className:"bar",children:z.jsxs("div",{className:"bar-wrapper container",children:[z.jsx("span",{className:"bar-logo",children:"Noteify"}),z.jsxs("div",{className:"bar-options",children:[z.jsx(rw,{to:"/login",className:"bar-option",children:"Login"}),z.jsx(rw,{to:"/contactus",className:"bar-option",children:"Contact Us"})]})]})}),z.jsxs("div",{className:"des",children:[z.jsx("h1",{children:"Elevate your note-taking experience with our vibrant and personalized Notes platform."}),z.jsx("p",{children:"Express your unique style with a variety of stunning palette options. Seamlessly create, edit, and organize your notes with an intuitive interface. Welcome to a space where creativity and organization come together effortlessly!"})]})]});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},lx=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},JT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|a>>4;let d=(a&15)<<2|u>>6,h=u&63;l||(h=64,s||(d=64)),r.push(n[c],n[f],n[d],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new ux;const d=o<<2|a>>4;if(r.push(d),u!==64){const h=a<<4&240|u>>2;if(r.push(h),f!==64){const w=u<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ux extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cx=function(t){const e=XT(t);return JT.encodeByteArray(e,!0)},yc=function(t){return cx(t).replace(/\./g,"")},ZT=function(t){try{return JT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=()=>fx().__FIREBASE_DEFAULTS__,hx=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},px=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ZT(t[1]);return e&&JSON.parse(e)},ff=()=>{try{return dx()||hx()||px()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},eb=t=>{var e,n;return(n=(e=ff())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},mx=t=>{const e=eb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},tb=()=>{var t;return(t=ff())===null||t===void 0?void 0:t.config},nb=t=>{var e;return(e=ff())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[yc(JSON.stringify(n)),yc(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function wx(){var t;const e=(t=ff())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rb(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _x(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ex(){const t=pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Tx(){return!wx()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mg(){try{return typeof indexedDB=="object"}catch{return!1}}function ib(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function bx(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="FirebaseError";class qn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Ax,Object.setPrototypeOf(this,qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lo.prototype.create)}}class lo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Sx(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new qn(i,a,r)}}function Sx(t,e){return t.replace(Ix,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Ix=/\{\$([^}]+)}/g;function kx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ka(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(sw(o)&&sw(s)){if(!Ka(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function sw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function na(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ra(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Px(t,e){const n=new Cx(t,e);return n.subscribe.bind(n)}class Cx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Ox(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Xd),i.error===void 0&&(i.error=Xd),i.complete===void 0&&(i.complete=Xd);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ox(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xd(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=1e3,xx=2,Nx=4*60*60*1e3,Dx=.5;function aw(t,e=Rx,n=xx){const r=e*Math.pow(n,t),i=Math.round(Dx*r*(Math.random()-.5)*2);return Math.min(Nx,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t){return t&&t._delegate?t._delegate:t}class Bn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new gx;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jx(e))try{this.getOrInitializeService({instanceIdentifier:Oi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Oi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Oi){return this.instances.has(e)}getOptions(e=Oi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Mx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Oi){return this.component?this.component.multipleInstances?e:Oi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Mx(t){return t===Oi?void 0:t}function jx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Lx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const Fx={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},Bx=Ne.INFO,Ux={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},$x=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Ux[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class df{constructor(e){this.name=e,this._logLevel=Bx,this._logHandler=$x,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Fx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const qx=(t,e)=>e.some(n=>t instanceof n);let lw,uw;function zx(){return lw||(lw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Hx(){return uw||(uw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ob=new WeakMap,Ip=new WeakMap,sb=new WeakMap,Jd=new WeakMap,gg=new WeakMap;function Wx(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(ni(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&ob.set(n,t)}).catch(()=>{}),gg.set(e,t),e}function Kx(t){if(Ip.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Ip.set(t,e)}let kp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ip.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ni(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Gx(t){kp=t(kp)}function Qx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Zd(this),e,...n);return sb.set(r,e.sort?e.sort():[e]),ni(r)}:Hx().includes(t)?function(...e){return t.apply(Zd(this),e),ni(ob.get(this))}:function(...e){return ni(t.apply(Zd(this),e))}}function Yx(t){return typeof t=="function"?Qx(t):(t instanceof IDBTransaction&&Kx(t),qx(t,zx())?new Proxy(t,kp):t)}function ni(t){if(t instanceof IDBRequest)return Wx(t);if(Jd.has(t))return Jd.get(t);const e=Yx(t);return e!==t&&(Jd.set(t,e),gg.set(e,t)),e}const Zd=t=>gg.get(t);function Xx(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=ni(s);return r&&s.addEventListener("upgradeneeded",l=>{r(ni(s.result),l.oldVersion,l.newVersion,ni(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Jx=["get","getKey","getAll","getAllKeys","count"],Zx=["put","add","delete","clear"],eh=new Map;function cw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(eh.get(e))return eh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Zx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Jx.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return eh.set(e,o),o}Gx(t=>({...t,get:(e,n,r)=>cw(e,n)||t.get(e,n,r),has:(e,n)=>!!cw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function tN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pp="@firebase/app",fw="0.9.26";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new df("@firebase/app"),nN="@firebase/app-compat",rN="@firebase/analytics-compat",iN="@firebase/analytics",oN="@firebase/app-check-compat",sN="@firebase/app-check",aN="@firebase/auth",lN="@firebase/auth-compat",uN="@firebase/database",cN="@firebase/database-compat",fN="@firebase/functions",dN="@firebase/functions-compat",hN="@firebase/installations",pN="@firebase/installations-compat",mN="@firebase/messaging",gN="@firebase/messaging-compat",vN="@firebase/performance",yN="@firebase/performance-compat",wN="@firebase/remote-config",_N="@firebase/remote-config-compat",EN="@firebase/storage",TN="@firebase/storage-compat",bN="@firebase/firestore",AN="@firebase/firestore-compat",SN="firebase",IN="10.7.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="[DEFAULT]",kN={[Pp]:"fire-core",[nN]:"fire-core-compat",[iN]:"fire-analytics",[rN]:"fire-analytics-compat",[sN]:"fire-app-check",[oN]:"fire-app-check-compat",[aN]:"fire-auth",[lN]:"fire-auth-compat",[uN]:"fire-rtdb",[cN]:"fire-rtdb-compat",[fN]:"fire-fn",[dN]:"fire-fn-compat",[hN]:"fire-iid",[pN]:"fire-iid-compat",[mN]:"fire-fcm",[gN]:"fire-fcm-compat",[vN]:"fire-perf",[yN]:"fire-perf-compat",[wN]:"fire-rc",[_N]:"fire-rc-compat",[EN]:"fire-gcs",[TN]:"fire-gcs-compat",[bN]:"fire-fst",[AN]:"fire-fst-compat","fire-js":"fire-js",[SN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new Map,Op=new Map;function PN(t,e){try{t.container.addComponent(e)}catch(n){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ar(t){const e=t.name;if(Op.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;Op.set(e,t);for(const n of wc.values())PN(n,t);return!0}function uo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ri=new lo("app","Firebase",CN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ri.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=IN;function ab(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Cp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ri.create("bad-app-name",{appName:String(i)});if(n||(n=tb()),!n)throw ri.create("no-options");const o=wc.get(i);if(o){if(Ka(n,o.options)&&Ka(r,o.config))return o;throw ri.create("duplicate-app",{appName:i})}const s=new Vx(i);for(const l of Op.values())s.addComponent(l);const a=new ON(n,r,s);return wc.set(i,a),a}function vg(t=Cp){const e=wc.get(t);if(!e&&t===Cp&&tb())return ab();if(!e)throw ri.create("no-app",{appName:t});return e}function Pn(t,e,n){var r;let i=(r=kN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(a.join(" "));return}ar(new Bn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="firebase-heartbeat-database",xN=1,Ga="firebase-heartbeat-store";let th=null;function lb(){return th||(th=Xx(RN,xN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ga)}catch(n){console.warn(n)}}}}).catch(t=>{throw ri.create("idb-open",{originalErrorMessage:t.message})})),th}async function NN(t){try{return await(await lb()).transaction(Ga).objectStore(Ga).get(ub(t))}catch(e){if(e instanceof qn)Ji.warn(e.message);else{const n=ri.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ji.warn(n.message)}}}async function dw(t,e){try{const r=(await lb()).transaction(Ga,"readwrite");await r.objectStore(Ga).put(e,ub(t)),await r.done}catch(n){if(n instanceof qn)Ji.warn(n.message);else{const r=ri.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ji.warn(r.message)}}}function ub(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=1024,LN=30*24*60*60*1e3;class MN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new VN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=hw();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=LN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=hw(),{heartbeatsToSend:r,unsentEntries:i}=jN(this._heartbeatsCache.heartbeats),o=yc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function hw(){return new Date().toISOString().substring(0,10)}function jN(t,e=DN){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),pw(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class VN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mg()?ib().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await NN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return dw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return dw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function pw(t){return yc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(t){ar(new Bn("platform-logger",e=>new eN(e),"PRIVATE")),ar(new Bn("heartbeat",e=>new MN(e),"PRIVATE")),Pn(Pp,fw,t),Pn(Pp,fw,"esm2017"),Pn("fire-js","")}FN("");var BN="firebase",UN="10.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn(BN,UN,"app");const $N=(t,e)=>e.some(n=>t instanceof n);let mw,gw;function qN(){return mw||(mw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zN(){return gw||(gw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cb=new WeakMap,Rp=new WeakMap,fb=new WeakMap,nh=new WeakMap,yg=new WeakMap;function HN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(ii(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&cb.set(n,t)}).catch(()=>{}),yg.set(e,t),e}function WN(t){if(Rp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Rp.set(t,e)}let xp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ii(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KN(t){xp=t(xp)}function GN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(rh(this),e,...n);return fb.set(r,e.sort?e.sort():[e]),ii(r)}:zN().includes(t)?function(...e){return t.apply(rh(this),e),ii(cb.get(this))}:function(...e){return ii(t.apply(rh(this),e))}}function QN(t){return typeof t=="function"?GN(t):(t instanceof IDBTransaction&&WN(t),$N(t,qN())?new Proxy(t,xp):t)}function ii(t){if(t instanceof IDBRequest)return HN(t);if(nh.has(t))return nh.get(t);const e=QN(t);return e!==t&&(nh.set(t,e),yg.set(e,t)),e}const rh=t=>yg.get(t);function YN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=ii(s);return r&&s.addEventListener("upgradeneeded",l=>{r(ii(s.result),l.oldVersion,l.newVersion,ii(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const XN=["get","getKey","getAll","getAllKeys","count"],JN=["put","add","delete","clear"],ih=new Map;function vw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ih.get(e))return ih.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=JN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||XN.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return ih.set(e,o),o}KN(t=>({...t,get:(e,n,r)=>vw(e,n)||t.get(e,n,r),has:(e,n)=>!!vw(e,n)||t.has(e,n)}));const db="@firebase/installations",wg="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=1e4,pb=`w:${wg}`,mb="FIS_v2",ZN="https://firebaseinstallations.googleapis.com/v1",eD=60*60*1e3,tD="installations",nD="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Zi=new lo(tD,nD,rD);function gb(t){return t instanceof qn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb({projectId:t}){return`${ZN}/projects/${t}/installations`}function yb(t){return{token:t.token,requestStatus:2,expiresIn:oD(t.expiresIn),creationTime:Date.now()}}async function wb(t,e){const r=(await e.json()).error;return Zi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function _b({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function iD(t,{refreshToken:e}){const n=_b(t);return n.append("Authorization",sD(e)),n}async function Eb(t){const e=await t();return e.status>=500&&e.status<600?t():e}function oD(t){return Number(t.replace("s","000"))}function sD(t){return`${mb} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=vb(t),i=_b(t),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const s={fid:n,authVersion:mb,appId:t.appId,sdkVersion:pb},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await Eb(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:yb(u.authToken)}}else throw await wb("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=/^[cdef][\w-]{21}$/,Np="";function cD(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=fD(t);return uD.test(n)?n:Np}catch{return Np}}function fD(t){return lD(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=new Map;function Ab(t,e){const n=hf(t);Sb(n,e),dD(n,e)}function Sb(t,e){const n=bb.get(t);if(n)for(const r of n)r(e)}function dD(t,e){const n=hD();n&&n.postMessage({key:t,fid:e}),pD()}let ji=null;function hD(){return!ji&&"BroadcastChannel"in self&&(ji=new BroadcastChannel("[Firebase] FID Change"),ji.onmessage=t=>{Sb(t.data.key,t.data.fid)}),ji}function pD(){bb.size===0&&ji&&(ji.close(),ji=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="firebase-installations-database",gD=1,eo="firebase-installations-store";let oh=null;function _g(){return oh||(oh=YN(mD,gD,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(eo)}}})),oh}async function _c(t,e){const n=hf(t),i=(await _g()).transaction(eo,"readwrite"),o=i.objectStore(eo),s=await o.get(n);return await o.put(e,n),await i.done,(!s||s.fid!==e.fid)&&Ab(t,e.fid),e}async function Ib(t){const e=hf(t),r=(await _g()).transaction(eo,"readwrite");await r.objectStore(eo).delete(e),await r.done}async function pf(t,e){const n=hf(t),i=(await _g()).transaction(eo,"readwrite"),o=i.objectStore(eo),s=await o.get(n),a=e(s);return a===void 0?await o.delete(n):await o.put(a,n),await i.done,a&&(!s||s.fid!==a.fid)&&Ab(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eg(t){let e;const n=await pf(t.appConfig,r=>{const i=vD(r),o=yD(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===Np?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function vD(t){const e=t||{fid:cD(),registrationStatus:0};return kb(e)}function yD(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Zi.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=wD(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:_D(t)}:{installationEntry:e}}async function wD(t,e){try{const n=await aD(t,e);return _c(t.appConfig,n)}catch(n){throw gb(n)&&n.customData.serverCode===409?await Ib(t.appConfig):await _c(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function _D(t){let e=await yw(t.appConfig);for(;e.registrationStatus===1;)await Tb(100),e=await yw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Eg(t);return r||n}return e}function yw(t){return pf(t,e=>{if(!e)throw Zi.create("installation-not-found");return kb(e)})}function kb(t){return ED(t)?{fid:t.fid,registrationStatus:0}:t}function ED(t){return t.registrationStatus===1&&t.registrationTime+hb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD({appConfig:t,heartbeatServiceProvider:e},n){const r=bD(t,n),i=iD(t,n),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const s={installation:{sdkVersion:pb,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await Eb(()=>fetch(r,a));if(l.ok){const u=await l.json();return yb(u)}else throw await wb("Generate Auth Token",l)}function bD(t,{fid:e}){return`${vb(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tg(t,e=!1){let n;const r=await pf(t.appConfig,o=>{if(!Pb(o))throw Zi.create("not-registered");const s=o.authToken;if(!e&&ID(s))return o;if(s.requestStatus===1)return n=AD(t,e),o;{if(!navigator.onLine)throw Zi.create("app-offline");const a=PD(o);return n=SD(t,a),a}});return n?await n:r.authToken}async function AD(t,e){let n=await ww(t.appConfig);for(;n.authToken.requestStatus===1;)await Tb(100),n=await ww(t.appConfig);const r=n.authToken;return r.requestStatus===0?Tg(t,e):r}function ww(t){return pf(t,e=>{if(!Pb(e))throw Zi.create("not-registered");const n=e.authToken;return CD(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function SD(t,e){try{const n=await TD(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await _c(t.appConfig,r),n}catch(n){if(gb(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Ib(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await _c(t.appConfig,r)}throw n}}function Pb(t){return t!==void 0&&t.registrationStatus===2}function ID(t){return t.requestStatus===2&&!kD(t)}function kD(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+eD}function PD(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function CD(t){return t.requestStatus===1&&t.requestTime+hb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(t){const e=t,{installationEntry:n,registrationPromise:r}=await Eg(e);return r?r.catch(console.error):Tg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RD(t,e=!1){const n=t;return await xD(n),(await Tg(n,e)).token}async function xD(t){const{registrationPromise:e}=await Eg(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(t){if(!t||!t.options)throw sh("App Configuration");if(!t.name)throw sh("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw sh(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function sh(t){return Zi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="installations",DD="installations-internal",LD=t=>{const e=t.getProvider("app").getImmediate(),n=ND(e),r=uo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},MD=t=>{const e=t.getProvider("app").getImmediate(),n=uo(e,Cb).getImmediate();return{getId:()=>OD(n),getToken:i=>RD(n,i)}};function jD(){ar(new Bn(Cb,LD,"PUBLIC")),ar(new Bn(DD,MD,"PRIVATE"))}jD();Pn(db,wg);Pn(db,wg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec="analytics",VD="firebase_id",FD="origin",BD=60*1e3,UD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln=new df("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},gn=new lo("analytics","Analytics",$D);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(t){if(!t.startsWith(bg)){const e=gn.create("invalid-gtag-resource",{gtagURL:t});return ln.warn(e.message),""}return t}function Ob(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function zD(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function HD(t,e){const n=zD("firebase-js-sdk-policy",{createScriptURL:qD}),r=document.createElement("script"),i=`${bg}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function WD(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function KD(t,e,n,r,i,o){const s=r[i];try{if(s)await e[s];else{const l=(await Ob(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){ln.error(a)}t("config",i,o)}async function GD(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=await Ob(n);for(const l of s){const u=a.find(f=>f.measurementId===l),c=u&&e[u.appId];if(c)o.push(c);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){ln.error(o)}}function QD(t,e,n,r){async function i(o,...s){try{if(o==="event"){const[a,l]=s;await GD(t,e,n,a,l)}else if(o==="config"){const[a,l]=s;await KD(t,e,n,r,a,l)}else if(o==="consent"){const[a]=s;t("consent","update",a)}else if(o==="get"){const[a,l,u]=s;t("get",a,l,u)}else if(o==="set"){const[a]=s;t("set",a)}else t(o,...s)}catch(a){ln.error(a)}}return i}function YD(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=QD(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function XD(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(bg)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=30,ZD=1e3;class eL{constructor(e={},n=ZD){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Rb=new eL;function tL(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function nL(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:tL(r)},o=UD.replace("{app-id}",n),s=await fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{const l=await s.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw gn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}async function rL(t,e=Rb,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw gn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw gn.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new sL;return setTimeout(async()=>{a.abort()},n!==void 0?n:BD),xb({appId:r,apiKey:i,measurementId:o},s,a,e)}async function xb(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Rb){var o;const{appId:s,measurementId:a}=t;try{await iL(r,e)}catch(l){if(a)return ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:a};throw l}try{const l=await nL(t);return i.deleteThrottleMetadata(s),l}catch(l){const u=l;if(!oL(u)){if(i.deleteThrottleMetadata(s),a)return ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:a};throw l}const c=Number((o=u==null?void 0:u.customData)===null||o===void 0?void 0:o.httpStatus)===503?aw(n,i.intervalMillis,JD):aw(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(s,f),ln.debug(`Calling attemptFetch again in ${c} millis`),xb(t,f,r,i)}}function iL(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(gn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function oL(t){if(!(t instanceof qn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class sL{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function aL(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const o=await e,s=Object.assign(Object.assign({},r),{send_to:o});t("event",n,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lL(){if(mg())try{await ib()}catch(t){return ln.warn(gn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return ln.warn(gn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function uL(t,e,n,r,i,o,s){var a;const l=rL(t);l.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&ln.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>ln.error(h)),e.push(l);const u=lL().then(h=>{if(h)return r.getId()}),[c,f]=await Promise.all([l,u]);XD(o)||HD(o,c.measurementId),i("js",new Date);const d=(a=s==null?void 0:s.config)!==null&&a!==void 0?a:{};return d[FD]="firebase",d.update=!0,f!=null&&(d[VD]=f),i("config",c.measurementId,d),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.app=e}_delete(){return delete ya[this.app.options.appId],Promise.resolve()}}let ya={},_w=[];const Ew={};let ah="dataLayer",fL="gtag",Tw,Nb,bw=!1;function dL(){const t=[];if(rb()&&t.push("This is a browser extension environment."),bx()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=gn.create("invalid-analytics-context",{errorInfo:e});ln.warn(n.message)}}function hL(t,e,n){dL();const r=t.options.appId;if(!r)throw gn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw gn.create("no-api-key");if(ya[r]!=null)throw gn.create("already-exists",{id:r});if(!bw){WD(ah);const{wrappedGtag:o,gtagCore:s}=YD(ya,_w,Ew,ah,fL);Nb=o,Tw=s,bw=!0}return ya[r]=uL(t,_w,Ew,e,Tw,ah,n),new cL(t)}function pL(t=vg()){t=ct(t);const e=uo(t,Ec);return e.isInitialized()?e.getImmediate():mL(t)}function mL(t,e={}){const n=uo(t,Ec);if(n.isInitialized()){const i=n.getImmediate();if(Ka(e,n.getOptions()))return i;throw gn.create("already-initialized")}return n.initialize({options:e})}function gL(t,e,n,r){t=ct(t),aL(Nb,ya[t.app.options.appId],e,n,r).catch(i=>ln.error(i))}const Aw="@firebase/analytics",Sw="0.10.0";function vL(){ar(new Bn(Ec,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return hL(r,i,n)},"PUBLIC")),ar(new Bn("analytics-internal",t,"PRIVATE")),Pn(Aw,Sw),Pn(Aw,Sw,"esm2017");function t(e){try{const n=e.getProvider(Ec).getImmediate();return{logEvent:(r,i,o)=>gL(n,r,i,o)}}catch(n){throw gn.create("interop-component-reg-failed",{reason:n})}}}vL();function Ag(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Db(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yL=Db,Lb=new lo("auth","Firebase",Db());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=new df("@firebase/auth");function wL(t,...e){Tc.logLevel<=Ne.WARN&&Tc.warn(`Auth (${Es}): ${t}`,...e)}function Vu(t,...e){Tc.logLevel<=Ne.ERROR&&Tc.error(`Auth (${Es}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(t,...e){throw Sg(t,...e)}function rr(t,...e){return Sg(t,...e)}function _L(t,e,n){const r=Object.assign(Object.assign({},yL()),{[e]:n});return new lo("auth","Firebase",r).create(e,{appName:t.name})}function Sg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Lb.create(t,...e)}function ve(t,e,...n){if(!t)throw Sg(e,...n)}function gr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vu(e),new Error(e)}function Sr(t,e){t||gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function EL(){return Iw()==="http:"||Iw()==="https:"}function Iw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EL()||rb()||"connection"in navigator)?navigator.onLine:!0}function bL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Sr(n>e,"Short delay should be less than long delay!"),this.isMobile=yx()||_x()}get(){return TL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(t,e){Sr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=new wl(3e4,6e4);function gi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Cr(t,e,n,r,i={}){return jb(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=yl(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Mb.fetch()(Vb(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function jb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},AL),e);try{const i=new kL(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw uu(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw uu(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw uu(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw uu(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw _L(t,c,u);Un(t,c)}}catch(i){if(i instanceof qn)throw i;Un(t,"network-request-failed",{message:String(i)})}}async function _l(t,e,n,r,i={}){const o=await Cr(t,e,n,r,i);return"mfaPendingCredential"in o&&Un(t,"multi-factor-auth-required",{_serverResponse:o}),o}function Vb(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Ig(t.config,i):`${t.config.apiScheme}://${i}`}function IL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(rr(this.auth,"network-request-failed")),SL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function uu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=rr(t,e,r);return i.customData._tokenResponse=n,i}function kw(t){return t!==void 0&&t.enterprise!==void 0}class PL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return IL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function CL(t,e){return Cr(t,"GET","/v2/recaptchaConfig",gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OL(t,e){return Cr(t,"POST","/v1/accounts:delete",e)}async function RL(t,e){return Cr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xL(t,e=!1){const n=ct(t),r=await n.getIdToken(e),i=kg(r);ve(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:wa(lh(i.auth_time)),issuedAtTime:wa(lh(i.iat)),expirationTime:wa(lh(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function lh(t){return Number(t)*1e3}function kg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Vu("JWT malformed, contained fewer than 3 sections"),null;try{const i=ZT(n);return i?JSON.parse(i):(Vu("Failed to decode base64 JWT payload"),null)}catch(i){return Vu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function NL(t){const e=kg(t);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ss(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof qn&&DL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function DL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wa(this.lastLoginAt),this.creationTime=wa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ss(t,RL(n,{idToken:r}));ve(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?VL(o.providerUserInfo):[],a=jL(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Fb(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function ML(t){const e=ct(t);await bc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function VL(t){return t.map(e=>{var{providerId:n}=e,r=Ag(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FL(t,e){const n=await jb(t,{},async()=>{const r=yl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=Vb(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Mb.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function BL(t,e){return Cr(t,"POST","/v2/accounts:revokeToken",gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):NL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ve(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await FL(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Qa;return r&&(ve(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ve(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ve(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t,e){ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Ag(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Fb(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ss(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xL(this,e)}reload(){return ML(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await bc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ss(this,OL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=n.photoURL)!==null&&s!==void 0?s:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:E,emailVerified:v,isAnonymous:b,providerData:k,stsTokenManager:I}=n;ve(E&&I,e,"internal-error");const O=Qa.fromJSON(this.name,I);ve(typeof E=="string",e,"internal-error"),Dr(f,e.name),Dr(d,e.name),ve(typeof v=="boolean",e,"internal-error"),ve(typeof b=="boolean",e,"internal-error"),Dr(h,e.name),Dr(w,e.name),Dr(y,e.name),Dr(_,e.name),Dr(g,e.name),Dr(p,e.name);const D=new zi({uid:E,auth:e,email:d,emailVerified:v,displayName:f,isAnonymous:b,photoURL:w,phoneNumber:h,tenantId:y,stsTokenManager:O,createdAt:g,lastLoginAt:p});return k&&Array.isArray(k)&&(D.providerData=k.map(C=>Object.assign({},C))),_&&(D._redirectEventId=_),D}static async _fromIdTokenResponse(e,n,r=!1){const i=new Qa;i.updateFromServerResponse(n);const o=new zi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await bc(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=new Map;function vr(t){Sr(t instanceof Function,"Expected a class definition");let e=Pw.get(t);return e?(Sr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Pw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Bb.type="NONE";const Cw=Bb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(t,e,n){return`firebase:${t}:${e}:${n}`}class Ko{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Fu(this.userKey,i.apiKey,o),this.fullPersistenceKey=Fu("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?zi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ko(vr(Cw),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||vr(Cw);const s=Fu(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const f=zi._fromJSON(e,c);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Ko(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Ko(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ub(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Hb(e))return"Blackberry";if(Wb(e))return"Webos";if(Pg(e))return"Safari";if((e.includes("chrome/")||$b(e))&&!e.includes("edge/"))return"Chrome";if(zb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Ub(t=pt()){return/firefox\//i.test(t)}function Pg(t=pt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $b(t=pt()){return/crios\//i.test(t)}function qb(t=pt()){return/iemobile/i.test(t)}function zb(t=pt()){return/android/i.test(t)}function Hb(t=pt()){return/blackberry/i.test(t)}function Wb(t=pt()){return/webos/i.test(t)}function mf(t=pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function UL(t=pt()){var e;return mf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $L(){return Ex()&&document.documentMode===10}function Kb(t=pt()){return mf(t)||zb(t)||Wb(t)||Hb(t)||/windows phone/i.test(t)||qb(t)}function qL(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(t,e=[]){let n;switch(t){case"Browser":n=Ow(pt());break;case"Worker":n=`${Ow(pt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Es}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HL(t,e={}){return Cr(t,"GET","/v2/passwordPolicy",gi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=6;class KL{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:WL,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rw(this),this.idTokenSubscription=new Rw(this),this.beforeStateQueue=new zL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Lb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ko.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ct(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HL(this),n=new KL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new lo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await BL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vr(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Ko.create(this,[vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Gb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&wL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function co(t){return ct(t)}class Rw{constructor(e){this.auth=e,this.observer=null,this.addObserver=Px(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Qb(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=rr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",QL().appendChild(r)})}function YL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const XL="https://www.google.com/recaptcha/enterprise.js?render=",JL="recaptcha-enterprise",ZL="NO_RECAPTCHA";class eM{constructor(e){this.type=JL,this.auth=co(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{CL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new PL(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;kw(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(ZL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&kw(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}Qb(XL+a).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}}async function xw(t,e,n,r=!1){const i=new eM(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Lp(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await xw(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await xw(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(t,e){const n=uo(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Ka(o,e??{}))return i;Un(i,"already-initialized")}return n.initialize({options:e})}function nM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function rM(t,e,n){const r=co(t);ve(r._canInitEmulator,r,"emulator-config-failed"),ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=Yb(e),{host:s,port:a}=iM(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||oM()}function Yb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function iM(t){const e=Yb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Nw(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:Nw(s)}}}function Nw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function oM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gr("not implemented")}_getIdTokenResponse(e){return gr("not implemented")}_linkToIdToken(e,n){return gr("not implemented")}_getReauthenticationResolver(e){return gr("not implemented")}}async function sM(t,e){return Cr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aM(t,e){return _l(t,"POST","/v1/accounts:signInWithPassword",gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lM(t,e){return _l(t,"POST","/v1/accounts:signInWithEmailLink",gi(t,e))}async function uM(t,e){return _l(t,"POST","/v1/accounts:signInWithEmailLink",gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends Cg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ya(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ya(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lp(e,n,"signInWithPassword",aM);case"emailLink":return lM(e,{email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lp(e,r,"signUpPassword",sM);case"emailLink":return uM(e,{idToken:n,email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(t,e){return _l(t,"POST","/v1/accounts:signInWithIdp",gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM="http://localhost";class to extends Cg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new to(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Un("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Ag(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new to(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Go(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Go(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Go(e,n)}buildRequest(){const e={requestUri:cM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dM(t){const e=na(ra(t)).link,n=e?na(ra(e)).deep_link_id:null,r=na(ra(t)).deep_link_id;return(r?na(ra(r)).link:null)||r||n||e||t}class Og{constructor(e){var n,r,i,o,s,a;const l=na(ra(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=fM((i=l.mode)!==null&&i!==void 0?i:null);ve(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=dM(e);try{return new Og(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(){this.providerId=Ts.PROVIDER_ID}static credential(e,n){return Ya._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Og.parseLink(n);return ve(r,"argument-error"),Ya._fromEmailAndCode(e,r.code,r.tenantId)}}Ts.PROVIDER_ID="password";Ts.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ts.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El extends Xb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends El{constructor(){super("facebook.com")}static credential(e){return to._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fr.credential(e.oauthAccessToken)}catch{return null}}}Fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends El{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return to._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Br.credential(n,r)}catch{return null}}}Br.GOOGLE_SIGN_IN_METHOD="google.com";Br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends El{constructor(){super("github.com")}static credential(e){return to._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.GITHUB_SIGN_IN_METHOD="github.com";Ur.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends El{constructor(){super("twitter.com")}static credential(e,n){return to._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $r.credential(n,r)}catch{return null}}}$r.TWITTER_SIGN_IN_METHOD="twitter.com";$r.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hM(t,e){return _l(t,"POST","/v1/accounts:signUp",gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await zi._fromIdTokenResponse(e,r,i),s=Dw(r);return new no({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Dw(r);return new no({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Dw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac extends qn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ac.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ac(e,n,r,i)}}function Jb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ac._fromErrorAndOperation(t,o,e,r):o})}async function pM(t,e,n=!1){const r=await ss(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return no._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mM(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await ss(t,Jb(r,i,e,t),n);ve(o.idToken,r,"internal-error");const s=kg(o.idToken);ve(s,r,"internal-error");const{sub:a}=s;return ve(t.uid===a,r,"user-mismatch"),no._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Un(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zb(t,e,n=!1){const r="signIn",i=await Jb(t,r,e),o=await no._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function gM(t,e){return Zb(co(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eA(t){const e=co(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function vM(t,e,n){const r=co(t),s=await Lp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hM).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&eA(t),l}),a=await no._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function yM(t,e,n){return gM(ct(t),Ts.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&eA(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wM(t,e){return Cr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _M(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ct(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await ss(r,wM(r.auth,o));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function EM(t,e,n,r){return ct(t).onIdTokenChanged(e,n,r)}function TM(t,e,n){return ct(t).beforeAuthStateChanged(e,n)}function tA(t,e,n,r){return ct(t).onAuthStateChanged(e,n,r)}function bM(t){return ct(t).signOut()}const Sc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sc,"1"),this.storage.removeItem(Sc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(){const t=pt();return Pg(t)||mf(t)}const SM=1e3,IM=10;class rA extends nA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=AM()&&qL(),this.fallbackToPolling=Kb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);$L()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,IM):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},SM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rA.type="LOCAL";const kM=rA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA extends nA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}iA.type="SESSION";const oA=iA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new gf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await PM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=Rg("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(d.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(){return window}function OM(t){ir().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(){return typeof ir().WorkerGlobalScope<"u"&&typeof ir().importScripts=="function"}async function RM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function NM(){return sA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="firebaseLocalStorageDb",DM=1,Ic="firebaseLocalStorage",lA="fbase_key";class Tl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vf(t,e){return t.transaction([Ic],e?"readwrite":"readonly").objectStore(Ic)}function LM(){const t=indexedDB.deleteDatabase(aA);return new Tl(t).toPromise()}function Mp(){const t=indexedDB.open(aA,DM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ic,{keyPath:lA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ic)?e(r):(r.close(),await LM(),e(await Mp()))})})}async function Lw(t,e,n){const r=vf(t,!0).put({[lA]:e,value:n});return new Tl(r).toPromise()}async function MM(t,e){const n=vf(t,!1).get(e),r=await new Tl(n).toPromise();return r===void 0?null:r.value}function Mw(t,e){const n=vf(t,!0).delete(e);return new Tl(n).toPromise()}const jM=800,VM=3;class uA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>VM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gf._getInstance(NM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await RM(),!this.activeServiceWorker)return;this.sender=new CM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mp();return await Lw(e,Sc,"1"),await Mw(e,Sc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Lw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>MM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Mw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=vf(i,!1).getAll();return new Tl(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uA.type="LOCAL";const FM=uA;new wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(t,e){return e?vr(e):(ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg extends Cg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Go(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Go(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Go(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function UM(t){return Zb(t.auth,new xg(t),t.bypassAuthState)}function $M(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),mM(n,new xg(t),t.bypassAuthState)}async function qM(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),pM(n,new xg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UM;case"linkViaPopup":case"linkViaRedirect":return qM;case"reauthViaPopup":case"reauthViaRedirect":return $M;default:Un(this.auth,"internal-error")}}resolve(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=new wl(2e3,1e4);class Fo extends cA{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Fo.currentPopupAction&&Fo.currentPopupAction.cancel(),Fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Sr(this.filter.length===1,"Popup operations only handle one event");const e=Rg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zM.get())};e()}}Fo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM="pendingRedirect",Bu=new Map;class WM extends cA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Bu.get(this.auth._key());if(!e){try{const r=await KM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Bu.set(this.auth._key(),e)}return this.bypassAuthState||Bu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KM(t,e){const n=YM(e),r=QM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function GM(t,e){Bu.set(t._key(),e)}function QM(t){return vr(t._redirectPersistence)}function YM(t){return Fu(HM,t.config.apiKey,t.name)}async function XM(t,e,n=!1){const r=co(t),i=BM(r,e),s=await new WM(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=10*60*1e3;class ZM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!e4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!fA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(rr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JM&&this.cachedEventUids.clear(),this.cachedEventUids.has(jw(e))}saveEventToCache(e){this.cachedEventUids.add(jw(e)),this.lastProcessedEventTime=Date.now()}}function jw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function fA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function e4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t4(t,e={}){return Cr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r4=/^https?/;async function i4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await t4(t);for(const n of e)try{if(o4(n))return}catch{}Un(t,"unauthorized-domain")}function o4(t){const e=Dp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!r4.test(n))return!1;if(n4.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=new wl(3e4,6e4);function Vw(){const t=ir().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function a4(t){return new Promise((e,n)=>{var r,i,o;function s(){Vw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Vw(),n(rr(t,"network-request-failed"))},timeout:s4.get()})}if(!((i=(r=ir().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ir().gapi)===null||o===void 0)&&o.load)s();else{const a=YL("iframefcb");return ir()[a]=()=>{gapi.load?s():n(rr(t,"network-request-failed"))},Qb(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Uu=null,e})}let Uu=null;function l4(t){return Uu=Uu||a4(t),Uu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=new wl(5e3,15e3),c4="__/auth/iframe",f4="emulator/auth/iframe",d4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},h4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function p4(t){const e=t.config;ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ig(e,f4):`https://${t.config.authDomain}/${c4}`,r={apiKey:e.apiKey,appName:t.name,v:Es},i=h4.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${yl(r).slice(1)}`}async function m4(t){const e=await l4(t),n=ir().gapi;return ve(n,t,"internal-error"),e.open({where:document.body,url:p4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d4,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=rr(t,"network-request-failed"),a=ir().setTimeout(()=>{o(s)},u4.get());function l(){ir().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v4=500,y4=600,w4="_blank",_4="http://localhost";class Fw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function E4(t,e,n,r=v4,i=y4){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},g4),{width:r.toString(),height:i.toString(),top:o,left:s}),u=pt().toLowerCase();n&&(a=$b(u)?w4:n),Ub(u)&&(e=e||_4,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[h,w])=>`${d}${h}=${w},`,"");if(UL(u)&&a!=="_self")return T4(e||"",a),new Fw(null);const f=window.open(e||"",a,c);ve(f,t,"popup-blocked");try{f.focus()}catch{}return new Fw(f)}function T4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4="__/auth/handler",A4="emulator/auth/handler",S4=encodeURIComponent("fac");async function Bw(t,e,n,r,i,o){ve(t.config.authDomain,t,"auth-domain-config-required"),ve(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Es,eventId:i};if(e instanceof Xb){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",kx(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries(o||{}))s[c]=f}if(e instanceof El){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${S4}=${encodeURIComponent(l)}`:"";return`${I4(t)}?${yl(a).slice(1)}${u}`}function I4({config:t}){return t.emulator?Ig(t,A4):`https://${t.authDomain}/${b4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh="webStorageSupport";class k4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oA,this._completeRedirectFn=XM,this._overrideRedirectResult=GM}async _openPopup(e,n,r,i){var o;Sr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Bw(e,n,r,Dp(),i);return E4(e,s,Rg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await Bw(e,n,r,Dp(),i);return OM(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Sr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await m4(e),r=new ZM(e);return n.register("authEvent",i=>(ve(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(uh,{type:uh},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[uh];s!==void 0&&n(!!s),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=i4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Kb()||Pg()||mf()}}const P4=k4;var Uw="@firebase/auth",$w="1.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function R4(t){ar(new Bn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ve(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gb(t)},u=new GL(r,i,o,l);return nM(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ar(new Bn("auth-internal",e=>{const n=co(e.getProvider("auth").getImmediate());return(r=>new C4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pn(Uw,$w,O4(t)),Pn(Uw,$w,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4=5*60,N4=nb("authIdTokenMaxAge")||x4;let qw=null;const D4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>N4)return;const i=n==null?void 0:n.token;qw!==i&&(qw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function L4(t=vg()){const e=uo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tM(t,{popupRedirectResolver:P4,persistence:[FM,kM,oA]}),r=nb("authTokenSyncURL");if(r){const o=D4(r);TM(n,o,()=>o(n.currentUser)),EM(n,s=>o(s))}const i=eb("auth");return i&&rM(n,`http://${i}`),n}R4("Browser");var M4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ce,Ng=Ng||{},we=M4||self;function yf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function bl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function j4(t){return Object.prototype.hasOwnProperty.call(t,ch)&&t[ch]||(t[ch]=++V4)}var ch="closure_uid_"+(1e9*Math.random()>>>0),V4=0;function F4(t,e,n){return t.call.apply(t.bind,arguments)}function B4(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function zt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?zt=F4:zt=B4,zt.apply(null,arguments)}function cu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function St(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function vi(){this.s=this.s,this.o=this.o}var U4=0;vi.prototype.s=!1;vi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),U4!=0)&&j4(this)};vi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const dA=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Dg(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function zw(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(yf(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Ht(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ht.prototype.h=function(){this.defaultPrevented=!0};var $4=function(){if(!we.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};we.addEventListener("test",n,e),we.removeEventListener("test",n,e)}catch{}return t}();function Xa(t){return/^[\s\xa0]*$/.test(t)}function wf(){var t=we.navigator;return t&&(t=t.userAgent)?t:""}function Xn(t){return wf().indexOf(t)!=-1}function Lg(t){return Lg[" "](t),t}Lg[" "]=function(){};function q4(t,e){var n=Lj;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var z4=Xn("Opera"),as=Xn("Trident")||Xn("MSIE"),hA=Xn("Edge"),jp=hA||as,pA=Xn("Gecko")&&!(wf().toLowerCase().indexOf("webkit")!=-1&&!Xn("Edge"))&&!(Xn("Trident")||Xn("MSIE"))&&!Xn("Edge"),H4=wf().toLowerCase().indexOf("webkit")!=-1&&!Xn("Edge");function mA(){var t=we.document;return t?t.documentMode:void 0}var Vp;e:{var fh="",dh=function(){var t=wf();if(pA)return/rv:([^\);]+)(\)|;)/.exec(t);if(hA)return/Edge\/([\d\.]+)/.exec(t);if(as)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(H4)return/WebKit\/(\S+)/.exec(t);if(z4)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(dh&&(fh=dh?dh[1]:""),as){var hh=mA();if(hh!=null&&hh>parseFloat(fh)){Vp=String(hh);break e}}Vp=fh}var Fp;if(we.document&&as){var Hw=mA();Fp=Hw||parseInt(Vp,10)||void 0}else Fp=void 0;var W4=Fp;function Ja(t,e){if(Ht.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(pA){e:{try{Lg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:K4[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ja.$.h.call(this)}}St(Ja,Ht);var K4={2:"touch",3:"pen",4:"mouse"};Ja.prototype.h=function(){Ja.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Al="closure_listenable_"+(1e6*Math.random()|0),G4=0;function Q4(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++G4,this.fa=this.ia=!1}function _f(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Mg(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Y4(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function gA(t){const e={};for(const n in t)e[n]=t[n];return e}const Ww="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vA(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<Ww.length;o++)n=Ww[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ef(t){this.src=t,this.g={},this.h=0}Ef.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Up(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new Q4(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function Bp(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=dA(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(_f(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Up(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var jg="closure_lm_"+(1e6*Math.random()|0),ph={};function yA(t,e,n,r,i){if(r&&r.once)return _A(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)yA(t,e[o],n,r,i);return null}return n=Bg(n),t&&t[Al]?t.O(e,n,bl(r)?!!r.capture:!!r,i):wA(t,e,n,!1,r,i)}function wA(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=bl(i)?!!i.capture:!!i,a=Fg(t);if(a||(t[jg]=a=new Ef(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=X4(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)$4||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(TA(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function X4(){function t(n){return e.call(t.src,t.listener,n)}const e=J4;return t}function _A(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)_A(t,e[o],n,r,i);return null}return n=Bg(n),t&&t[Al]?t.P(e,n,bl(r)?!!r.capture:!!r,i):wA(t,e,n,!0,r,i)}function EA(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)EA(t,e[o],n,r,i);else r=bl(r)?!!r.capture:!!r,n=Bg(n),t&&t[Al]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Up(o,n,r,i),-1<n&&(_f(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Fg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Up(e,n,r,i)),(n=-1<t?e[t]:null)&&Vg(n))}function Vg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Al])Bp(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(TA(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Fg(e))?(Bp(n,t),n.h==0&&(n.src=null,e[jg]=null)):_f(t)}}}function TA(t){return t in ph?ph[t]:ph[t]="on"+t}function J4(t,e){if(t.fa)t=!0;else{e=new Ja(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Vg(t),t=n.call(r,e)}return t}function Fg(t){return t=t[jg],t instanceof Ef?t:null}var mh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bg(t){return typeof t=="function"?t:(t[mh]||(t[mh]=function(e){return t.handleEvent(e)}),t[mh])}function At(){vi.call(this),this.i=new Ef(this),this.S=this,this.J=null}St(At,vi);At.prototype[Al]=!0;At.prototype.removeEventListener=function(t,e,n,r){EA(this,t,e,n,r)};function xt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Ht(e,t);else if(e instanceof Ht)e.target=e.target||t;else{var i=e;e=new Ht(r,t),vA(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=fu(s,r,!0,e)&&i}if(s=e.g=t,i=fu(s,r,!0,e)&&i,i=fu(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=fu(s,r,!1,e)&&i}At.prototype.N=function(){if(At.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)_f(n[r]);delete t.g[e],t.h--}}this.J=null};At.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};At.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function fu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&Bp(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Ug=we.JSON.stringify;class Z4{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function ej(){var t=$g;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class tj{constructor(){this.h=this.g=null}add(e,n){const r=bA.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var bA=new Z4(()=>new nj,t=>t.reset());class nj{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function rj(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function ij(t){we.setTimeout(()=>{throw t},0)}let Za,el=!1,$g=new tj,AA=()=>{const t=we.Promise.resolve(void 0);Za=()=>{t.then(oj)}};var oj=()=>{for(var t;t=ej();){try{t.h.call(t.g)}catch(n){ij(n)}var e=bA;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}el=!1};function Tf(t,e){At.call(this),this.h=t||1,this.g=e||we,this.j=zt(this.qb,this),this.l=Date.now()}St(Tf,At);ce=Tf.prototype;ce.ga=!1;ce.T=null;ce.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),xt(this,"tick"),this.ga&&(qg(this),this.start()))}};ce.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function qg(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ce.N=function(){Tf.$.N.call(this),qg(this),delete this.g};function zg(t,e,n){if(typeof t=="function")n&&(t=zt(t,n));else if(t&&typeof t.handleEvent=="function")t=zt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:we.setTimeout(t,e||0)}function SA(t){t.g=zg(()=>{t.g=null,t.i&&(t.i=!1,SA(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class sj extends vi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:SA(this)}N(){super.N(),this.g&&(we.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tl(t){vi.call(this),this.h=t,this.g={}}St(tl,vi);var Kw=[];function IA(t,e,n,r){Array.isArray(n)||(n&&(Kw[0]=n.toString()),n=Kw);for(var i=0;i<n.length;i++){var o=yA(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function kA(t){Mg(t.g,function(e,n){this.g.hasOwnProperty(n)&&Vg(e)},t),t.g={}}tl.prototype.N=function(){tl.$.N.call(this),kA(this)};tl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function bf(){this.g=!0}bf.prototype.Ea=function(){this.g=!1};function aj(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var f=c.split("_");s=2<=f.length&&f[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function lj(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function Bo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+cj(t,n)+(r?" "+r:"")})}function uj(t,e){t.info(function(){return"TIMEOUT: "+e})}bf.prototype.info=function(){};function cj(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Ug(n)}catch{return e}}var fo={},Gw=null;function Af(){return Gw=Gw||new At}fo.Ta="serverreachability";function PA(t){Ht.call(this,fo.Ta,t)}St(PA,Ht);function nl(t){const e=Af();xt(e,new PA(e))}fo.STAT_EVENT="statevent";function CA(t,e){Ht.call(this,fo.STAT_EVENT,t),this.stat=e}St(CA,Ht);function Yt(t){const e=Af();xt(e,new CA(e,t))}fo.Ua="timingevent";function OA(t,e){Ht.call(this,fo.Ua,t),this.size=e}St(OA,Ht);function Sl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return we.setTimeout(function(){t()},e)}var Sf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},RA={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Hg(){}Hg.prototype.h=null;function Qw(t){return t.h||(t.h=t.i())}function xA(){}var Il={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Wg(){Ht.call(this,"d")}St(Wg,Ht);function Kg(){Ht.call(this,"c")}St(Kg,Ht);var $p;function If(){}St(If,Hg);If.prototype.g=function(){return new XMLHttpRequest};If.prototype.i=function(){return{}};$p=new If;function kl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new tl(this),this.P=fj,t=jp?125:void 0,this.V=new Tf(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new NA}function NA(){this.i=null,this.g="",this.h=!1}var fj=45e3,DA={},qp={};ce=kl.prototype;ce.setTimeout=function(t){this.P=t};function zp(t,e,n){t.L=1,t.A=Pf(Ir(e)),t.u=n,t.S=!0,LA(t,null)}function LA(t,e){t.G=Date.now(),Pl(t),t.B=Ir(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),qA(n.i,"t",r),t.o=0,n=t.l.J,t.h=new NA,t.g=cS(t.l,n?e:null,!t.u),0<t.O&&(t.M=new sj(zt(t.Pa,t,t.g),t.O)),IA(t.U,t.g,"readystatechange",t.nb),e=t.I?gA(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),nl(),aj(t.j,t.v,t.B,t.m,t.W,t.u)}ce.nb=function(t){t=t.target;const e=this.M;e&&Jn(t)==3?e.l():this.Pa(t)};ce.Pa=function(t){try{if(t==this.g)e:{const c=Jn(this.g);var e=this.g.Ia();const f=this.g.da();if(!(3>c)&&(c!=3||jp||this.g&&(this.h.h||this.g.ja()||Zw(this.g)))){this.J||c!=4||e==7||(e==8||0>=f?nl(3):nl(2)),kf(this);var n=this.g.da();this.ca=n;t:if(MA(this)){var r=Zw(this.g);t="";var i=r.length,o=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vi(this),_a(this);var s="";break t}this.h.i=new we.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,lj(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xa(a)){var u=a;break t}}u=null}if(n=u)Bo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hp(this,n);else{this.i=!1,this.s=3,Yt(12),Vi(this),_a(this);break e}}this.S?(jA(this,c,s),jp&&this.i&&c==3&&(IA(this.U,this.V,"tick",this.mb),this.V.start())):(Bo(this.j,this.m,s,null),Hp(this,s)),c==4&&Vi(this),this.i&&!this.J&&(c==4?sS(this.l,this):(this.i=!1,Pl(this)))}else xj(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,Yt(12)):(this.s=0,Yt(13)),Vi(this),_a(this)}}}catch{}finally{}};function MA(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function jA(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=dj(t,n),i==qp){e==4&&(t.s=4,Yt(14),r=!1),Bo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==DA){t.s=4,Yt(15),Bo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Bo(t.j,t.m,i,null),Hp(t,i);MA(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Yt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zg(e),e.M=!0,Yt(11))):(Bo(t.j,t.m,n,"[Invalid Chunked Response]"),Vi(t),_a(t))}ce.mb=function(){if(this.g){var t=Jn(this.g),e=this.g.ja();this.o<e.length&&(kf(this),jA(this,t,e),this.i&&t!=4&&Pl(this))}};function dj(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?qp:(n=Number(e.substring(n,r)),isNaN(n)?DA:(r+=1,r+n>e.length?qp:(e=e.slice(r,r+n),t.o=r+n,e)))}ce.cancel=function(){this.J=!0,Vi(this)};function Pl(t){t.Y=Date.now()+t.P,VA(t,t.P)}function VA(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Sl(zt(t.lb,t),e)}function kf(t){t.C&&(we.clearTimeout(t.C),t.C=null)}ce.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(uj(this.j,this.B),this.L!=2&&(nl(),Yt(17)),Vi(this),this.s=2,_a(this)):VA(this,this.Y-t)};function _a(t){t.l.H==0||t.J||sS(t.l,t)}function Vi(t){kf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,qg(t.V),kA(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Hp(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Wp(n.i,t))){if(!t.K&&Wp(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Cc(n),xf(n);else break e;Jg(n),Yt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Sl(zt(n.ib,n),6e3));if(1>=WA(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Fi(n,11)}else if((t.K||n.g==t)&&Cc(n),!Xa(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const f=u[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const w=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var o=r.i;o.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Gg(o,o.h),o.h=null))}if(r.F){const y=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,Qe(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=uS(r,r.J?r.pa:null,r.Y),s.K){KA(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(kf(a),Pl(a)),r.g=s}else iS(r);0<n.j.length&&Nf(n)}else u[0]!="stop"&&u[0]!="close"||Fi(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Fi(n,7):Xg(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}nl(4)}catch{}}function hj(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(yf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function pj(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(yf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function FA(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(yf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=pj(t),r=hj(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var BA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mj(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Hi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Hi){this.h=t.h,kc(this,t.j),this.s=t.s,this.g=t.g,Pc(this,t.m),this.l=t.l;var e=t.i,n=new rl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Yw(this,n),this.o=t.o}else t&&(e=String(t).match(BA))?(this.h=!1,kc(this,e[1]||"",!0),this.s=ia(e[2]||""),this.g=ia(e[3]||"",!0),Pc(this,e[4]),this.l=ia(e[5]||"",!0),Yw(this,e[6]||"",!0),this.o=ia(e[7]||"")):(this.h=!1,this.i=new rl(null,this.h))}Hi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(oa(e,Xw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(oa(e,Xw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(oa(n,n.charAt(0)=="/"?yj:vj,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",oa(n,_j)),t.join("")};function Ir(t){return new Hi(t)}function kc(t,e,n){t.j=n?ia(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Pc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Yw(t,e,n){e instanceof rl?(t.i=e,Ej(t.i,t.h)):(n||(e=oa(e,wj)),t.i=new rl(e,t.h))}function Qe(t,e,n){t.i.set(e,n)}function Pf(t){return Qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ia(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function oa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,gj),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function gj(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Xw=/[#\/\?@]/g,vj=/[#\?:]/g,yj=/[#\?]/g,wj=/[#\?@]/g,_j=/#/g;function rl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function yi(t){t.g||(t.g=new Map,t.h=0,t.i&&mj(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ce=rl.prototype;ce.add=function(t,e){yi(this),this.i=null,t=bs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function UA(t,e){yi(t),e=bs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function $A(t,e){return yi(t),e=bs(t,e),t.g.has(e)}ce.forEach=function(t,e){yi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ce.ta=function(){yi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};ce.Z=function(t){yi(this);let e=[];if(typeof t=="string")$A(this,t)&&(e=e.concat(this.g.get(bs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ce.set=function(t,e){return yi(this),this.i=null,t=bs(this,t),$A(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ce.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function qA(t,e,n){UA(t,e),0<n.length&&(t.i=null,t.g.set(bs(t,e),Dg(n)),t.h+=n.length)}ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function bs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Ej(t,e){e&&!t.j&&(yi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(UA(this,r),qA(this,i,n))},t)),t.j=e}var Tj=class{constructor(t,e){this.g=t,this.map=e}};function zA(t){this.l=t||bj,we.PerformanceNavigationTiming?(t=we.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(we.g&&we.g.Ka&&we.g.Ka()&&we.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var bj=10;function HA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function WA(t){return t.h?1:t.g?t.g.size:0}function Wp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Gg(t,e){t.g?t.g.add(e):t.h=e}function KA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}zA.prototype.cancel=function(){if(this.i=GA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function GA(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Dg(t.i)}var Aj=class{stringify(t){return we.JSON.stringify(t,void 0)}parse(t){return we.JSON.parse(t,void 0)}};function Sj(){this.g=new Aj}function Ij(t,e,n){const r=n||"";try{FA(t,function(i,o){let s=i;bl(i)&&(s=Ug(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function kj(t,e){const n=new bf;if(we.Image){const r=new Image;r.onload=cu(du,n,r,"TestLoadImage: loaded",!0,e),r.onerror=cu(du,n,r,"TestLoadImage: error",!1,e),r.onabort=cu(du,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=cu(du,n,r,"TestLoadImage: timeout",!1,e),we.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function du(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Cf(t){this.l=t.ec||null,this.j=t.ob||!1}St(Cf,Hg);Cf.prototype.g=function(){return new Of(this.l,this.j)};Cf.prototype.i=function(t){return function(){return t}}({});function Of(t,e){At.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Qg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}St(Of,At);var Qg=0;ce=Of.prototype;ce.open=function(t,e){if(this.readyState!=Qg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,il(this)};ce.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||we).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cl(this)),this.readyState=Qg};ce.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,il(this)),this.g&&(this.readyState=3,il(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof we.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;QA(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function QA(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ce.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Cl(this):il(this),this.readyState==3&&QA(this)}};ce.Za=function(t){this.g&&(this.response=this.responseText=t,Cl(this))};ce.Ya=function(t){this.g&&(this.response=t,Cl(this))};ce.ka=function(){this.g&&Cl(this)};function Cl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,il(t)}ce.setRequestHeader=function(t,e){this.v.append(t,e)};ce.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ce.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function il(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Of.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Pj=we.JSON.parse;function ot(t){At.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=YA,this.L=this.M=!1}St(ot,At);var YA="",Cj=/^https?$/i,Oj=["POST","PUT"];ce=ot.prototype;ce.Oa=function(t){this.M=t};ce.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():$p.g(),this.C=this.u?Qw(this.u):Qw($p),this.g.onreadystatechange=zt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){Jw(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=we.FormData&&t instanceof we.FormData,!(0<=dA(Oj,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ZA(this),0<this.B&&((this.L=Rj(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zt(this.ua,this)):this.A=zg(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Jw(this,o)}};function Rj(t){return as&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ce.ua=function(){typeof Ng<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xt(this,"timeout"),this.abort(8))};function Jw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,XA(t),Rf(t)}function XA(t){t.F||(t.F=!0,xt(t,"complete"),xt(t,"error"))}ce.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,xt(this,"complete"),xt(this,"abort"),Rf(this))};ce.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rf(this,!0)),ot.$.N.call(this)};ce.La=function(){this.s||(this.G||this.v||this.l?JA(this):this.kb())};ce.kb=function(){JA(this)};function JA(t){if(t.h&&typeof Ng<"u"&&(!t.C[1]||Jn(t)!=4||t.da()!=2)){if(t.v&&Jn(t)==4)zg(t.La,0,t);else if(xt(t,"readystatechange"),Jn(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(BA)[1]||null;!i&&we.self&&we.self.location&&(i=we.self.location.protocol.slice(0,-1)),r=!Cj.test(i?i.toLowerCase():"")}n=r}if(n)xt(t,"complete"),xt(t,"success");else{t.m=6;try{var o=2<Jn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",XA(t)}}finally{Rf(t)}}}}function Rf(t,e){if(t.g){ZA(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||xt(t,"ready");try{n.onreadystatechange=r}catch{}}}function ZA(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(we.clearTimeout(t.A),t.A=null)}ce.isActive=function(){return!!this.g};function Jn(t){return t.g?t.g.readyState:0}ce.da=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}};ce.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ce.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Pj(e)}};function Zw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case YA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function xj(t){const e={};t=(t.g&&2<=Jn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Xa(t[r]))continue;var n=rj(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}Y4(e,function(r){return r.join(", ")})}ce.Ia=function(){return this.m};ce.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function eS(t){let e="";return Mg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Yg(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=eS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Qe(t,e,n))}function Ks(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function tS(t){this.Ga=0,this.j=[],this.l=new bf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ks("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ks("baseRetryDelayMs",5e3,t),this.hb=Ks("retryDelaySeedMs",1e4,t),this.eb=Ks("forwardChannelMaxRetries",2,t),this.xa=Ks("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new zA(t&&t.concurrentRequestLimit),this.Ja=new Sj,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ce=tS.prototype;ce.ra=8;ce.H=1;function Xg(t){if(nS(t),t.H==3){var e=t.W++,n=Ir(t.I);if(Qe(n,"SID",t.K),Qe(n,"RID",e),Qe(n,"TYPE","terminate"),Ol(t,n),e=new kl(t,t.l,e),e.L=2,e.A=Pf(Ir(n)),n=!1,we.navigator&&we.navigator.sendBeacon)try{n=we.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&we.Image&&(new Image().src=e.A,n=!0),n||(e.g=cS(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Pl(e)}lS(t)}function xf(t){t.g&&(Zg(t),t.g.cancel(),t.g=null)}function nS(t){xf(t),t.u&&(we.clearTimeout(t.u),t.u=null),Cc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&we.clearTimeout(t.m),t.m=null)}function Nf(t){if(!HA(t.i)&&!t.m){t.m=!0;var e=t.Na;Za||AA(),el||(Za(),el=!0),$g.add(e,t),t.C=0}}function Nj(t,e){return WA(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Sl(zt(t.Na,t,e),aS(t,t.C)),t.C++,!0)}ce.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new kl(this,this.l,t);let o=this.s;if(this.U&&(o?(o=gA(o),vA(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=rS(this,i,e),n=Ir(this.I),Qe(n,"RID",t),Qe(n,"CVER",22),this.F&&Qe(n,"X-HTTP-Session-Id",this.F),Ol(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(eS(o)))+"&"+e:this.o&&Yg(n,this.o,o)),Gg(this.i,i),this.bb&&Qe(n,"TYPE","init"),this.P?(Qe(n,"$req",e),Qe(n,"SID","null"),i.aa=!0,zp(i,n,null)):zp(i,n,e),this.H=2}}else this.H==3&&(t?e_(this,t):this.j.length==0||HA(this.i)||e_(this))};function e_(t,e){var n;e?n=e.m:n=t.W++;const r=Ir(t.I);Qe(r,"SID",t.K),Qe(r,"RID",n),Qe(r,"AID",t.V),Ol(t,r),t.o&&t.s&&Yg(r,t.o,t.s),n=new kl(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=rS(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Gg(t.i,n),zp(n,r,e)}function Ol(t,e){t.na&&Mg(t.na,function(n,r){Qe(e,r,n)}),t.h&&FA({},function(n,r){Qe(e,r,n)})}function rS(t,e,n){n=Math.min(t.j.length,n);var r=t.h?zt(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{Ij(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function iS(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Za||AA(),el||(Za(),el=!0),$g.add(e,t),t.A=0}}function Jg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Sl(zt(t.Ma,t),aS(t,t.A)),t.A++,!0)}ce.Ma=function(){if(this.u=null,oS(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Sl(zt(this.jb,this),t)}};ce.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Yt(10),xf(this),oS(this))};function Zg(t){t.B!=null&&(we.clearTimeout(t.B),t.B=null)}function oS(t){t.g=new kl(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ir(t.wa);Qe(e,"RID","rpc"),Qe(e,"SID",t.K),Qe(e,"AID",t.V),Qe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Qe(e,"TO",t.qa),Qe(e,"TYPE","xmlhttp"),Ol(t,e),t.o&&t.s&&Yg(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Pf(Ir(e)),n.u=null,n.S=!0,LA(n,t)}ce.ib=function(){this.v!=null&&(this.v=null,xf(this),Jg(this),Yt(19))};function Cc(t){t.v!=null&&(we.clearTimeout(t.v),t.v=null)}function sS(t,e){var n=null;if(t.g==e){Cc(t),Zg(t),t.g=null;var r=2}else if(Wp(t.i,e))n=e.F,KA(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Af(),xt(r,new OA(r,n)),Nf(t)}else iS(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&Nj(t,e)||r==2&&Jg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Fi(t,5);break;case 4:Fi(t,10);break;case 3:Fi(t,6);break;default:Fi(t,2)}}}function aS(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Fi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=zt(t.pb,t);n||(n=new Hi("//www.google.com/images/cleardot.gif"),we.location&&we.location.protocol=="http"||kc(n,"https"),Pf(n)),kj(n.toString(),r)}else Yt(2);t.H=0,t.h&&t.h.za(e),lS(t),nS(t)}ce.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Yt(2)):(this.l.info("Failed to ping google.com"),Yt(1))};function lS(t){if(t.H=0,t.ma=[],t.h){const e=GA(t.i);(e.length!=0||t.j.length!=0)&&(zw(t.ma,e),zw(t.ma,t.j),t.i.i.length=0,Dg(t.j),t.j.length=0),t.h.ya()}}function uS(t,e,n){var r=n instanceof Hi?Ir(n):new Hi(n);if(r.g!="")e&&(r.g=e+"."+r.g),Pc(r,r.m);else{var i=we.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Hi(null);r&&kc(o,r),e&&(o.g=e),i&&Pc(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Qe(r,n,e),Qe(r,"VER",t.ra),Ol(t,r),r}function cS(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ot(new Cf({ob:n})):new ot(t.va),e.Oa(t.J),e}ce.isActive=function(){return!!this.h&&this.h.isActive(this)};function fS(){}ce=fS.prototype;ce.Ba=function(){};ce.Aa=function(){};ce.za=function(){};ce.ya=function(){};ce.isActive=function(){return!0};ce.Va=function(){};function Oc(){if(as&&!(10<=Number(W4)))throw Error("Environmental error: no available transport.")}Oc.prototype.g=function(t,e){return new yn(t,e)};function yn(t,e){At.call(this),this.g=new tS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Xa(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Xa(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new As(this)}St(yn,At);yn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Yt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=uS(t,null,t.Y),Nf(t)};yn.prototype.close=function(){Xg(this.g)};yn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Ug(t),t=n);e.j.push(new Tj(e.fb++,t)),e.H==3&&Nf(e)};yn.prototype.N=function(){this.g.h=null,delete this.j,Xg(this.g),delete this.g,yn.$.N.call(this)};function dS(t){Wg.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}St(dS,Wg);function hS(){Kg.call(this),this.status=1}St(hS,Kg);function As(t){this.g=t}St(As,fS);As.prototype.Ba=function(){xt(this.g,"a")};As.prototype.Aa=function(t){xt(this.g,new dS(t))};As.prototype.za=function(t){xt(this.g,new hS)};As.prototype.ya=function(){xt(this.g,"b")};function Dj(){this.blockSize=-1}function $n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}St($n,Dj);$n.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function gh(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}$n.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)gh(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){gh(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){gh(this,r),i=0;break}}this.h=i,this.i+=e};$n.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ue(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var Lj={};function ev(t){return-128<=t&&128>t?q4(t,function(e){return new Ue([e|0],0>e?-1:0)}):new Ue([t|0],0>t?-1:0)}function Zn(t){if(isNaN(t)||!isFinite(t))return Qo;if(0>t)return Ct(Zn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Kp;return new Ue(e,0)}function pS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ct(pS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Zn(Math.pow(e,8)),r=Qo,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Zn(Math.pow(e,o)),r=r.R(o).add(Zn(s))):(r=r.R(n),r=r.add(Zn(s)))}return r}var Kp=4294967296,Qo=ev(0),Gp=ev(1),t_=ev(16777216);ce=Ue.prototype;ce.ea=function(){if(Sn(this))return-Ct(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Kp+r)*e,e*=Kp}return t};ce.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(yr(this))return"0";if(Sn(this))return"-"+Ct(this).toString(t);for(var e=Zn(Math.pow(t,6)),n=this,r="";;){var i=xc(n,e).g;n=Rc(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,yr(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};ce.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function yr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Sn(t){return t.h==-1}ce.X=function(t){return t=Rc(this,t),Sn(t)?-1:yr(t)?0:1};function Ct(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ue(n,~t.h).add(Gp)}ce.abs=function(){return Sn(this)?Ct(this):this};ce.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Ue(n,n[n.length-1]&-2147483648?-1:0)};function Rc(t,e){return t.add(Ct(e))}ce.R=function(t){if(yr(this)||yr(t))return Qo;if(Sn(this))return Sn(t)?Ct(this).R(Ct(t)):Ct(Ct(this).R(t));if(Sn(t))return Ct(this.R(Ct(t)));if(0>this.X(t_)&&0>t.X(t_))return Zn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,hu(n,2*r+2*i),n[2*r+2*i+1]+=o*l,hu(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,hu(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,hu(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ue(n,0)};function hu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Gs(t,e){this.g=t,this.h=e}function xc(t,e){if(yr(e))throw Error("division by zero");if(yr(t))return new Gs(Qo,Qo);if(Sn(t))return e=xc(Ct(t),e),new Gs(Ct(e.g),Ct(e.h));if(Sn(e))return e=xc(t,Ct(e)),new Gs(Ct(e.g),e.h);if(30<t.g.length){if(Sn(t)||Sn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Gp,r=e;0>=r.X(t);)n=n_(n),r=n_(r);var i=bo(n,1),o=bo(r,1);for(r=bo(r,2),n=bo(n,2);!yr(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=bo(r,1),n=bo(n,1)}return e=Rc(t,i.R(e)),new Gs(i,e)}for(i=Qo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Zn(n),s=o.R(e);Sn(s)||0<s.X(t);)n-=r,o=Zn(n),s=o.R(e);yr(o)&&(o=Gp),i=i.add(o),t=Rc(t,s)}return new Gs(i,t)}ce.gb=function(t){return xc(this,t).h};ce.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ue(n,this.h&t.h)};ce.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ue(n,this.h|t.h)};ce.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ue(n,this.h^t.h)};function n_(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ue(n,t.h)}function bo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ue(i,t.h)}Oc.prototype.createWebChannel=Oc.prototype.g;yn.prototype.send=yn.prototype.u;yn.prototype.open=yn.prototype.m;yn.prototype.close=yn.prototype.close;Sf.NO_ERROR=0;Sf.TIMEOUT=8;Sf.HTTP_ERROR=6;RA.COMPLETE="complete";xA.EventType=Il;Il.OPEN="a";Il.CLOSE="b";Il.ERROR="c";Il.MESSAGE="d";At.prototype.listen=At.prototype.O;ot.prototype.listenOnce=ot.prototype.P;ot.prototype.getLastError=ot.prototype.Sa;ot.prototype.getLastErrorCode=ot.prototype.Ia;ot.prototype.getStatus=ot.prototype.da;ot.prototype.getResponseJson=ot.prototype.Wa;ot.prototype.getResponseText=ot.prototype.ja;ot.prototype.send=ot.prototype.ha;ot.prototype.setWithCredentials=ot.prototype.Oa;$n.prototype.digest=$n.prototype.l;$n.prototype.reset=$n.prototype.reset;$n.prototype.update=$n.prototype.j;Ue.prototype.add=Ue.prototype.add;Ue.prototype.multiply=Ue.prototype.R;Ue.prototype.modulo=Ue.prototype.gb;Ue.prototype.compare=Ue.prototype.X;Ue.prototype.toNumber=Ue.prototype.ea;Ue.prototype.toString=Ue.prototype.toString;Ue.prototype.getBits=Ue.prototype.D;Ue.fromNumber=Zn;Ue.fromString=pS;var Mj=function(){return new Oc},jj=function(){return Af()},vh=Sf,Vj=RA,Fj=fo,r_={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},pu=xA,Bj=ot,Uj=$n,Yo=Ue;const i_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ss="10.7.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=new df("@firebase/firestore");function Qs(){return ro.logLevel}function ue(t,...e){if(ro.logLevel<=Ne.DEBUG){const n=e.map(tv);ro.debug(`Firestore (${Ss}): ${t}`,...n)}}function lr(t,...e){if(ro.logLevel<=Ne.ERROR){const n=e.map(tv);ro.error(`Firestore (${Ss}): ${t}`,...n)}}function ls(t,...e){if(ro.logLevel<=Ne.WARN){const n=e.map(tv);ro.warn(`Firestore (${Ss}): ${t}`,...n)}}function tv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(t="Unexpected state"){const e=`FIRESTORE (${Ss}) INTERNAL ASSERTION FAILED: `+t;throw lr(e),new Error(e)}function He(t,e){t||ye()}function be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends qn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $j{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ut.UNAUTHENTICATED))}shutdown(){}}class qj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class zj{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new _r,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _r)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string"),new mS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new Ut(e)}}class Hj{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Wj{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Hj(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gj{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ue("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string"),this.R=n.token,new Kj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Qj(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Fe(t,e){return t<e?-1:t>e?1:0}function us(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new pe(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new yt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Te(e)}static min(){return new Te(new yt(0,0))}static max(){return new Te(new yt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n,r){n===void 0?n=0:n>e.length&&ye(),r===void 0?r=e.length-n:r>e.length-n&&ye(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ol.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ol?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Je extends ol{construct(e,n,r){return new Je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Je(n)}static emptyPath(){return new Je([])}}const Yj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends ol{construct(e,n,r){return new Ot(e,n,r)}static isValidIdentifier(e){return Yj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ot(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new pe(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new pe(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new pe(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new pe(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(n)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(Je.fromString(e))}static fromName(e){return new me(Je.fromString(e).popFirst(5))}static empty(){return new me(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new Je(e.slice()))}}function Xj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Te.fromTimestamp(r===1e9?new yt(n+1,0):new yt(n,r));return new li(i,me.empty(),e)}function Jj(t){return new li(t.readTime,t.key,-1)}class li{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new li(Te.min(),me.empty(),-1)}static max(){return new li(Te.max(),me.empty(),-1)}}function Zj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class t5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==e5)throw t;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.reject(n)}static resolve(e){return new ie((n,r)=>{n(e)})}static reject(e){return new ie((n,r)=>{r(e)})}static waitFor(e){return new ie((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next(i=>i?ie.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ie((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new ie((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new _r,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Ea(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=rv(r.target.error);this.V.reject(new Ea(e,i))}}static open(e,n,r,i){try{return new nv(n,e.transaction(i,r))}catch(o){throw new Ea(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ue("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new r5(n)}}class Bi{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Bi.S(pt())===12.2&&lr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ue("SimpleDb","Removing database:",e),xi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!mg())return!1;if(Bi.C())return!0;const e=pt(),n=Bi.S(e),r=0<n&&n<10,i=Bi.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(ue("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new Ea(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new pe(oe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new pe(oe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new Ea(e,s))},i.onupgradeneeded=o=>{ue("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.p.N(s,i.transaction,o.oldVersion,this.version).next(()=>{ue("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.O(e);const a=nv.open(this.db,e,o?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),ie.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&s<3;if(ue("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class n5{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return xi(this.k.delete())}}class Ea extends pe{constructor(e,n){super(oe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function xl(t){return t.name==="IndexedDbTransactionError"}class r5{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(ue("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(ue("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),xi(r)}add(e){return ue("SimpleDb","ADD",this.store.name,e,e),xi(this.store.add(e))}get(e){return xi(this.store.get(e)).next(n=>(n===void 0&&(n=null),ue("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return ue("SimpleDb","DELETE",this.store.name,e),xi(this.store.delete(e))}count(){return ue("SimpleDb","COUNT",this.store.name),xi(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new ie((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.G(o,(a,l)=>{s.push(l)}).next(()=>s)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new ie((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){ue("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new ie((r,i)=>{n.onerror=o=>{const s=rv(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new ie((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new n5(a),u=n(a.primaryKey,a.value,l);if(u instanceof ie){const c=u.catch(f=>(l.done(),ie.reject(f)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>ie.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function xi(t){return new ie((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=rv(r.target.error);n(i)}})}let o_=!1;function rv(t){const e=Bi.S(pt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new pe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return o_||(o_=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}iv._e=-1;function Df(t){return t==null}function Nc(t){return t===0&&1/t==-1/0}function i5(t){return typeof t=="number"&&Number.isInteger(t)&&!Nc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ho(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.comparator=e,this.root=n||Pt.EMPTY}insert(e,n){return new nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mu(this.root,e,this.comparator,!1)}getReverseIterator(){return new mu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mu(this.root,e,this.comparator,!0)}}class mu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Pt.RED,this.left=i??Pt.EMPTY,this.right=o??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Pt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Pt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();const e=this.left.check();if(e!==this.right.check())throw ye();return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye()}get value(){throw ye()}get color(){throw ye()}get left(){throw ye()}get right(){throw ye()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new a_(this.data.getIterator())}getIteratorFrom(e){return new a_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class a_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new pn([])}unionWith(e){let n=new Nt(Ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return us(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new yS("Invalid base64 string: "+o):o}}(e);return new Kt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const o5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ui(t){if(He(!!t),typeof t=="string"){let e=0;const n=o5.exec(t);if(He(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(t.seconds),nanos:dt(t.nanos)}}function dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function io(t){return typeof t=="string"?Kt.fromBase64String(t):Kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function sv(t){const e=t.mapValue.fields.__previous_value__;return ov(e)?sv(e):e}function sl(t){const e=ui(t.mapValue.fields.__local_write_time__.timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class al{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new al("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof al&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function oo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ov(t)?4:a5(t)?9007199254740991:10:ye()}function ur(t,e){if(t===e)return!0;const n=oo(t);if(n!==oo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sl(t).isEqual(sl(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ui(i.timestampValue),a=ui(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return io(i.bytesValue).isEqual(io(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return dt(i.geoPointValue.latitude)===dt(o.geoPointValue.latitude)&&dt(i.geoPointValue.longitude)===dt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return dt(i.integerValue)===dt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=dt(i.doubleValue),a=dt(o.doubleValue);return s===a?Nc(s)===Nc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return us(t.arrayValue.values||[],e.arrayValue.values||[],ur);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(s_(s)!==s_(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!ur(s[l],a[l])))return!1;return!0}(t,e);default:return ye()}}function ll(t,e){return(t.values||[]).find(n=>ur(n,e))!==void 0}function cs(t,e){if(t===e)return 0;const n=oo(t),r=oo(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=dt(o.integerValue||o.doubleValue),l=dt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return l_(t.timestampValue,e.timestampValue);case 4:return l_(sl(t),sl(e));case 5:return Fe(t.stringValue,e.stringValue);case 6:return function(o,s){const a=io(o),l=io(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Fe(a[u],l[u]);if(c!==0)return c}return Fe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Fe(dt(o.latitude),dt(s.latitude));return a!==0?a:Fe(dt(o.longitude),dt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=cs(a[u],l[u]);if(c)return c}return Fe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===gu.mapValue&&s===gu.mapValue)return 0;if(o===gu.mapValue)return 1;if(s===gu.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const d=Fe(l[f],c[f]);if(d!==0)return d;const h=cs(a[l[f]],u[c[f]]);if(h!==0)return h}return Fe(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ye()}}function l_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=ui(t),r=ui(e),i=Fe(n.seconds,r.seconds);return i!==0?i:Fe(n.nanos,r.nanos)}function fs(t){return Qp(t)}function Qp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ui(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return io(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Qp(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Qp(n.fields[s])}`;return i+"}"}(t.mapValue):ye()}function Yp(t){return!!t&&"integerValue"in t}function av(t){return!!t&&"arrayValue"in t}function u_(t){return!!t&&"nullValue"in t}function c_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $u(t){return!!t&&"mapValue"in t}function Ta(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ho(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ta(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ta(t.arrayValue.values[n]);return e}return Object.assign({},t)}function a5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$u(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ta(n)}setAll(e){let n=Ot.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ta(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());$u(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];$u(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ho(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new nn(Ta(this.value))}}function wS(t){const e=[];return ho(t.fields,(n,r)=>{const i=new Ot([n]);if($u(r)){const o=wS(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new qt(e,0,Te.min(),Te.min(),Te.min(),nn.empty(),0)}static newFoundDocument(e,n,r,i){return new qt(e,1,n,Te.min(),r,i,0)}static newNoDocument(e,n){return new qt(e,2,n,Te.min(),Te.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new qt(e,3,n,Te.min(),Te.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n){this.position=e,this.inclusive=n}}function f_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=me.comparator(me.fromName(s.referenceValue),n.key):r=cs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function d_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ur(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n="asc"){this.field=e,this.dir=n}}function l5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{}class gt extends _S{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new c5(e,n,r):n==="array-contains"?new h5(e,r):n==="in"?new p5(e,r):n==="not-in"?new m5(e,r):n==="array-contains-any"?new g5(e,r):new gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new f5(e,r):new d5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(cs(n,this.value)):n!==null&&oo(this.value)===oo(n)&&this.matchesComparison(cs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends _S{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new cr(e,n)}matches(e){return ES(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function ES(t){return t.op==="and"}function TS(t){return u5(t)&&ES(t)}function u5(t){for(const e of t.filters)if(e instanceof cr)return!1;return!0}function Xp(t){if(t instanceof gt)return t.field.canonicalString()+t.op.toString()+fs(t.value);if(TS(t))return t.filters.map(e=>Xp(e)).join(",");{const e=t.filters.map(n=>Xp(n)).join(",");return`${t.op}(${e})`}}function bS(t,e){return t instanceof gt?function(r,i){return i instanceof gt&&r.op===i.op&&r.field.isEqual(i.field)&&ur(r.value,i.value)}(t,e):t instanceof cr?function(r,i){return i instanceof cr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&bS(s,i.filters[a]),!0):!1}(t,e):void ye()}function AS(t){return t instanceof gt?function(n){return`${n.field.canonicalString()} ${n.op} ${fs(n.value)}`}(t):t instanceof cr?function(n){return n.op.toString()+" {"+n.getFilters().map(AS).join(" ,")+"}"}(t):"Filter"}class c5 extends gt{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class f5 extends gt{constructor(e,n){super(e,"in",n),this.keys=SS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class d5 extends gt{constructor(e,n){super(e,"not-in",n),this.keys=SS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function SS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>me.fromName(r.referenceValue))}class h5 extends gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return av(n)&&ll(n.arrayValue,this.value)}}class p5 extends gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ll(this.value.arrayValue,n)}}class m5 extends gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ll(this.value.arrayValue,n)}}class g5 extends gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!av(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ll(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function h_(t,e=null,n=[],r=[],i=null,o=null,s=null){return new v5(t,e,n,r,i,o,s)}function lv(t){const e=be(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Xp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Df(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fs(r)).join(",")),e.ce=n}return e.ce}function uv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!l5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!d_(t.startAt,e.startAt)&&d_(t.endAt,e.endAt)}function Jp(t){return me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function y5(t,e,n,r,i,o,s,a){return new Lf(t,e,n,r,i,o,s,a)}function IS(t){return new Lf(t)}function p_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function w5(t){return t.collectionGroup!==null}function ba(t){const e=be(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Nt(Ot.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Lc(o,r))}),n.has(Ot.keyField().canonicalString())||e.le.push(new Lc(Ot.keyField(),r))}return e.le}function or(t){const e=be(t);return e.he||(e.he=_5(e,ba(t))),e.he}function _5(t,e){if(t.limitType==="F")return h_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Lc(i.field,o)});const n=t.endAt?new Dc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Dc(t.startAt.position,t.startAt.inclusive):null;return h_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Zp(t,e,n){return new Lf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mf(t,e){return uv(or(t),or(e))&&t.limitType===e.limitType}function kS(t){return`${lv(or(t))}|lt:${t.limitType}`}function Ao(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>AS(i)).join(", ")}]`),Df(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>fs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>fs(i)).join(",")),`Target(${r})`}(or(t))}; limitType=${t.limitType})`}function jf(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):me.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of ba(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=f_(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,ba(r),i)||r.endAt&&!function(s,a,l){const u=f_(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,ba(r),i))}(t,e)}function E5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function PS(t){return(e,n)=>{let r=!1;for(const i of ba(t)){const o=T5(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function T5(t,e,n){const r=t.field.isKeyField()?me.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?cs(l,u):ye()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ho(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return vS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5=new nt(me.comparator);function kr(){return b5}const CS=new nt(me.comparator);function sa(...t){let e=CS;for(const n of t)e=e.insert(n.key,n);return e}function OS(t){let e=CS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ui(){return Aa()}function RS(){return Aa()}function Aa(){return new Is(t=>t.toString(),(t,e)=>t.isEqual(e))}const A5=new nt(me.comparator),S5=new Nt(me.comparator);function Re(...t){let e=S5;for(const n of t)e=e.add(n);return e}const I5=new Nt(Fe);function k5(){return I5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nc(e)?"-0":e}}function NS(t){return{integerValue:""+t}}function P5(t,e){return i5(e)?NS(e):xS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(){this._=void 0}}function C5(t,e,n){return t instanceof Mc?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ov(o)&&(o=sv(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof ul?LS(t,e):t instanceof cl?MS(t,e):function(i,o){const s=DS(i,o),a=m_(s)+m_(i.Ie);return Yp(s)&&Yp(i.Ie)?NS(a):xS(i.serializer,a)}(t,e)}function O5(t,e,n){return t instanceof ul?LS(t,e):t instanceof cl?MS(t,e):n}function DS(t,e){return t instanceof jc?function(r){return Yp(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Mc extends Vf{}class ul extends Vf{constructor(e){super(),this.elements=e}}function LS(t,e){const n=jS(e);for(const r of t.elements)n.some(i=>ur(i,r))||n.push(r);return{arrayValue:{values:n}}}class cl extends Vf{constructor(e){super(),this.elements=e}}function MS(t,e){let n=jS(e);for(const r of t.elements)n=n.filter(i=>!ur(i,r));return{arrayValue:{values:n}}}class jc extends Vf{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function m_(t){return dt(t.integerValue||t.doubleValue)}function jS(t){return av(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function R5(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ul&&i instanceof ul||r instanceof cl&&i instanceof cl?us(r.elements,i.elements,ur):r instanceof jc&&i instanceof jc?ur(r.Ie,i.Ie):r instanceof Mc&&i instanceof Mc}(t.transform,e.transform)}class x5{constructor(e,n){this.version=e,this.transformResults=n}}class Cn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Cn}static exists(e){return new Cn(void 0,e)}static updateTime(e){return new Cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ff{}function VS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Bf(t.key,Cn.none()):new Nl(t.key,t.data,Cn.none());{const n=t.data,r=nn.empty();let i=new Nt(Ot.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new wi(t.key,r,new pn(i.toArray()),Cn.none())}}function N5(t,e,n){t instanceof Nl?function(i,o,s){const a=i.value.clone(),l=v_(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof wi?function(i,o,s){if(!qu(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=v_(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(FS(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Sa(t,e,n,r){return t instanceof Nl?function(o,s,a,l){if(!qu(o.precondition,s))return a;const u=o.value.clone(),c=y_(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof wi?function(o,s,a,l){if(!qu(o.precondition,s))return a;const u=y_(o.fieldTransforms,l,s),c=s.data;return c.setAll(FS(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return qu(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function D5(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=DS(r.transform,i||null);o!=null&&(n===null&&(n=nn.empty()),n.set(r.field,o))}return n||null}function g_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&us(r,i,(o,s)=>R5(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Nl extends Ff{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wi extends Ff{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function FS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function v_(t,e,n){const r=new Map;He(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,O5(s,a,n[i]))}return r}function y_(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,C5(o,s,e))}return r}class Bf extends Ff{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class L5 extends Ff{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&N5(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Sa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RS();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=VS(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Re())}isEqual(e){return this.batchId===e.batchId&&us(this.mutations,e.mutations,(n,r)=>g_(n,r))&&us(this.baseMutations,e.baseMutations,(n,r)=>g_(n,r))}}class cv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){He(e.mutations.length===r.length);let i=function(){return A5}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new cv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,Le;function F5(t){switch(t){default:return ye();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0}}function BS(t){if(t===void 0)return lr("GRPC error has no .code"),oe.UNKNOWN;switch(t){case ft.OK:return oe.OK;case ft.CANCELLED:return oe.CANCELLED;case ft.UNKNOWN:return oe.UNKNOWN;case ft.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case ft.INTERNAL:return oe.INTERNAL;case ft.UNAVAILABLE:return oe.UNAVAILABLE;case ft.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case ft.NOT_FOUND:return oe.NOT_FOUND;case ft.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case ft.ABORTED:return oe.ABORTED;case ft.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case ft.DATA_LOSS:return oe.DATA_LOSS;default:return ye()}}(Le=ft||(ft={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5=new Yo([4294967295,4294967295],0);function w_(t){const e=B5().encode(t),n=new Uj;return n.update(e),new Uint8Array(n.digest())}function __(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Yo([n,r],0),new Yo([i,o],0)]}class fv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new aa(`Invalid padding: ${n}`);if(r<0)throw new aa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new aa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new aa(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Yo.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Yo.fromNumber(r)));return i.compare(U5)===1&&(i=new Yo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=w_(e),[r,i]=__(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new fv(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;const n=w_(e),[r,i]=__(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class aa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Dl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Uf(Te.min(),i,new nt(Fe),kr(),Re())}}class Dl{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Dl(r,n,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class US{constructor(e,n){this.targetId=e,this.fe=n}}class $S{constructor(e,n,r=Kt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class E_{constructor(){this.ge=0,this.pe=b_(),this.ye=Kt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Re(),n=Re(),r=Re();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ye()}}),new Dl(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=b_()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,He(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class $5{constructor(e){this.Le=e,this.ke=new Map,this.qe=kr(),this.Qe=T_(),this.Ke=new nt(Fe)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ye()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(Jp(o))if(r===0){const s=new me(o.path);this.We(n,s,qt.newNoDocument(s,Te.min()))}else He(r===1);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),l=a?this.et(a,e,s):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=io(r).toUint8Array()}catch(l){if(l instanceof yS)return ls("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new fv(s,i,o)}catch(l){return ls(l instanceof aa?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&Jp(a.target)){const l=new me(a.target.path);this.qe.get(l)!==null||this.st(s,l)||this.We(s,l,qt.newNoDocument(l,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=Re();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new Uf(e,n,this.Ke,this.qe,r);return this.qe=kr(),this.Qe=T_(),this.Ke=new nt(Fe),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new E_,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Nt(Fe),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new E_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function T_(){return new nt(me.comparator)}function b_(){return new nt(me.comparator)}const q5=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),z5=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),H5=(()=>({and:"AND",or:"OR"}))();class W5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function em(t,e){return t.useProto3Json||Df(e)?e:{value:e}}function Vc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function K5(t,e){return Vc(t,e.toTimestamp())}function sr(t){return He(!!t),Te.fromTimestamp(function(n){const r=ui(n);return new yt(r.seconds,r.nanos)}(t))}function dv(t,e){return tm(t,e).canonicalString()}function tm(t,e){const n=function(i){return new Je(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function zS(t){const e=Je.fromString(t);return He(QS(e)),e}function nm(t,e){return dv(t.databaseId,e.path)}function yh(t,e){const n=zS(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new me(WS(n))}function HS(t,e){return dv(t.databaseId,e)}function G5(t){const e=zS(t);return e.length===4?Je.emptyPath():WS(e)}function rm(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WS(t){return He(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function A_(t,e,n){return{name:nm(t,e),fields:n.value.mapValue.fields}}function Q5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(He(c===void 0||typeof c=="string"),Kt.fromBase64String(c||"")):(He(c===void 0||c instanceof Uint8Array),Kt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?oe.UNKNOWN:BS(u.code);return new pe(c,u.message||"")}(s);n=new $S(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=yh(t,r.document.name),o=sr(r.document.updateTime),s=r.document.createTime?sr(r.document.createTime):Te.min(),a=new nn({mapValue:{fields:r.document.fields}}),l=qt.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new zu(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=yh(t,r.document),o=r.readTime?sr(r.readTime):Te.min(),s=qt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new zu([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=yh(t,r.document),o=r.removedTargetIds||[];n=new zu([],o,i,null)}else{if(!("filter"in e))return ye();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new V5(i,o),a=r.targetId;n=new US(a,s)}}return n}function Y5(t,e){let n;if(e instanceof Nl)n={update:A_(t,e.key,e.value)};else if(e instanceof Bf)n={delete:nm(t,e.key)};else if(e instanceof wi)n={update:A_(t,e.key,e.data),updateMask:oV(e.fieldMask)};else{if(!(e instanceof L5))return ye();n={verify:nm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Mc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ul)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof cl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof jc)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw ye()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:K5(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ye()}(t,e.precondition)),n}function X5(t,e){return t&&t.length>0?(He(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?sr(i.updateTime):sr(o);return s.isEqual(Te.min())&&(s=sr(o)),new x5(s,i.transformResults||[])}(n,e))):[]}function J5(t,e){return{documents:[HS(t,e.path)]}}function Z5(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=HS(t,i);const o=function(u){if(u.length!==0)return GS(cr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:So(d.field),direction:nV(d.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=em(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function eV(t){let e=G5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){He(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const d=KS(f);return d instanceof cr&&TS(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(d=>function(w){return new Lc(Io(w.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,Df(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,h=f.values||[];return new Dc(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const d=!f.before,h=f.values||[];return new Dc(h,d)}(n.endAt)),y5(e,i,s,o,a,"F",l,u)}function tV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function KS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Io(n.unaryFilter.field);return gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Io(n.unaryFilter.field);return gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Io(n.unaryFilter.field);return gt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Io(n.unaryFilter.field);return gt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ye()}}(t):t.fieldFilter!==void 0?function(n){return gt.create(Io(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ye()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return cr.create(n.compositeFilter.filters.map(r=>KS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ye()}}(n.compositeFilter.op))}(t):ye()}function nV(t){return q5[t]}function rV(t){return z5[t]}function iV(t){return H5[t]}function So(t){return{fieldPath:t.canonicalString()}}function Io(t){return Ot.fromServerFormat(t.fieldPath)}function GS(t){return t instanceof gt?function(n){if(n.op==="=="){if(c_(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NAN"}};if(u_(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(c_(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NAN"}};if(u_(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:So(n.field),op:rV(n.op),value:n.value}}}(t):t instanceof cr?function(n){const r=n.getFilters().map(i=>GS(i));return r.length===1?r[0]:{compositeFilter:{op:iV(n.op),filters:r}}}(t):ye()}function oV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function QS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n,r,i,o=Te.min(),s=Te.min(),a=Kt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Wr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.ct=e}}function aV(t){const e=eV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(){this._n=new uV}addToCollectionParentIndex(e,n){return this._n.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(li.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(li.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class uV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Nt(Je.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Nt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ds(0)}static Bn(){return new ds(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(){this.changes=new Is(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Sa(r.mutation,i,pn.empty(),yt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Re()){const i=Ui();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=sa();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Ui();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Re()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=kr();const s=Aa(),a=function(){return Aa()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof wi)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Sa(c.mutation,u,c.mutation.getFieldMask(),yt.now())):s.set(u.key,pn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new fV(c,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Aa();let i=new nt((s,a)=>s-a),o=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||pn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||Re()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=RS();c.forEach(d=>{if(!o.has(d)){const h=VS(n.get(d),r.get(d));h!==null&&f.set(d,h),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ie.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):w5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ie.resolve(Ui());let a=-1,l=o;return s.next(u=>ie.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(c)?ie.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Re())).next(c=>({batchId:a,changes:OS(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(r=>{let i=sa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=sa();return this.indexManager.getCollectionParents(e,o).next(a=>ie.forEach(a,l=>{const u=function(f,d){return new Lf(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,d)=>{s=s.insert(f,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,qt.newInvalidDocument(c)))});let a=sa();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Sa(c.mutation,u,pn.empty(),yt.now()),jf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return ie.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:sr(i.createTime)}}(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:aV(i.bundledQuery),readTime:sr(i.readTime)}}(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(){this.overlays=new nt(me.comparator),this.hr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ui();return ie.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),ie.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const i=Ui(),o=n.length+1,s=new me(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new nt((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Ui(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ui(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return ie.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new j5(n,r));let o=this.hr.get(n);o===void 0&&(o=Re(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(){this.Pr=new Nt(Et.Ir),this.Tr=new Nt(Et.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Et(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Et(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new me(new Je([])),r=new Et(n,e),i=new Et(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new me(new Je([])),r=new Et(n,e),i=new Et(n,e+1);let o=Re();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Et(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Et{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return me.comparator(e.key,n.key)||Fe(e.pr,n.pr)}static Er(e,n){return Fe(e.pr,n.pr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Nt(Et.Ir)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new M5(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new Et(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ie.resolve(s)}lookupMutationBatch(e,n){return ie.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return ie.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Et(n,0),i=new Et(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),ie.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Nt(Fe);return n.forEach(i=>{const o=new Et(i,0),s=new Et(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),ie.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;me.isDocumentKey(o)||(o=o.child(""));const s=new Et(new me(o),0);let a=new Nt(Fe);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},s),ie.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){He(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return ie.forEach(n.mutations,i=>{const o=new Et(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Et(n,0),i=this.wr.firstAfterOrEqual(r);return ie.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e){this.vr=e,this.docs=function(){return new nt(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():qt.newInvalidDocument(n))}getEntries(e,n){let r=kr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():qt.newInvalidDocument(i))}),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=kr();const s=n.path,a=new me(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Zj(Jj(c),r)<=0||(i.has(c.key)||jf(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return ie.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ye()}Fr(e,n){return ie.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new vV(this)}getSize(e){return ie.resolve(this.size)}}class vV extends cV{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),ie.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.persistence=e,this.Mr=new Is(n=>lv(n),uv),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.Or=0,this.Nr=new hv,this.targetCount=0,this.Br=ds.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),ie.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new ds(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.qn(n),ie.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ie.waitFor(o).next(()=>i)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),ie.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,n){this.Lr={},this.overlays={},this.kr=new iv(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new yV(this),this.indexManager=new lV,this.remoteDocumentCache=function(i){return new gV(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new sV(n),this.$r=new hV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new mV(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const i=new _V(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return ie.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class _V extends t5{constructor(e){super(),this.currentSequenceNumber=e}}class pv{constructor(e){this.persistence=e,this.zr=new hv,this.jr=null}static Hr(e){return new pv(e)}get Jr(){if(this.jr)return this.jr;throw ye()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),ie.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.Jr,r=>{const i=me.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,Te.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return ie.or([()=>ie.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Re(),i=Re();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new mv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Tx()?8:Bi.v(pt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new EV;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Qs()<=Ne.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ie.resolve()):(Qs()<=Ne.DEBUG&&ue("QueryEngine","Query:",Ao(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Qs()<=Ne.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,or(n))):ie.resolve())}ji(e,n){if(p_(n))return ie.resolve(null);let r=or(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Zp(n,null,"F"),r=or(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Re(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,s,l.readTime)?this.ji(e,Zp(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return p_(n)||i.isEqual(Te.min())?ie.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?ie.resolve(null):(Qs()<=Ne.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ao(n)),this.es(e,s,n,Xj(i,-1)).next(a=>a))})}Zi(e,n){let r=new Nt(PS(e));return n.forEach((i,o)=>{jf(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return Qs()<=Ne.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Ao(n)),this.zi.getDocumentsMatchingQuery(e,n,li.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new nt(Fe),this.rs=new Is(o=>lv(o),uv),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dV(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function AV(t,e,n,r){return new bV(t,e,n,r)}async function YS(t,e){const n=be(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Re();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})}function SV(t,e){const n=be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,d=f.keys();let h=ie.resolve();return d.forEach(w=>{h=h.next(()=>c.getEntry(l,w)).next(y=>{const _=u.docVersions.get(w);He(_!==null),y.version.compareTo(_)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Re();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function XS(t){const e=be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function IV(t,e){const n=be(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.Qr.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(o,c.addedDocuments,f)));let h=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?h=h.withResumeToken(Kt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(f,h),function(y,_,g){return y.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(d,h,c)&&a.push(n.Qr.updateTargetData(o,h))});let l=kr(),u=Re();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(kV(o,s,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(Te.min())){const c=n.Qr.getLastRemoteSnapshotVersion(o).next(f=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return ie.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ns=i,o))}function kV(t,e,n){let r=Re(),i=Re();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=kr();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Te.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ue("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:i}})}function PV(t,e){const n=be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function CV(t,e){const n=be(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,ie.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new Wr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function im(t,e,n){const r=be(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!xl(s))throw s;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function S_(t,e,n){const r=be(t);let i=Te.min(),o=Re();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=be(l),d=f.rs.get(c);return d!==void 0?ie.resolve(f.ns.get(d)):f.Qr.getTargetData(u,c)}(r,s,or(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:Te.min(),n?o:Re())).next(a=>(OV(r,E5(e),a),{documents:a,hs:o})))}function OV(t,e,n){let r=t.ss.get(e)||Te.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class I_{constructor(){this.activeTargetIds=k5()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RV{constructor(){this.no=new I_,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new I_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vu=null;function wh(){return vu===null?vu=function(){return 268435456+Math.round(2147483648*Math.random())}():vu++,"0x"+vu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class LV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){const a=wh(),l=this.bo(n,r.toUriEncodedString());ue("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,o,s),this.Co(n,l,u,i).then(c=>(ue("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw ls("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ss}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){const i=NV[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const o=wh();return new Promise((s,a)=>{const l=new Bj;l.setWithCredentials(!0),l.listenOnce(Vj.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case vh.NO_ERROR:const c=l.getResponseJson();ue(Bt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case vh.TIMEOUT:ue(Bt,`RPC '${e}' ${o} timed out`),a(new pe(oe.DEADLINE_EXCEEDED,"Request time out"));break;case vh.HTTP_ERROR:const f=l.getStatus();if(ue(Bt,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const w=function(_){const g=_.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(g)>=0?g:oe.UNKNOWN}(h.status);a(new pe(w,h.message))}else a(new pe(oe.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new pe(oe.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{ue(Bt,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);ue(Bt,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=wh(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Mj(),a=jj(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");ue(Bt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=s.createWebChannel(c,l);let d=!1,h=!1;const w=new DV({lo:_=>{h?ue(Bt,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(d||(ue(Bt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),ue(Bt,`RPC '${e}' stream ${i} sending:`,_),f.send(_))},ho:()=>f.close()}),y=(_,g,p)=>{_.listen(g,E=>{try{p(E)}catch(v){setTimeout(()=>{throw v},0)}})};return y(f,pu.EventType.OPEN,()=>{h||ue(Bt,`RPC '${e}' stream ${i} transport opened.`)}),y(f,pu.EventType.CLOSE,()=>{h||(h=!0,ue(Bt,`RPC '${e}' stream ${i} transport closed`),w.Vo())}),y(f,pu.EventType.ERROR,_=>{h||(h=!0,ls(Bt,`RPC '${e}' stream ${i} transport errored:`,_),w.Vo(new pe(oe.UNAVAILABLE,"The operation could not be completed")))}),y(f,pu.EventType.MESSAGE,_=>{var g;if(!h){const p=_.data[0];He(!!p);const E=p,v=E.error||((g=E[0])===null||g===void 0?void 0:g.error);if(v){ue(Bt,`RPC '${e}' stream ${i} received error:`,v);const b=v.status;let k=function(D){const C=ft[D];if(C!==void 0)return BS(C)}(b),I=v.message;k===void 0&&(k=oe.INTERNAL,I="Unknown error status: "+b+" with message "+v.message),h=!0,w.Vo(new pe(k,I)),f.close()}else ue(Bt,`RPC '${e}' stream ${i} received:`,p),w.mo(p)}}),y(a,Fj.STAT_EVENT,_=>{_.stat===r_.PROXY?ue(Bt,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===r_.NOPROXY&&ue(Bt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.Ro()},0),w}}function _h(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(t){return new W5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,n,r,i,o,s,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new JS(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(lr(n.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new pe(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MV extends ZS{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=Q5(this.serializer,e),r=function(o){if(!("targetChange"in o))return Te.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Te.min():s.readTime?sr(s.readTime):Te.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=rm(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Jp(l)?{documents:J5(o,l)}:{query:Z5(o,l).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=qS(o,s.resumeToken);const u=em(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Te.min())>0){a.readTime=Vc(o,s.snapshotVersion.toTimestamp());const u=em(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=tV(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=rm(this.serializer),n.removeTarget=e,this.t_(n)}}class jV extends ZS{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=X5(e.writeResults,e.commitTime),r=sr(e.commitTime);return this.listener.T_(r,n)}return He(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=rm(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Y5(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new pe(oe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,tm(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pe(oe.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,tm(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new pe(oe.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class FV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(lr(n),this.g_=!1):ue("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{r.enqueueAndForget(async()=>{po(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=be(l);u.v_.add(4),await Ll(u),u.x_.set("Unknown"),u.v_.delete(4),await qf(u)}(this))})}),this.x_=new FV(r,i)}}async function qf(t){if(po(t))for(const e of t.F_)await e(!0)}async function Ll(t){for(const e of t.F_)await e(!1)}function eI(t,e){const n=be(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),yv(n)?vv(n):ks(n).Jo()&&gv(n,e))}function tI(t,e){const n=be(t),r=ks(n);n.C_.delete(e),r.Jo()&&nI(n,e),n.C_.size===0&&(r.Jo()?r.Xo():po(n)&&n.x_.set("Unknown"))}function gv(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ks(t).c_(e)}function nI(t,e){t.O_.Oe(e),ks(t).l_(e)}function vv(t){t.O_=new $5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),ks(t).start(),t.x_.p_()}function yv(t){return po(t)&&!ks(t).Ho()&&t.C_.size>0}function po(t){return be(t).v_.size===0}function rI(t){t.O_=void 0}async function UV(t){t.C_.forEach((e,n)=>{gv(t,e)})}async function $V(t,e){rI(t),yv(t)?(t.x_.S_(e),vv(t)):t.x_.set("Unknown")}async function qV(t,e,n){if(t.x_.set("Online"),e instanceof $S&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Fc(t,r)}else if(e instanceof zu?t.O_.$e(e):e instanceof US?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(Te.min()))try{const r=await XS(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.C_.get(u);c&&o.C_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.C_.get(l);if(!c)return;o.C_.set(l,c.withResumeToken(Kt.EMPTY_BYTE_STRING,c.snapshotVersion)),nI(o,l);const f=new Wr(c.target,l,u,c.sequenceNumber);gv(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ue("RemoteStore","Failed to raise snapshot:",r),await Fc(t,r)}}async function Fc(t,e,n){if(!xl(e))throw e;t.v_.add(1),await Ll(t),t.x_.set("Offline"),n||(n=()=>XS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ue("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await qf(t)})}function iI(t,e){return e().catch(n=>Fc(t,n,e))}async function zf(t){const e=be(t),n=ci(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;zV(e);)try{const i=await PV(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,HV(e,i)}catch(i){await Fc(e,i)}oI(e)&&sI(e)}function zV(t){return po(t)&&t.D_.length<10}function HV(t,e){t.D_.push(e);const n=ci(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function oI(t){return po(t)&&!ci(t).Ho()&&t.D_.length>0}function sI(t){ci(t).start()}async function WV(t){ci(t).d_()}async function KV(t){const e=ci(t);for(const n of t.D_)e.I_(n.mutations)}async function GV(t,e,n){const r=t.D_.shift(),i=cv.from(r,e,n);await iI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await zf(t)}async function QV(t,e){e&&ci(t).P_&&await async function(r,i){if(function(s){return F5(s)&&s!==oe.ABORTED}(i.code)){const o=r.D_.shift();ci(r).Zo(),await iI(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await zf(r)}}(t,e),oI(t)&&sI(t)}async function P_(t,e){const n=be(t);n.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const r=po(n);n.v_.add(3),await Ll(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await qf(n)}async function YV(t,e){const n=be(t);e?(n.v_.delete(2),await qf(n)):e||(n.v_.add(2),await Ll(n),n.x_.set("Unknown"))}function ks(t){return t.N_||(t.N_=function(n,r,i){const o=be(n);return o.R_(),new MV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:UV.bind(null,t),To:$V.bind(null,t),u_:qV.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),yv(t)?vv(t):t.x_.set("Unknown")):(await t.N_.stop(),rI(t))})),t.N_}function ci(t){return t.B_||(t.B_=function(n,r,i){const o=be(n);return o.R_(),new jV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:WV.bind(null,t),To:QV.bind(null,t),E_:KV.bind(null,t),T_:GV.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await zf(t)):(await t.B_.stop(),t.D_.length>0&&(ue("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new wv(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _v(t,e){if(lr("AsyncQueue",`${e}: ${t}`),xl(t))return new pe(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=sa(),this.sortedSet=new nt(this.comparator)}static emptySet(e){return new Xo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Xo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(){this.L_=new nt(me.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):ye():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class hs{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new hs(e,n,Xo.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(){this.q_=void 0,this.Q_=[]}}class JV{constructor(){this.queries=new Is(e=>kS(e),Mf),this.onlineState="Unknown",this.K_=new Set}}async function ZV(t,e){const n=be(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new XV),i)try{o.q_=await n.onListen(r)}catch(s){const a=_v(s,`Initialization of query '${Ao(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.Q_.push(e),e.U_(n.onlineState),o.q_&&e.W_(o.q_)&&Ev(n)}async function e3(t,e){const n=be(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),i=o.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function t3(t,e){const n=be(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Q_)a.W_(i)&&(r=!0);s.q_=i}}r&&Ev(n)}function n3(t,e,n){const r=be(t),i=r.queries.get(e);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(e)}function Ev(t){t.K_.forEach(e=>{e.next()})}class r3{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new hs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=hs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.key=e}}class lI{constructor(e){this.key=e}}class i3{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Re(),this.mutatedKeys=Re(),this.ua=PS(e),this.ca=new Xo(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new C_,i=n?n.ca:this.ca;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const d=i.get(c),h=jf(this.query,f)?f:null,w=!!d&&this.mutatedKeys.has(d.key),y=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let _=!1;d&&h?d.data.isEqual(h.data)?w!==y&&(r.track({type:3,doc:h}),_=!0):this.Ia(d,h)||(r.track({type:2,doc:h}),_=!0,(l&&this.ua(h,l)>0||u&&this.ua(h,u)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),_=!0):d&&!h&&(r.track({type:1,doc:d}),_=!0,(l||u)&&(a=!0)),_&&(h?(s=s.add(h),o=y?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{ca:s,Pa:r,Xi:a,mutatedKeys:o}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort((c,f)=>function(h,w){const y=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return y(h)-y(w)}(c.type,f.type)||this.ua(c.doc,f.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,u=l!==this._a;return this._a=l,s.length!==0||u?{snapshot:new hs(this.query,e.ca,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new C_,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=Re(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new lI(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new aI(r))}),n}Ra(e){this.oa=e.hs,this.aa=Re();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return hs.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class o3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class s3{constructor(e){this.key=e,this.ma=!1}}class a3{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new Is(a=>kS(a),Mf),this.pa=new Map,this.ya=new Set,this.wa=new nt(me.comparator),this.Sa=new Map,this.ba=new hv,this.Da={},this.Ca=new Map,this.va=ds.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function l3(t,e){const n=y3(t);let r,i;const o=n.ga.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const s=await CV(n.localStore,or(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await u3(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&eI(n.remoteStore,s)}return i}async function u3(t,e,n,r,i){t.Ma=(f,d,h)=>async function(y,_,g,p){let E=_.view.ha(g);E.Xi&&(E=await S_(y.localStore,_.query,!1).then(({documents:I})=>_.view.ha(I,E)));const v=p&&p.targetChanges.get(_.targetId),b=p&&p.targetMismatches.get(_.targetId)!=null,k=_.view.applyChanges(E,y.isPrimaryClient,v,b);return R_(y,_.targetId,k.da),k.snapshot}(t,f,d,h);const o=await S_(t.localStore,e,!0),s=new i3(e,o.hs),a=s.ha(o.documents),l=Dl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);R_(t,n,u.da);const c=new o3(e,n,s);return t.ga.set(e,c),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function c3(t,e){const n=be(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(o=>!Mf(o,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await im(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),tI(n.remoteStore,r.targetId),om(n,r.targetId)}).catch(Rl)):(om(n,r.targetId),await im(n.localStore,r.targetId,!0))}async function f3(t,e,n){const r=w3(t);try{const i=await function(s,a){const l=be(s),u=yt.now(),c=a.reduce((h,w)=>h.add(w.key),Re());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let w=kr(),y=Re();return l.os.getEntries(h,c).next(_=>{w=_,w.forEach((g,p)=>{p.isValidDocument()||(y=y.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,w)).next(_=>{f=_;const g=[];for(const p of a){const E=D5(p,f.get(p.key).overlayedDocument);E!=null&&g.push(new wi(p.key,E,wS(E.value.mapValue),Cn.exists(!0)))}return l.mutationQueue.addMutationBatch(h,u,g,a)}).next(_=>{d=_;const g=_.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(h,_.batchId,g)})}).then(()=>({batchId:d.batchId,changes:OS(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Da[s.currentUser.toKey()];u||(u=new nt(Fe)),u=u.insert(a,l),s.Da[s.currentUser.toKey()]=u}(r,i.batchId,n),await Ml(r,i.changes),await zf(r.remoteStore)}catch(i){const o=_v(i,"Failed to persist write");n.reject(o)}}async function uI(t,e){const n=be(t);try{const r=await IV(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Sa.get(o);s&&(He(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.ma=!0:i.modifiedDocuments.size>0?He(s.ma):i.removedDocuments.size>0&&(He(s.ma),s.ma=!1))}),await Ml(n,r,e)}catch(r){await Rl(r)}}function O_(t,e,n){const r=be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((o,s)=>{const a=s.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=be(s);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const d of f.Q_)d.U_(a)&&(u=!0)}),u&&Ev(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function d3(t,e,n){const r=be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),o=i&&i.key;if(o){let s=new nt(me.comparator);s=s.insert(o,qt.newNoDocument(o,Te.min()));const a=Re().add(o),l=new Uf(Te.min(),new Map,new nt(Fe),s,a);await uI(r,l),r.wa=r.wa.remove(o),r.Sa.delete(e),Tv(r)}else await im(r.localStore,e,!1).then(()=>om(r,e,n)).catch(Rl)}async function h3(t,e){const n=be(t),r=e.batch.batchId;try{const i=await SV(n.localStore,e);fI(n,r,null),cI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ml(n,i)}catch(i){await Rl(i)}}async function p3(t,e,n){const r=be(t);try{const i=await function(s,a){const l=be(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(He(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);fI(r,e,n),cI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ml(r,i)}catch(i){await Rl(i)}}function cI(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function fI(t,e,n){const r=be(t);let i=r.Da[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function om(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||dI(t,r)})}function dI(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(tI(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),Tv(t))}function R_(t,e,n){for(const r of n)r instanceof aI?(t.ba.addReference(r.key,e),m3(t,r)):r instanceof lI?(ue("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||dI(t,r.key)):ye()}function m3(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(ue("SyncEngine","New document in limbo: "+n),t.ya.add(r),Tv(t))}function Tv(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new me(Je.fromString(e)),r=t.va.next();t.Sa.set(r,new s3(n)),t.wa=t.wa.insert(n,r),eI(t.remoteStore,new Wr(or(IS(n.path)),r,"TargetPurposeLimboResolution",iv._e))}}async function Ml(t,e,n){const r=be(t),i=[],o=[],s=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{s.push(r.Ma(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=mv.Ki(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.fa.u_(i),await async function(l,u){const c=be(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ie.forEach(u,d=>ie.forEach(d.qi,h=>c.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>ie.forEach(d.Qi,h=>c.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!xl(f))throw f;ue("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const h=c.ns.get(d),w=h.snapshotVersion,y=h.withLastLimboFreeSnapshotVersion(w);c.ns=c.ns.insert(d,y)}}}(r.localStore,o))}async function g3(t,e){const n=be(t);if(!n.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const r=await YS(n.localStore,e);n.currentUser=e,function(o,s){o.Ca.forEach(a=>{a.forEach(l=>{l.reject(new pe(oe.CANCELLED,s))})}),o.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ml(n,r.us)}}function v3(t,e){const n=be(t),r=n.Sa.get(e);if(r&&r.ma)return Re().add(r.key);{let i=Re();const o=n.pa.get(e);if(!o)return i;for(const s of o){const a=n.ga.get(s);i=i.unionWith(a.view.la)}return i}}function y3(t){const e=be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=v3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=d3.bind(null,e),e.fa.u_=t3.bind(null,e.eventManager),e.fa.xa=n3.bind(null,e.eventManager),e}function w3(t){const e=be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=h3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=p3.bind(null,e),e}class x_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=$f(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return AV(this.persistence,new TV,e.initialUser,this.serializer)}createPersistence(e){return new wV(pv.Hr,this.serializer)}createSharedClientState(e){return new RV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class _3{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>O_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=g3.bind(null,this.syncEngine),await YV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new JV}()}createDatastore(e){const n=$f(e.databaseInfo.databaseId),r=function(o){return new LV(o)}(e.databaseInfo);return function(o,s,a,l){return new VV(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new BV(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>O_(this.syncEngine,n,0),function(){return k_.D()?new k_:new xV}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const f=new a3(i,o,s,a,l,u);return c&&(f.Fa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=be(r);ue("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Ll(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ut.UNAUTHENTICATED,this.clientId=gS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{ue("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ue("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new pe(oe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=_v(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Eh(t,e){t.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await YS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function N_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await A3(t);ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>P_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>P_(e.remoteStore,i)),t._onlineComponents=e}function b3(t){return t.name==="FirebaseError"?t.code===oe.FAILED_PRECONDITION||t.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function A3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await Eh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!b3(n))throw n;ls("Error using user provided cache. Falling back to memory cache: "+n),await Eh(t,new x_)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await Eh(t,new x_);return t._offlineComponents}async function hI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await N_(t,t._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await N_(t,new _3))),t._onlineComponents}function S3(t){return hI(t).then(e=>e.syncEngine)}async function I3(t){const e=await hI(t),n=e.eventManager;return n.onListen=l3.bind(null,e.syncEngine),n.onUnlisten=c3.bind(null,e.syncEngine),n}function k3(t,e,n={}){const r=new _r;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new E3({next:d=>{s.enqueueAndForget(()=>e3(o,f)),d.fromCache&&l.source==="server"?u.reject(new pe(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new r3(a,c,{includeMetadataChanges:!0,Z_:!0});return ZV(o,f)}(await I3(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(t,e,n){if(!n)throw new pe(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function P3(t,e,n,r){if(e===!0&&r===!0)throw new pe(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function L_(t){if(!me.isDocumentKey(t))throw new pe(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function M_(t){if(me.isDocumentKey(t))throw new pe(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ye()}function fl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bv(t);throw new pe(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new pe(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}P3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new pe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new pe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new pe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new pe(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new pe(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $j;switch(r.type){case"firstParty":return new Wj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=D_.get(n);r&&(ue("ComponentProvider","Removing Datastore"),D_.delete(n),r.terminate())}(this),Promise.resolve()}}function C3(t,e,n,r={}){var i;const o=(t=fl(t,Hf))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ut.MOCK_USER;else{a=vx(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new pe(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ut(u)}t._authCredentials=new qj(new mS(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wf(this.firestore,e,this._query)}}class Vn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}}class oi extends Wf{constructor(e,n,r){super(e,n,IS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new me(e))}withConverter(e){return new oi(this.firestore,e,this._path)}}function O3(t,e,...n){if(t=ct(t),mI("collection","path",e),t instanceof Hf){const r=Je.fromString(e,...n);return M_(r),new oi(t,null,r)}{if(!(t instanceof Vn||t instanceof oi))throw new pe(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return M_(r),new oi(t.firestore,null,r)}}function Th(t,e,...n){if(t=ct(t),arguments.length===1&&(e=gS.newId()),mI("doc","path",e),t instanceof Hf){const r=Je.fromString(e,...n);return L_(r),new Vn(t,null,new me(r))}{if(!(t instanceof Vn||t instanceof oi))throw new pe(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return L_(r),new Vn(t.firestore,t instanceof oi?t.converter:null,new me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new JS(this,"async_queue_retry"),this._u=()=>{const n=_h();n&&ue("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=_h();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=_h();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new _r;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!xl(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw lr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=wv.createAndSchedule(this,e,n,r,o=>this.lu(o));return this.nu.push(i),i}au(){this.ru&&ye()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}class Kf extends Hf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new R3}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||gI(this),this._firestoreClient.terminate()}}function x3(t,e){const n=typeof t=="object"?t:vg(),r=typeof t=="string"?t:e||"(default)",i=uo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=mx("firestore");o&&C3(i,...o)}return i}function Av(t){return t._firestoreClient||gI(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function gI(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new s5(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,pI(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new T3(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ps(Kt.fromBase64String(e))}catch(n){throw new pe(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ps(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=/^__.*__$/;class D3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nl(e,this.data,n,this.fieldTransforms)}}class vI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}class kv{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new kv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Bc(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(yI(this.du)&&N3.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class L3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$f(e)}Su(e,n,r,i=!1){return new kv({du:e,methodName:n,wu:r,path:Ot.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function M3(t){const e=t._freezeSettings(),n=$f(t._databaseId);return new L3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function j3(t,e,n,r,i,o={}){const s=t.Su(o.merge||o.mergeFields?2:0,e,n,i);Pv("Data must be an object, but it was:",s,r);const a=wI(r,s);let l,u;if(o.merge)l=new pn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const d=sm(e,f,n);if(!s.contains(d))throw new pe(oe.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);EI(c,d)||c.push(d)}l=new pn(c),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new D3(new nn(a),l,u)}class Qf extends Sv{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qf}}function V3(t,e,n,r){const i=t.Su(1,e,n);Pv("Data must be an object, but it was:",i,r);const o=[],s=nn.empty();ho(r,(l,u)=>{const c=Cv(e,l,n);u=ct(u);const f=i.fu(c);if(u instanceof Qf)o.push(c);else{const d=Yf(u,f);d!=null&&(o.push(c),s.set(c,d))}});const a=new pn(o);return new vI(s,a,i.fieldTransforms)}function F3(t,e,n,r,i,o){const s=t.Su(1,e,n),a=[sm(e,r,n)],l=[i];if(o.length%2!=0)throw new pe(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(sm(e,o[d])),l.push(o[d+1]);const u=[],c=nn.empty();for(let d=a.length-1;d>=0;--d)if(!EI(u,a[d])){const h=a[d];let w=l[d];w=ct(w);const y=s.fu(h);if(w instanceof Qf)u.push(h);else{const _=Yf(w,y);_!=null&&(u.push(h),c.set(h,_))}}const f=new pn(u);return new vI(c,f,s.fieldTransforms)}function Yf(t,e){if(_I(t=ct(t)))return Pv("Unsupported field value:",e,t),wI(t,e);if(t instanceof Sv)return function(r,i){if(!yI(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Yf(a,i.gu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return P5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=yt.fromDate(r);return{timestampValue:Vc(i.serializer,o)}}if(r instanceof yt){const o=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vc(i.serializer,o)}}if(r instanceof Iv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ps)return{bytesValue:qS(i.serializer,r._byteString)};if(r instanceof Vn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.pu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:dv(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${bv(r)}`)}(t,e)}function wI(t,e){const n={};return vS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ho(t,(r,i)=>{const o=Yf(i,e.Ru(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function _I(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yt||t instanceof Iv||t instanceof ps||t instanceof Vn||t instanceof Sv)}function Pv(t,e,n){if(!_I(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=bv(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function sm(t,e,n){if((e=ct(e))instanceof Gf)return e._internalPath;if(typeof e=="string")return Cv(t,e);throw Bc("Field path arguments must be of type string or ",t,!1,void 0,n)}const B3=new RegExp("[~\\*/\\[\\]]");function Cv(t,e,n){if(e.search(B3)>=0)throw Bc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gf(...e.split("."))._internalPath}catch{throw Bc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bc(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new pe(oe.INVALID_ARGUMENT,a+t+l)}function EI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new U3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class U3 extends TI{data(){return super.data()}}function bI(t,e){return typeof e=="string"?Cv(t,e):e instanceof Gf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class q3{convertValue(e,n="none"){switch(oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(io(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ye()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ho(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Iv(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sl(e));default:return null}}convertTimestamp(e){const n=ui(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Je.fromString(e);He(QS(r));const i=new al(r.get(1),r.get(3)),o=new me(r.popFirst(5));return i.isEqual(n)||lr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class H3 extends TI{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(bI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Hu extends H3{data(e={}){return super.data(e)}}class W3{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new yu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hu(this._firestore,this._userDataWriter,r.key,r,new yu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Hu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new yu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Hu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new yu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:K3(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function K3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}class G3 extends q3{constructor(e){super(),this.firestore=e}convertBytes(e){return new ps(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,n)}}function Q3(t){t=fl(t,Wf);const e=fl(t.firestore,Kf),n=Av(e),r=new G3(e);return $3(t._query),k3(n,t._query).then(i=>new W3(e,r,t,i))}function Y3(t){return AI(fl(t.firestore,Kf),[new Bf(t._key,Cn.none())])}function AI(t,e){return function(r,i){const o=new _r;return r.asyncQueue.enqueueAndForget(async()=>f3(await S3(r),i,o)),o.promise}(Av(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=M3(e)}set(e,n,r){this._verifyNotCommitted();const i=bh(e,this._firestore),o=z3(i.converter,n,r),s=j3(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Cn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=bh(e,this._firestore);let s;return s=typeof(n=ct(n))=="string"||n instanceof Gf?F3(this._dataReader,"WriteBatch.update",o._key,n,r,i):V3(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Cn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=bh(e,this._firestore);return this._mutations=this._mutations.concat(new Bf(n._key,Cn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new pe(oe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bh(t,e){if((t=ct(t)).firestore!==e)throw new pe(oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J3(t){return Av(t=fl(t,Kf)),new X3(t,e=>AI(t,e))}(function(e,n=!0){(function(i){Ss=i})(Es),ar(new Bn("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Kf(new zj(r.getProvider("auth-internal")),new Gj(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new pe(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new al(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Pn(i_,"4.4.1",e),Pn(i_,"4.4.1","esm2017")})();const Z3={apiKey:"AIzaSyBKDibveNEUmZbt40HrFaJO9Aiw9UjLeFM",authDomain:"notes-app-fbda5.firebaseapp.com",projectId:"notes-app-fbda5",storageBucket:"notes-app-fbda5.appspot.com",messagingSenderId:"421426691194",appId:"1:421426691194:web:3ffe6ba10e8351f85d8fc3",measurementId:"G-2TLQ6TZ0VB"},Ov=ab(Z3);pL(Ov);const er=L4(Ov),wu=x3(Ov);const Wi=({message:t,toastType:e,duration:n=5e3})=>{const[r,i]=re.useState(!0);re.useEffect(()=>{const s=setTimeout(()=>{i(!1)},n);return()=>{clearTimeout(s)}},[n]);const o={success:'<span><i class="fa fa-check" aria-hidden="true"></i><span>',danger:'<span><i class="fa fa-exclamation-triangle" aria-hidden="true"></i></span>',warning:'<span><i class="fa fa-exclamation-circle" aria-hidden="true"></i></span>'};return z.jsx("div",{className:`toast toast-${e} ${r?"show":"closing"}`,children:z.jsxs("div",{className:"toast-content-wrapper",children:[z.jsx("div",{className:"toast-icon",dangerouslySetInnerHTML:{__html:o[e]}}),z.jsx("div",{className:"toast-message",children:t}),z.jsx("div",{className:"toast-progress"})]})})},eF=({user:t})=>{const[e,n]=re.useState(""),[r,i]=re.useState(""),[o,s]=re.useState(""),[a,l]=re.useState(""),[u,c]=re.useState(!1),[f,d]=re.useState(!1),h=async y=>{y.preventDefault();try{const _=await vM(er,o,a);await _M(_.user,{displayName:`${e} ${r}`}),console.log("User Created Successfully!!",_.user)}catch(_){console.error("Error during Signup",_.message),c(!0)}};if(re.useEffect(()=>{if(u){const y=setTimeout(()=>{c(!1)},5e3);return()=>clearTimeout(y)}},[u]),t)return z.jsx(os,{to:"/home"});const w=()=>{d(y=>!y)};return z.jsxs("form",{id:"form",onSubmit:h,children:[z.jsxs("div",{id:"form-body",children:[z.jsxs("div",{id:"input-area",children:[z.jsx("div",{className:"form-inp",children:z.jsx("input",{type:"text",placeholder:"Enter your first name",value:e,onChange:y=>n(y.target.value),required:!0})}),z.jsx("div",{className:"form-inp",children:z.jsx("input",{type:"text",placeholder:"Enter your last name",value:r,onChange:y=>i(y.target.value),required:!0})}),z.jsx("div",{className:"form-inp",children:z.jsx("input",{type:"email",placeholder:"Enter your email",value:o,onChange:y=>s(y.target.value),required:!0})}),z.jsxs("div",{className:"form-inp",children:[z.jsx("input",{type:f?"text":"password",placeholder:"Enter your password",value:a,onChange:y=>l(y.target.value),required:!0}),z.jsx("span",{className:`eye-icon ${f?"visible":""}`,onClick:w,children:z.jsx("i",{className:`fas ${f?"fa-eye":"fa-eye-slash"}`})})]})]}),z.jsx("div",{id:"submit-button-cvr",children:z.jsx("button",{id:"submit-button",type:"submit",children:"Sign Up"})})]}),u&&z.jsx(Wi,{message:"Credentials Already Exists!!!",toastType:"danger",duration:5e3})]})},tF=({user:t})=>{const[e,n]=re.useState(""),[r,i]=re.useState(""),[o,s]=re.useState(!1),[a,l]=re.useState(!1),[u,c]=re.useState(!1),f=async w=>{w.preventDefault(),yM(er,e,r).then(y=>{const _=y.user;console.log(_)}).catch(y=>{const _=y.code,g=y.message;console.log(_,g),l(!0)})},d=()=>{s(w=>!w)},h=()=>{c(w=>!w)};return t?z.jsx(os,{to:"/home"}):(re.useEffect(()=>{if(a){const w=setTimeout(()=>{l(!1)},5e3);return()=>clearTimeout(w)}},[a]),t?z.jsx(os,{to:"/home"}):z.jsx("center",{children:z.jsxs("div",{id:"form-ui",children:[z.jsxs("div",{id:"welcome-lines",children:[z.jsxs("div",{id:"welcome-line-1",children:[o&&z.jsx("h2",{id:"heading",children:"Register"}),!o&&z.jsx("h2",{id:"heading",children:"Login"})]}),z.jsx("div",{id:"welcome-line-2",children:"Welcome Back"})]}),o?z.jsx(eF,{}):z.jsxs("form",{id:"form",onSubmit:f,children:[z.jsxs("div",{id:"form-body",children:[z.jsxs("div",{id:"input-area",children:[z.jsx("div",{className:"form-inp",children:z.jsx("input",{type:"email",placeholder:"Enter your email",value:e,onChange:w=>n(w.target.value),required:!0})}),z.jsxs("div",{className:"form-inp",children:[z.jsx("input",{type:u?"text":"password",placeholder:"Enter your password",value:r,onChange:w=>i(w.target.value),required:!0}),z.jsx("span",{className:`eye-icon ${u?"visible":""}`,onClick:h,children:z.jsx("i",{className:`fas ${u?"fa-eye":"fa-eye-slash"}`})})]})]}),z.jsx("div",{id:"submit-button-cvr",children:z.jsx("button",{id:"submit-button",type:"submit",children:"Sign In"})})]}),a&&z.jsx(Wi,{message:"Invalid Email or Password!!!",toastType:"danger",duration:5e3})]}),z.jsx("div",{id:"toggle",children:z.jsxs("p",{children:[o?"Already have an account?":"Don't have an account?"," ",z.jsx("u",{children:z.jsx("a",{id:"toggle-button",onClick:d,children:o?"SignIn":"SignUp"})})]})})]})}))};const nF=()=>{const[t,e]=re.useState(!1),n=r=>{r.preventDefault(),e(!0),r.target.reset()};return re.useEffect(()=>{if(t){const r=setTimeout(()=>{e(!1)},5e3);return()=>clearTimeout(r)}},[t]),z.jsxs("section",{className:"contact",children:[z.jsxs("div",{className:"content",children:[z.jsx("h2",{children:"Contact Us"}),z.jsx("p",{children:"Please use this form to get in touch with us, report a bug, or suggest a feature..."})]}),z.jsxs("div",{className:"contact-container",children:[z.jsxs("div",{className:"contactInfo",children:[z.jsxs("div",{className:"box",children:[z.jsx("div",{className:"icon",children:z.jsx("i",{className:"fa fa-globe","aria-hidden":"true"})}),z.jsxs("div",{className:"text",children:[z.jsx("h3",{children:"Address"}),z.jsxs("p",{children:["MLR Institute of Technology, ",z.jsx("br",{}),"Dundigal, Hyderabad, ",z.jsx("br",{}),"500043"]})]})]}),z.jsxs("div",{className:"box",children:[z.jsx("div",{className:"icon",children:z.jsx("i",{className:"fa fa-phone","aria-hidden":"true"})}),z.jsxs("div",{className:"text",children:[z.jsx("h3",{children:"Phone"}),z.jsx("p",{children:"7995752702"})]})]}),z.jsxs("div",{className:"box",children:[z.jsx("div",{className:"icon",children:z.jsx("i",{className:"fa fa-envelope","aria-hidden":"true"})}),z.jsxs("div",{className:"text",children:[z.jsx("h3",{children:"Email"}),z.jsx("p",{children:"vinayshanigarapu05@gmail.com"})]})]})]}),z.jsx("div",{className:"contactForm",children:z.jsxs("form",{onSubmit:n,children:[z.jsx("h2",{children:"Send Message"}),z.jsxs("div",{className:"inputBox",children:[z.jsx("input",{type:"text",required:!0}),z.jsx("span",{children:"Full Name"})]}),z.jsxs("div",{className:"inputBox",children:[z.jsx("input",{type:"text",required:!0}),z.jsx("span",{children:"Email"})]}),z.jsxs("div",{className:"inputBox",children:[z.jsx("textarea",{required:!0}),z.jsx("span",{children:"Type your Message..."})]}),z.jsx("div",{className:"inputBox",children:z.jsx("input",{type:"submit",value:"Send"})})]})})]}),t&&z.jsx(Wi,{message:"Successfully Submited! Thanks for your response, we will contact you soon...",toastType:"success",duration:5e3})]})};const rF=({setOpen:t,state:e,dispatch:n,palettes:r,currentPalette:i,setCurrentPalette:o})=>{var E,v,b;const[s,a]=re.useState(!1),[l,u]=re.useState(!1),c=k=>{o(k),n({type:"SET_PALETTE",payload:k}),a(!1)},f=pg(),[d,h]=re.useState(!1),[w,y]=re.useState("");re.useEffect(()=>{var k;y(p((k=er.currentUser)==null?void 0:k.displayName))},[]);const _=async()=>{try{await bM(er),console.log("Logged Out Successfully!"),f("/")}catch(k){u(!0),console.error("Error during logout:",k.message)}};re.useEffect(()=>{if(l){const k=setTimeout(()=>{u(!1)},5e3);return()=>clearTimeout(k)}},[l]);const g=()=>{h(k=>!k)},p=k=>k==null?void 0:k.charAt(0).toUpperCase();return z.jsxs("div",{className:`navbar ${e!=null&&e.palette?(E=e==null?void 0:e.palette)==null?void 0:E.name:i==null?void 0:i.name}`,children:[z.jsxs("div",{className:"nav-wrapper container",children:[z.jsx("span",{className:"logo",children:"Noteify"}),z.jsxs("div",{className:"nav-options",children:[z.jsxs("div",{className:"nav-icon",children:[z.jsx("div",{className:`palettes ${s&&"active"}`,children:r.map(k=>z.jsx("div",{onClick:()=>c(k),style:{backgroundColor:`${k==null?void 0:k.color}`},className:`palette-item ${(i==null?void 0:i.id)===(k==null?void 0:k.id)&&"active"}`},k==null?void 0:k.id))}),z.jsx("i",{onClick:()=>a(k=>!k),className:"fa-solid fa-circle-half-stroke"})]}),z.jsx("div",{className:"profile-container",onClick:g,children:z.jsx("div",{className:"profile-circle",children:w})}),d&&z.jsxs("div",{className:"profile-details",children:[z.jsx("center",{children:z.jsx("label",{className:"title",children:"Profile"})}),z.jsxs("center",{children:[z.jsx("div",{className:"photo",children:z.jsx("div",{className:"photo-container"})})," "]}),z.jsx("center",{children:z.jsx("p",{className:"name",children:(v=er.currentUser)==null?void 0:v.displayName})}),z.jsx("center",{children:z.jsx("p",{className:"mail",children:(b=er.currentUser)==null?void 0:b.email})}),z.jsx("center",{children:z.jsx("button",{onClick:_,children:"Logout"})})]}),z.jsx("div",{className:"nav-icon-add",onClick:()=>t(!0),children:z.jsx("i",{className:"fa-solid fa-plus"})})]})]}),l&&z.jsx(Wi,{message:"Something went wrong while logout!!",toastType:"danger",duration:5e3})]})};var SI={},Rv={},xv={};Object.defineProperty(xv,"__esModule",{value:!0});var V_="html",F_="head",_u="body",iF=/<([a-zA-Z]+[0-9]?)/,B_=/<head[^]*>/i,U_=/<body[^]*>/i,Uc=function(t,e){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},am=function(t,e){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},$_=typeof window=="object"&&window.DOMParser;if(typeof $_=="function"){var oF=new $_,sF="text/html";am=function(t,e){return e&&(t="<".concat(e,">").concat(t,"</").concat(e,">")),oF.parseFromString(t,sF)},Uc=am}if(typeof document=="object"&&document.implementation){var Eu=document.implementation.createHTMLDocument();Uc=function(t,e){if(e){var n=Eu.documentElement.querySelector(e);return n&&(n.innerHTML=t),Eu}return Eu.documentElement.innerHTML=t,Eu}}var Tu=typeof document=="object"&&document.createElement("template"),lm;Tu&&Tu.content&&(lm=function(t){return Tu.innerHTML=t,Tu.content.childNodes});function aF(t){var e,n,r=t.match(iF),i=r&&r[1]?r[1].toLowerCase():"";switch(i){case V_:{var o=am(t);if(!B_.test(t)){var s=o.querySelector(F_);(e=s==null?void 0:s.parentNode)===null||e===void 0||e.removeChild(s)}if(!U_.test(t)){var s=o.querySelector(_u);(n=s==null?void 0:s.parentNode)===null||n===void 0||n.removeChild(s)}return o.querySelectorAll(V_)}case F_:case _u:{var a=Uc(t).querySelectorAll(i);return U_.test(t)&&B_.test(t)?a[0].parentNode.childNodes:a}default:{if(lm)return lm(t);var s=Uc(t,_u).querySelector(_u);return s.childNodes}}}xv.default=aF;var ms={},Nv={},Dv={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0;var e;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(e=t.ElementType||(t.ElementType={}));function n(r){return r.type===e.Tag||r.type===e.Script||r.type===e.Style}t.isTag=n,t.Root=e.Root,t.Text=e.Text,t.Directive=e.Directive,t.Comment=e.Comment,t.Script=e.Script,t.Style=e.Style,t.Tag=e.Tag,t.CDATA=e.CDATA,t.Doctype=e.Doctype})(Dv);var Oe={},_i=Ae&&Ae.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ia=Ae&&Ae.__assign||function(){return Ia=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ia.apply(this,arguments)};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.cloneNode=Oe.hasChildren=Oe.isDocument=Oe.isDirective=Oe.isComment=Oe.isText=Oe.isCDATA=Oe.isTag=Oe.Element=Oe.Document=Oe.CDATA=Oe.NodeWithChildren=Oe.ProcessingInstruction=Oe.Comment=Oe.Text=Oe.DataNode=Oe.Node=void 0;var un=Dv,Lv=function(){function t(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),t.prototype.cloneNode=function(e){return e===void 0&&(e=!1),Mv(this,e)},t}();Oe.Node=Lv;var Xf=function(t){_i(e,t);function e(n){var r=t.call(this)||this;return r.data=n,r}return Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.data},set:function(n){this.data=n},enumerable:!1,configurable:!0}),e}(Lv);Oe.DataNode=Xf;var II=function(t){_i(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=un.ElementType.Text,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),e}(Xf);Oe.Text=II;var kI=function(t){_i(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=un.ElementType.Comment,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),e}(Xf);Oe.Comment=kI;var PI=function(t){_i(e,t);function e(n,r){var i=t.call(this,r)||this;return i.name=n,i.type=un.ElementType.Directive,i}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),e}(Xf);Oe.ProcessingInstruction=PI;var Jf=function(t){_i(e,t);function e(n){var r=t.call(this)||this;return r.children=n,r}return Object.defineProperty(e.prototype,"firstChild",{get:function(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.children},set:function(n){this.children=n},enumerable:!1,configurable:!0}),e}(Lv);Oe.NodeWithChildren=Jf;var CI=function(t){_i(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=un.ElementType.CDATA,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),e}(Jf);Oe.CDATA=CI;var OI=function(t){_i(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=un.ElementType.Root,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),e}(Jf);Oe.Document=OI;var RI=function(t){_i(e,t);function e(n,r,i,o){i===void 0&&(i=[]),o===void 0&&(o=n==="script"?un.ElementType.Script:n==="style"?un.ElementType.Style:un.ElementType.Tag);var s=t.call(this,i)||this;return s.name=n,s.attribs=r,s.type=o,s}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.name},set:function(n){this.name=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var n=this;return Object.keys(this.attribs).map(function(r){var i,o;return{name:r,value:n.attribs[r],namespace:(i=n["x-attribsNamespace"])===null||i===void 0?void 0:i[r],prefix:(o=n["x-attribsPrefix"])===null||o===void 0?void 0:o[r]}})},enumerable:!1,configurable:!0}),e}(Jf);Oe.Element=RI;function xI(t){return(0,un.isTag)(t)}Oe.isTag=xI;function NI(t){return t.type===un.ElementType.CDATA}Oe.isCDATA=NI;function DI(t){return t.type===un.ElementType.Text}Oe.isText=DI;function LI(t){return t.type===un.ElementType.Comment}Oe.isComment=LI;function MI(t){return t.type===un.ElementType.Directive}Oe.isDirective=MI;function jI(t){return t.type===un.ElementType.Root}Oe.isDocument=jI;function lF(t){return Object.prototype.hasOwnProperty.call(t,"children")}Oe.hasChildren=lF;function Mv(t,e){e===void 0&&(e=!1);var n;if(DI(t))n=new II(t.data);else if(LI(t))n=new kI(t.data);else if(xI(t)){var r=e?Ah(t.children):[],i=new RI(t.name,Ia({},t.attribs),r);r.forEach(function(l){return l.parent=i}),t.namespace!=null&&(i.namespace=t.namespace),t["x-attribsNamespace"]&&(i["x-attribsNamespace"]=Ia({},t["x-attribsNamespace"])),t["x-attribsPrefix"]&&(i["x-attribsPrefix"]=Ia({},t["x-attribsPrefix"])),n=i}else if(NI(t)){var r=e?Ah(t.children):[],o=new CI(r);r.forEach(function(u){return u.parent=o}),n=o}else if(jI(t)){var r=e?Ah(t.children):[],s=new OI(r);r.forEach(function(u){return u.parent=s}),t["x-mode"]&&(s["x-mode"]=t["x-mode"]),n=s}else if(MI(t)){var a=new PI(t.name,t.data);t["x-name"]!=null&&(a["x-name"]=t["x-name"],a["x-publicId"]=t["x-publicId"],a["x-systemId"]=t["x-systemId"]),n=a}else throw new Error("Not implemented yet: ".concat(t.type));return n.startIndex=t.startIndex,n.endIndex=t.endIndex,t.sourceCodeLocation!=null&&(n.sourceCodeLocation=t.sourceCodeLocation),n}Oe.cloneNode=Mv;function Ah(t){for(var e=t.map(function(r){return Mv(r,!0)}),n=1;n<e.length;n++)e[n].prev=e[n-1],e[n-1].next=e[n];return e}(function(t){var e=Ae&&Ae.__createBinding||(Object.create?function(a,l,u,c){c===void 0&&(c=u);var f=Object.getOwnPropertyDescriptor(l,u);(!f||("get"in f?!l.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return l[u]}}),Object.defineProperty(a,c,f)}:function(a,l,u,c){c===void 0&&(c=u),a[c]=l[u]}),n=Ae&&Ae.__exportStar||function(a,l){for(var u in a)u!=="default"&&!Object.prototype.hasOwnProperty.call(l,u)&&e(l,a,u)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var r=Dv,i=Oe;n(Oe,t);var o={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},s=function(){function a(l,u,c){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof u=="function"&&(c=u,u=o),typeof l=="object"&&(u=l,l=void 0),this.callback=l??null,this.options=u??o,this.elementCB=c??null}return a.prototype.onparserinit=function(l){this.parser=l},a.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},a.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},a.prototype.onerror=function(l){this.handleCallback(l)},a.prototype.onclosetag=function(){this.lastNode=null;var l=this.tagStack.pop();this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(l)},a.prototype.onopentag=function(l,u){var c=this.options.xmlMode?r.ElementType.Tag:void 0,f=new i.Element(l,u,void 0,c);this.addNode(f),this.tagStack.push(f)},a.prototype.ontext=function(l){var u=this.lastNode;if(u&&u.type===r.ElementType.Text)u.data+=l,this.options.withEndIndices&&(u.endIndex=this.parser.endIndex);else{var c=new i.Text(l);this.addNode(c),this.lastNode=c}},a.prototype.oncomment=function(l){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=l;return}var u=new i.Comment(l);this.addNode(u),this.lastNode=u},a.prototype.oncommentend=function(){this.lastNode=null},a.prototype.oncdatastart=function(){var l=new i.Text(""),u=new i.CDATA([l]);this.addNode(u),l.parent=u,this.lastNode=l},a.prototype.oncdataend=function(){this.lastNode=null},a.prototype.onprocessinginstruction=function(l,u){var c=new i.ProcessingInstruction(l,u);this.addNode(c)},a.prototype.handleCallback=function(l){if(typeof this.callback=="function")this.callback(l,this.dom);else if(l)throw l},a.prototype.addNode=function(l){var u=this.tagStack[this.tagStack.length-1],c=u.children[u.children.length-1];this.options.withStartIndices&&(l.startIndex=this.parser.startIndex),this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),u.children.push(l),c&&(l.prev=c,c.next=l),l.parent=u,this.lastNode=null},a}();t.DomHandler=s,t.default=s})(Nv);var VI={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES=void 0,t.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES.reduce(function(e,n){return e[n.toLowerCase()]=n,e},{})})(VI);Object.defineProperty(ms,"__esModule",{value:!0});ms.formatDOM=ms.formatAttributes=void 0;var bu=Nv,uF=VI;function cF(t){return uF.CASE_SENSITIVE_TAG_NAMES_MAP[t]}function FI(t){for(var e={},n=0,r=t.length;n<r;n++){var i=t[n];e[i.name]=i.value}return e}ms.formatAttributes=FI;function fF(t){t=t.toLowerCase();var e=cF(t);return e||t}function BI(t,e,n){e===void 0&&(e=null);for(var r=[],i,o=0,s=t.length;o<s;o++){var a=t[o];switch(a.nodeType){case 1:{var l=fF(a.nodeName);i=new bu.Element(l,FI(a.attributes)),i.children=BI(l==="template"?a.content.childNodes:a.childNodes,i);break}case 3:i=new bu.Text(a.nodeValue);break;case 8:i=new bu.Comment(a.nodeValue);break;default:continue}var u=r[o-1]||null;u&&(u.next=i),i.parent=e,i.prev=u,i.next=null,r.push(i)}return n&&(i=new bu.ProcessingInstruction(n.substring(0,n.indexOf(" ")).toLowerCase(),n),i.next=r[0]||null,i.parent=e,r.unshift(i),r[1]&&(r[1].prev=r[0])),r}ms.formatDOM=BI;var dF=Ae&&Ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Rv,"__esModule",{value:!0});var hF=dF(xv),pF=ms,mF=/<(![a-zA-Z\s]+)>/;function gF(t){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];var e=t.match(mF),n=e?e[1]:void 0;return(0,pF.formatDOM)((0,hF.default)(t),null,n)}Rv.default=gF;var Zf={},zn={},ed={},vF=0;ed.SAME=vF;var yF=1;ed.CAMELCASE=yF;ed.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1};const UI=0,Ei=1,td=2,nd=3,jv=4,$I=5,qI=6;function wF(t){return Lt.hasOwnProperty(t)?Lt[t]:null}function en(t,e,n,r,i,o,s){this.acceptsBooleans=e===td||e===nd||e===jv,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}const Lt={},_F=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];_F.forEach(t=>{Lt[t]=new en(t,UI,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([t,e])=>{Lt[t]=new en(t,Ei,!1,e,null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(t=>{Lt[t]=new en(t,td,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(t=>{Lt[t]=new en(t,td,!1,t,null,!1,!1)});["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(t=>{Lt[t]=new en(t,nd,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(t=>{Lt[t]=new en(t,nd,!0,t,null,!1,!1)});["capture","download"].forEach(t=>{Lt[t]=new en(t,jv,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(t=>{Lt[t]=new en(t,qI,!1,t,null,!1,!1)});["rowSpan","start"].forEach(t=>{Lt[t]=new en(t,$I,!1,t.toLowerCase(),null,!1,!1)});const Vv=/[\-\:]([a-z])/g,Fv=t=>t[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(t=>{const e=t.replace(Vv,Fv);Lt[e]=new en(e,Ei,!1,t,null,!1,!1)});["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(t=>{const e=t.replace(Vv,Fv);Lt[e]=new en(e,Ei,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(t=>{const e=t.replace(Vv,Fv);Lt[e]=new en(e,Ei,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(t=>{Lt[t]=new en(t,Ei,!1,t.toLowerCase(),null,!1,!1)});const EF="xlinkHref";Lt[EF]=new en("xlinkHref",Ei,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(t=>{Lt[t]=new en(t,Ei,!1,t.toLowerCase(),null,!0,!0)});const{CAMELCASE:TF,SAME:bF,possibleStandardNames:q_}=ed,AF=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",SF=AF+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",IF=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+SF+"]*$")),kF=Object.keys(q_).reduce((t,e)=>{const n=q_[e];return n===bF?t[e]=e:n===TF?t[e.toLowerCase()]=e:t[e]=n,t},{});zn.BOOLEAN=nd;zn.BOOLEANISH_STRING=td;zn.NUMERIC=$I;zn.OVERLOADED_BOOLEAN=jv;zn.POSITIVE_NUMERIC=qI;zn.RESERVED=UI;zn.STRING=Ei;zn.getPropertyInfo=wF;zn.isCustomAttribute=IF;zn.possibleStandardNames=kF;var Bv={},Uv={},$v={},z_=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,PF=/\n/g,CF=/^\s*/,OF=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,RF=/^:\s*/,xF=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,NF=/^[;\s]*/,DF=/^\s+|\s+$/g,LF=`
`,H_="/",W_="*",Ni="",MF="comment",jF="declaration",VF=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(w){var y=w.match(PF);y&&(n+=y.length);var _=w.lastIndexOf(LF);r=~_?w.length-_:r+w.length}function o(){var w={line:n,column:r};return function(y){return y.position=new s(w),u(),y}}function s(w){this.start=w,this.end={line:n,column:r},this.source=e.source}s.prototype.content=t;function a(w){var y=new Error(e.source+":"+n+":"+r+": "+w);if(y.reason=w,y.filename=e.source,y.line=n,y.column=r,y.source=t,!e.silent)throw y}function l(w){var y=w.exec(t);if(y){var _=y[0];return i(_),t=t.slice(_.length),y}}function u(){l(CF)}function c(w){var y;for(w=w||[];y=f();)y!==!1&&w.push(y);return w}function f(){var w=o();if(!(H_!=t.charAt(0)||W_!=t.charAt(1))){for(var y=2;Ni!=t.charAt(y)&&(W_!=t.charAt(y)||H_!=t.charAt(y+1));)++y;if(y+=2,Ni===t.charAt(y-1))return a("End of comment missing");var _=t.slice(2,y-2);return r+=2,i(_),t=t.slice(y),r+=2,w({type:MF,comment:_})}}function d(){var w=o(),y=l(OF);if(y){if(f(),!l(RF))return a("property missing ':'");var _=l(xF),g=w({type:jF,property:K_(y[0].replace(z_,Ni)),value:_?K_(_[0].replace(z_,Ni)):Ni});return l(NF),g}}function h(){var w=[];c(w);for(var y;y=d();)y!==!1&&(w.push(y),c(w));return w}return u(),h()};function K_(t){return t?t.replace(DF,Ni):Ni}var FF=Ae&&Ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($v,"__esModule",{value:!0});var BF=FF(VF);function UF(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,BF.default)(t),i=typeof e=="function";return r.forEach(function(o){if(o.type==="declaration"){var s=o.property,a=o.value;i?e(s,a,o):a&&(n=n||{},n[s]=a)}}),n}$v.default=UF;var rd={};Object.defineProperty(rd,"__esModule",{value:!0});rd.camelCase=void 0;var $F=/^--[a-zA-Z0-9-]+$/,qF=/-([a-z])/g,zF=/^[^-]+$/,HF=/^-(webkit|moz|ms|o|khtml)-/,WF=/^-(ms)-/,KF=function(t){return!t||zF.test(t)||$F.test(t)},GF=function(t,e){return e.toUpperCase()},G_=function(t,e){return"".concat(e,"-")},QF=function(t,e){return e===void 0&&(e={}),KF(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(WF,G_):t=t.replace(HF,G_),t.replace(qF,GF))};rd.camelCase=QF;var YF=Ae&&Ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Uv,"__esModule",{value:!0});var XF=YF($v),JF=rd;function ZF(t,e){var n={};return!t||typeof t!="string"||(0,XF.default)(t,function(r,i){r&&i&&(n[(0,JF.camelCase)(r,e)]=i)}),n}Uv.default=ZF;(function(t){var e=Ae&&Ae.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(t,"__esModule",{value:!0}),t.returnFirstArg=t.canTextBeChildOfNode=t.ELEMENTS_WITH_NO_TEXT_CHILDREN=t.PRESERVE_CUSTOM_ATTRIBUTES=t.setStyleProp=t.isCustomComponent=void 0;var n=re,r=e(Uv),i=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function o(c,f){return c.includes("-")?!i.has(c):!!(f&&typeof f.is=="string")}t.isCustomComponent=o;var s={reactCompat:!0};function a(c,f){if(typeof c=="string"){if(!c.trim()){f.style={};return}try{f.style=(0,r.default)(c,s)}catch{f.style={}}}}t.setStyleProp=a,t.PRESERVE_CUSTOM_ATTRIBUTES=Number(n.version.split(".")[0])>=16,t.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);var l=function(c){return!t.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(c.name)};t.canTextBeChildOfNode=l;var u=function(c){return c};t.returnFirstArg=u})(Bv);Object.defineProperty(Zf,"__esModule",{value:!0});var la=zn,Q_=Bv,eB=["checked","value"],tB=["input","select","textarea"],nB={reset:!0,submit:!0};function rB(t,e){t===void 0&&(t={});var n={},r=!!(t.type&&nB[t.type]);for(var i in t){var o=t[i];if((0,la.isCustomAttribute)(i)){n[i]=o;continue}var s=i.toLowerCase(),a=Y_(s);if(a){var l=(0,la.getPropertyInfo)(a);switch(eB.includes(a)&&tB.includes(e)&&!r&&(a=Y_("default"+s)),n[a]=o,l&&l.type){case la.BOOLEAN:n[a]=!0;break;case la.OVERLOADED_BOOLEAN:o===""&&(n[a]=!0);break}continue}Q_.PRESERVE_CUSTOM_ATTRIBUTES&&(n[i]=o)}return(0,Q_.setStyleProp)(t.style,n),n}Zf.default=rB;function Y_(t){return la.possibleStandardNames[t]}var qv={},iB=Ae&&Ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qv,"__esModule",{value:!0});var Sh=re,oB=iB(Zf),ka=Bv,sB={cloneElement:Sh.cloneElement,createElement:Sh.createElement,isValidElement:Sh.isValidElement};function zI(t,e){for(var n=[],r=typeof(e==null?void 0:e.replace)=="function",i=(e==null?void 0:e.transform)||ka.returnFirstArg,o=(e==null?void 0:e.library)||sB,s=o.cloneElement,a=o.createElement,l=o.isValidElement,u=t.length,c=0;c<u;c++){var f=t[c];if(r){var d=e.replace(f,c);if(l(d)){u>1&&(d=s(d,{key:d.key||c})),n.push(i(d,f,c));continue}}if(f.type==="text"){var h=!f.data.trim().length;if(h&&f.parent&&!(0,ka.canTextBeChildOfNode)(f.parent)||e!=null&&e.trim&&h)continue;n.push(i(f.data,f,c));continue}var w=f,y={};aB(w)?((0,ka.setStyleProp)(w.attribs.style,w.attribs),y=w.attribs):w.attribs&&(y=(0,oB.default)(w.attribs,w.name));var _=void 0;switch(f.type){case"script":case"style":f.children[0]&&(y.dangerouslySetInnerHTML={__html:f.children[0].data});break;case"tag":f.name==="textarea"&&f.children[0]?y.defaultValue=f.children[0].data:f.children&&f.children.length&&(_=zI(f.children,e));break;default:continue}u>1&&(y.key=c),n.push(i(a(f.name,y,_),f,c))}return n.length===1?n[0]:n}qv.default=zI;function aB(t){return ka.PRESERVE_CUSTOM_ATTRIBUTES&&t.type==="tag"&&(0,ka.isCustomComponent)(t.name,t.attribs)}(function(t){var e=Ae&&Ae.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(t,"__esModule",{value:!0}),t.htmlToDOM=t.domToReact=t.attributesToProps=t.Text=t.ProcessingInstruction=t.Element=t.Comment=void 0;var n=e(Rv);t.htmlToDOM=n.default;var r=e(Zf);t.attributesToProps=r.default;var i=e(qv);t.domToReact=i.default;var o=Nv;Object.defineProperty(t,"Comment",{enumerable:!0,get:function(){return o.Comment}}),Object.defineProperty(t,"Element",{enumerable:!0,get:function(){return o.Element}}),Object.defineProperty(t,"ProcessingInstruction",{enumerable:!0,get:function(){return o.ProcessingInstruction}}),Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return o.Text}});var s={lowerCaseAttributeNames:!1};function a(l,u){if(typeof l!="string")throw new TypeError("First argument must be a string");return l?(0,i.default)((0,n.default)(l,(u==null?void 0:u.htmlparser2)||s),u):[]}t.default=a})(SI);const X_=Wc(SI),HI=X_.default||X_;var WI={exports:{}};/*!
* sweetalert2 v11.10.4
* Released under the MIT License.
*/(function(t,e){(function(n,r){t.exports=r()})(Ae,function(){function n(S,m,T){return m=h(m),_(S,i()?Reflect.construct(m,T||[],h(S).constructor):m.apply(S,T))}function r(S,m,T){if(i())return Reflect.construct.apply(null,arguments);var A=[null];A.push.apply(A,m);var $=new(S.bind.apply(S,A));return T&&w($,T.prototype),$}function i(){try{var S=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i=function(){return!!S})()}function o(S,m){var T=S==null?null:typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(T!=null){var A,$,Z,de,ke=[],Ce=!0,rt=!1;try{if(Z=(T=T.call(S)).next,m===0){if(Object(T)!==T)return;Ce=!1}else for(;!(Ce=(A=Z.call(T)).done)&&(ke.push(A.value),ke.length!==m);Ce=!0);}catch(Vs){rt=!0,$=Vs}finally{try{if(!Ce&&T.return!=null&&(de=T.return(),Object(de)!==de))return}finally{if(rt)throw $}}return ke}}function s(S,m){if(typeof S!="object"||!S)return S;var T=S[Symbol.toPrimitive];if(T!==void 0){var A=T.call(S,m||"default");if(typeof A!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(S)}function a(S){var m=s(S,"string");return typeof m=="symbol"?m:String(m)}function l(S){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},l(S)}function u(S,m){if(!(S instanceof m))throw new TypeError("Cannot call a class as a function")}function c(S,m){for(var T=0;T<m.length;T++){var A=m[T];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(S,a(A.key),A)}}function f(S,m,T){return m&&c(S.prototype,m),T&&c(S,T),Object.defineProperty(S,"prototype",{writable:!1}),S}function d(S,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(m&&m.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),m&&w(S,m)}function h(S){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(T){return T.__proto__||Object.getPrototypeOf(T)},h(S)}function w(S,m){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(A,$){return A.__proto__=$,A},w(S,m)}function y(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function _(S,m){if(m&&(typeof m=="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(S)}function g(S,m){for(;!Object.prototype.hasOwnProperty.call(S,m)&&(S=h(S),S!==null););return S}function p(){return typeof Reflect<"u"&&Reflect.get?p=Reflect.get.bind():p=function(m,T,A){var $=g(m,T);if($){var Z=Object.getOwnPropertyDescriptor($,T);return Z.get?Z.get.call(arguments.length<3?m:A):Z.value}},p.apply(this,arguments)}function E(S,m){return k(S)||o(S,m)||O(S,m)||P()}function v(S){return b(S)||I(S)||O(S)||C()}function b(S){if(Array.isArray(S))return D(S)}function k(S){if(Array.isArray(S))return S}function I(S){if(typeof Symbol<"u"&&S[Symbol.iterator]!=null||S["@@iterator"]!=null)return Array.from(S)}function O(S,m){if(S){if(typeof S=="string")return D(S,m);var T=Object.prototype.toString.call(S).slice(8,-1);if(T==="Object"&&S.constructor&&(T=S.constructor.name),T==="Map"||T==="Set")return Array.from(S);if(T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return D(S,m)}}function D(S,m){(m==null||m>S.length)&&(m=S.length);for(var T=0,A=new Array(m);T<m;T++)A[T]=S[T];return A}function C(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R(S,m){var T=j(S,m,"get");return B(S,T)}function N(S,m,T){var A=j(S,m,"set");return H(S,A,T),T}function j(S,m,T){if(!m.has(S))throw new TypeError("attempted to "+T+" private field on non-instance");return m.get(S)}function B(S,m){return m.get?m.get.call(S):m.value}function H(S,m,T){if(m.set)m.set.call(S,T);else{if(!m.writable)throw new TypeError("attempted to set read only private field");m.value=T}}function K(S,m){if(m.has(S))throw new TypeError("Cannot initialize the same private elements twice on an object")}function G(S,m,T){K(S,m),m.set(S,T)}var q=100,L={},x=function(){L.previousActiveElement instanceof HTMLElement?(L.previousActiveElement.focus(),L.previousActiveElement=null):document.body&&document.body.focus()},F=function(m){return new Promise(function(T){if(!m)return T();var A=window.scrollX,$=window.scrollY;L.restoreFocusTimeout=setTimeout(function(){x(),T()},q),window.scrollTo(A,$)})},U="swal2-",Q=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],M=Q.reduce(function(S,m){return S[m]=U+m,S},{}),V=["success","warning","info","question","error"],W=V.reduce(function(S,m){return S[m]=U+m,S},{}),X="SweetAlert2:",Y=function(m){return m.charAt(0).toUpperCase()+m.slice(1)},ne=function(m){console.warn("".concat(X," ").concat(l(m)==="object"?m.join(" "):m))},fe=function(m){console.error("".concat(X," ").concat(m))},ge=[],_e=function(m){ge.includes(m)||(ge.push(m),ne(m))},Pe=function(m,T){_e('"'.concat(m,'" is deprecated and will be removed in the next major release. Please use "').concat(T,'" instead.'))},De=function(m){return typeof m=="function"?m():m},wt=function(m){return m&&typeof m.toPromise=="function"},We=function(m){return wt(m)?m.toPromise():Promise.resolve(m)},te=function(m){return m&&Promise.resolve(m)===m},J=function(){return document.body.querySelector(".".concat(M.container))},le=function(m){var T=J();return T?T.querySelector(m):null},ae=function(m){return le(".".concat(m))},ee=function(){return ae(M.popup)},Ee=function(){return ae(M.icon)},Se=function(){return ae(M["icon-content"])},Ie=function(){return ae(M.title)},Mt=function(){return ae(M["html-container"])},En=function(){return ae(M.image)},$e=function(){return ae(M["progress-steps"])},mo=function(){return ae(M["validation-message"])},Ve=function(){return le(".".concat(M.actions," .").concat(M.confirm))},Gt=function(){return le(".".concat(M.actions," .").concat(M.cancel))},Ti=function(){return le(".".concat(M.actions," .").concat(M.deny))},uk=function(){return ae(M["input-label"])},go=function(){return le(".".concat(M.loader))},Ds=function(){return ae(M.actions)},Kv=function(){return ae(M.footer)},jl=function(){return ae(M["timer-progress-bar"])},fd=function(){return ae(M.close)},ck=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,dd=function(){var m=ee();if(!m)return[];var T=m.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),A=Array.from(T).sort(function(de,ke){var Ce=parseInt(de.getAttribute("tabindex")||"0"),rt=parseInt(ke.getAttribute("tabindex")||"0");return Ce>rt?1:Ce<rt?-1:0}),$=m.querySelectorAll(ck),Z=Array.from($).filter(function(de){return de.getAttribute("tabindex")!=="-1"});return v(new Set(A.concat(Z))).filter(function(de){return fn(de)})},hd=function(){return fr(document.body,M.shown)&&!fr(document.body,M["toast-shown"])&&!fr(document.body,M["no-backdrop"])},Vl=function(){var m=ee();return m?fr(m,M.toast):!1},fk=function(){var m=ee();return m?m.hasAttribute("data-loading"):!1},cn=function(m,T){if(m.textContent="",T){var A=new DOMParser,$=A.parseFromString(T,"text/html"),Z=$.querySelector("head");Z&&Array.from(Z.childNodes).forEach(function(ke){m.appendChild(ke)});var de=$.querySelector("body");de&&Array.from(de.childNodes).forEach(function(ke){ke instanceof HTMLVideoElement||ke instanceof HTMLAudioElement?m.appendChild(ke.cloneNode(!0)):m.appendChild(ke)})}},fr=function(m,T){if(!T)return!1;for(var A=T.split(/\s+/),$=0;$<A.length;$++)if(!m.classList.contains(A[$]))return!1;return!0},dk=function(m,T){Array.from(m.classList).forEach(function(A){!Object.values(M).includes(A)&&!Object.values(W).includes(A)&&!Object.values(T.showClass||{}).includes(A)&&m.classList.remove(A)})},Tn=function(m,T,A){if(dk(m,T),T.customClass&&T.customClass[A]){if(typeof T.customClass[A]!="string"&&!T.customClass[A].forEach){ne("Invalid type of customClass.".concat(A,'! Expected string or iterable object, got "').concat(l(T.customClass[A]),'"'));return}Me(m,T.customClass[A])}},Fl=function(m,T){if(!T)return null;switch(T){case"select":case"textarea":case"file":return m.querySelector(".".concat(M.popup," > .").concat(M[T]));case"checkbox":return m.querySelector(".".concat(M.popup," > .").concat(M.checkbox," input"));case"radio":return m.querySelector(".".concat(M.popup," > .").concat(M.radio," input:checked"))||m.querySelector(".".concat(M.popup," > .").concat(M.radio," input:first-child"));case"range":return m.querySelector(".".concat(M.popup," > .").concat(M.range," input"));default:return m.querySelector(".".concat(M.popup," > .").concat(M.input))}},Gv=function(m){if(m.focus(),m.type!=="file"){var T=m.value;m.value="",m.value=T}},Qv=function(m,T,A){!m||!T||(typeof T=="string"&&(T=T.split(/\s+/).filter(Boolean)),T.forEach(function($){Array.isArray(m)?m.forEach(function(Z){A?Z.classList.add($):Z.classList.remove($)}):A?m.classList.add($):m.classList.remove($)}))},Me=function(m,T){Qv(m,T,!0)},Hn=function(m,T){Qv(m,T,!1)},Rr=function(m,T){for(var A=Array.from(m.children),$=0;$<A.length;$++){var Z=A[$];if(Z instanceof HTMLElement&&fr(Z,T))return Z}},bi=function(m,T,A){A==="".concat(parseInt(A))&&(A=parseInt(A)),A||parseInt(A)===0?m.style.setProperty(T,typeof A=="number"?"".concat(A,"px"):A):m.style.removeProperty(T)},_t=function(m){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";m&&(m.style.display=T)},jt=function(m){m&&(m.style.display="none")},pd=function(m){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";m&&new MutationObserver(function(){Ls(m,m.innerHTML,T)}).observe(m,{childList:!0,subtree:!0})},Yv=function(m,T,A,$){var Z=m.querySelector(T);Z&&Z.style.setProperty(A,$)},Ls=function(m,T){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";T?_t(m,A):jt(m)},fn=function(m){return!!(m&&(m.offsetWidth||m.offsetHeight||m.getClientRects().length))},hk=function(){return!fn(Ve())&&!fn(Ti())&&!fn(Gt())},Xv=function(m){return m.scrollHeight>m.clientHeight},Jv=function(m){var T=window.getComputedStyle(m),A=parseFloat(T.getPropertyValue("animation-duration")||"0"),$=parseFloat(T.getPropertyValue("transition-duration")||"0");return A>0||$>0},md=function(m){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,A=jl();A&&fn(A)&&(T&&(A.style.transition="none",A.style.width="100%"),setTimeout(function(){A.style.transition="width ".concat(m/1e3,"s linear"),A.style.width="0%"},10))},pk=function(){var m=jl();if(m){var T=parseInt(window.getComputedStyle(m).width);m.style.removeProperty("transition"),m.style.width="100%";var A=parseInt(window.getComputedStyle(m).width),$=T/A*100;m.style.width="".concat($,"%")}},Zv=function(){return typeof window>"u"||typeof document>"u"},mk=`
 <div aria-labelledby="`.concat(M.title,'" aria-describedby="').concat(M["html-container"],'" class="').concat(M.popup,`" tabindex="-1">
   <button type="button" class="`).concat(M.close,`"></button>
   <ul class="`).concat(M["progress-steps"],`"></ul>
   <div class="`).concat(M.icon,`"></div>
   <img class="`).concat(M.image,`" />
   <h2 class="`).concat(M.title,'" id="').concat(M.title,`"></h2>
   <div class="`).concat(M["html-container"],'" id="').concat(M["html-container"],`"></div>
   <input class="`).concat(M.input,'" id="').concat(M.input,`" />
   <input type="file" class="`).concat(M.file,`" />
   <div class="`).concat(M.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(M.select,'" id="').concat(M.select,`"></select>
   <div class="`).concat(M.radio,`"></div>
   <label class="`).concat(M.checkbox,`">
     <input type="checkbox" id="`).concat(M.checkbox,`" />
     <span class="`).concat(M.label,`"></span>
   </label>
   <textarea class="`).concat(M.textarea,'" id="').concat(M.textarea,`"></textarea>
   <div class="`).concat(M["validation-message"],'" id="').concat(M["validation-message"],`"></div>
   <div class="`).concat(M.actions,`">
     <div class="`).concat(M.loader,`"></div>
     <button type="button" class="`).concat(M.confirm,`"></button>
     <button type="button" class="`).concat(M.deny,`"></button>
     <button type="button" class="`).concat(M.cancel,`"></button>
   </div>
   <div class="`).concat(M.footer,`"></div>
   <div class="`).concat(M["timer-progress-bar-container"],`">
     <div class="`).concat(M["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),gk=function(){var m=J();return m?(m.remove(),Hn([document.documentElement,document.body],[M["no-backdrop"],M["toast-shown"],M["has-column"]]),!0):!1},Ai=function(){L.currentInstance.resetValidationMessage()},vk=function(){var m=ee(),T=Rr(m,M.input),A=Rr(m,M.file),$=m.querySelector(".".concat(M.range," input")),Z=m.querySelector(".".concat(M.range," output")),de=Rr(m,M.select),ke=m.querySelector(".".concat(M.checkbox," input")),Ce=Rr(m,M.textarea);T.oninput=Ai,A.onchange=Ai,de.onchange=Ai,ke.onchange=Ai,Ce.oninput=Ai,$.oninput=function(){Ai(),Z.value=$.value},$.onchange=function(){Ai(),Z.value=$.value}},yk=function(m){return typeof m=="string"?document.querySelector(m):m},wk=function(m){var T=ee();T.setAttribute("role",m.toast?"alert":"dialog"),T.setAttribute("aria-live",m.toast?"polite":"assertive"),m.toast||T.setAttribute("aria-modal","true")},_k=function(m){window.getComputedStyle(m).direction==="rtl"&&Me(J(),M.rtl)},Ek=function(m){var T=gk();if(Zv()){fe("SweetAlert2 requires document to initialize");return}var A=document.createElement("div");A.className=M.container,T&&Me(A,M["no-transition"]),cn(A,mk);var $=yk(m.target);$.appendChild(A),wk(m),_k($),vk()},gd=function(m,T){m instanceof HTMLElement?T.appendChild(m):l(m)==="object"?Tk(m,T):m&&cn(T,m)},Tk=function(m,T){m.jquery?bk(T,m):cn(T,m.toString())},bk=function(m,T){if(m.textContent="",0 in T)for(var A=0;A in T;A++)m.appendChild(T[A].cloneNode(!0));else m.appendChild(T.cloneNode(!0))},Si=function(){if(Zv())return!1;var S=document.createElement("div");return typeof S.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof S.style.animation<"u"?"animationend":!1}(),Ak=function(m,T){var A=Ds(),$=go();!A||!$||(!T.showConfirmButton&&!T.showDenyButton&&!T.showCancelButton?jt(A):_t(A),Tn(A,T,"actions"),Sk(A,$,T),cn($,T.loaderHtml||""),Tn($,T,"loader"))};function Sk(S,m,T){var A=Ve(),$=Ti(),Z=Gt();!A||!$||!Z||(vd(A,"confirm",T),vd($,"deny",T),vd(Z,"cancel",T),Ik(A,$,Z,T),T.reverseButtons&&(T.toast?(S.insertBefore(Z,A),S.insertBefore($,A)):(S.insertBefore(Z,m),S.insertBefore($,m),S.insertBefore(A,m))))}function Ik(S,m,T,A){if(!A.buttonsStyling){Hn([S,m,T],M.styled);return}Me([S,m,T],M.styled),A.confirmButtonColor&&(S.style.backgroundColor=A.confirmButtonColor,Me(S,M["default-outline"])),A.denyButtonColor&&(m.style.backgroundColor=A.denyButtonColor,Me(m,M["default-outline"])),A.cancelButtonColor&&(T.style.backgroundColor=A.cancelButtonColor,Me(T,M["default-outline"]))}function vd(S,m,T){var A=Y(m);Ls(S,T["show".concat(A,"Button")],"inline-block"),cn(S,T["".concat(m,"ButtonText")]||""),S.setAttribute("aria-label",T["".concat(m,"ButtonAriaLabel")]||""),S.className=M[m],Tn(S,T,"".concat(m,"Button"))}var kk=function(m,T){var A=fd();A&&(cn(A,T.closeButtonHtml||""),Tn(A,T,"closeButton"),Ls(A,T.showCloseButton),A.setAttribute("aria-label",T.closeButtonAriaLabel||""))},Pk=function(m,T){var A=J();A&&(Ck(A,T.backdrop),Ok(A,T.position),Rk(A,T.grow),Tn(A,T,"container"))};function Ck(S,m){typeof m=="string"?S.style.background=m:m||Me([document.documentElement,document.body],M["no-backdrop"])}function Ok(S,m){m&&(m in M?Me(S,M[m]):(ne('The "position" parameter is not valid, defaulting to "center"'),Me(S,M.center)))}function Rk(S,m){m&&Me(S,M["grow-".concat(m)])}var qe={innerParams:new WeakMap,domCache:new WeakMap},xk=["input","file","range","select","radio","checkbox","textarea"],Nk=function(m,T){var A=ee();if(A){var $=qe.innerParams.get(m),Z=!$||T.input!==$.input;xk.forEach(function(de){var ke=Rr(A,M[de]);ke&&(Mk(de,T.inputAttributes),ke.className=M[de],Z&&jt(ke))}),T.input&&(Z&&Dk(T),jk(T))}},Dk=function(m){if(m.input){if(!st[m.input]){fe("Unexpected type of input! Expected ".concat(Object.keys(st).join(" | "),', got "').concat(m.input,'"'));return}var T=ey(m.input),A=st[m.input](T,m);_t(T),m.inputAutoFocus&&setTimeout(function(){Gv(A)})}},Lk=function(m){for(var T=0;T<m.attributes.length;T++){var A=m.attributes[T].name;["id","type","value","style"].includes(A)||m.removeAttribute(A)}},Mk=function(m,T){var A=Fl(ee(),m);if(A){Lk(A);for(var $ in T)A.setAttribute($,T[$])}},jk=function(m){var T=ey(m.input);l(m.customClass)==="object"&&Me(T,m.customClass.input)},yd=function(m,T){(!m.placeholder||T.inputPlaceholder)&&(m.placeholder=T.inputPlaceholder)},Ms=function(m,T,A){if(A.inputLabel){var $=document.createElement("label"),Z=M["input-label"];$.setAttribute("for",m.id),$.className=Z,l(A.customClass)==="object"&&Me($,A.customClass.inputLabel),$.innerText=A.inputLabel,T.insertAdjacentElement("beforebegin",$)}},ey=function(m){return Rr(ee(),M[m]||M.input)},Bl=function(m,T){["string","number"].includes(l(T))?m.value="".concat(T):te(T)||ne('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(l(T),'"'))},st={};st.text=st.email=st.password=st.number=st.tel=st.url=st.search=st.date=st["datetime-local"]=st.time=st.week=st.month=function(S,m){return Bl(S,m.inputValue),Ms(S,S,m),yd(S,m),S.type=m.input,S},st.file=function(S,m){return Ms(S,S,m),yd(S,m),S},st.range=function(S,m){var T=S.querySelector("input"),A=S.querySelector("output");return Bl(T,m.inputValue),T.type=m.input,Bl(A,m.inputValue),Ms(T,S,m),S},st.select=function(S,m){if(S.textContent="",m.inputPlaceholder){var T=document.createElement("option");cn(T,m.inputPlaceholder),T.value="",T.disabled=!0,T.selected=!0,S.appendChild(T)}return Ms(S,S,m),S},st.radio=function(S){return S.textContent="",S},st.checkbox=function(S,m){var T=Fl(ee(),"checkbox");T.value="1",T.checked=!!m.inputValue;var A=S.querySelector("span");return cn(A,m.inputPlaceholder),T},st.textarea=function(S,m){Bl(S,m.inputValue),yd(S,m),Ms(S,S,m);var T=function($){return parseInt(window.getComputedStyle($).marginLeft)+parseInt(window.getComputedStyle($).marginRight)};return setTimeout(function(){if("MutationObserver"in window){var A=parseInt(window.getComputedStyle(ee()).width),$=function(){if(document.body.contains(S)){var de=S.offsetWidth+T(S);de>A?ee().style.width="".concat(de,"px"):bi(ee(),"width",m.width)}};new MutationObserver($).observe(S,{attributes:!0,attributeFilter:["style"]})}}),S};var Vk=function(m,T){var A=Mt();A&&(pd(A),Tn(A,T,"htmlContainer"),T.html?(gd(T.html,A),_t(A,"block")):T.text?(A.textContent=T.text,_t(A,"block")):jt(A),Nk(m,T))},Fk=function(m,T){var A=Kv();A&&(pd(A),Ls(A,T.footer,"block"),T.footer&&gd(T.footer,A),Tn(A,T,"footer"))},Bk=function(m,T){var A=qe.innerParams.get(m),$=Ee();if($){if(A&&T.icon===A.icon){ny($,T),ty($,T);return}if(!T.icon&&!T.iconHtml){jt($);return}if(T.icon&&Object.keys(W).indexOf(T.icon)===-1){fe('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(T.icon,'"')),jt($);return}_t($),ny($,T),ty($,T),Me($,T.showClass&&T.showClass.icon)}},ty=function(m,T){for(var A=0,$=Object.entries(W);A<$.length;A++){var Z=E($[A],2),de=Z[0],ke=Z[1];T.icon!==de&&Hn(m,ke)}Me(m,T.icon&&W[T.icon]),zk(m,T),Uk(),Tn(m,T,"icon")},Uk=function(){var m=ee();if(m)for(var T=window.getComputedStyle(m).getPropertyValue("background-color"),A=m.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),$=0;$<A.length;$++)A[$].style.backgroundColor=T},$k=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,qk=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,ny=function(m,T){if(!(!T.icon&&!T.iconHtml)){var A=m.innerHTML,$="";if(T.iconHtml)$=ry(T.iconHtml);else if(T.icon==="success")$=$k,A=A.replace(/ style=".*?"/g,"");else if(T.icon==="error")$=qk;else if(T.icon){var Z={question:"?",warning:"!",info:"i"};$=ry(Z[T.icon])}A.trim()!==$.trim()&&cn(m,$)}},zk=function(m,T){if(T.iconColor){m.style.color=T.iconColor,m.style.borderColor=T.iconColor;for(var A=0,$=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];A<$.length;A++){var Z=$[A];Yv(m,Z,"background-color",T.iconColor)}Yv(m,".swal2-success-ring","border-color",T.iconColor)}},ry=function(m){return'<div class="'.concat(M["icon-content"],'">').concat(m,"</div>")},Hk=function(m,T){var A=En();if(A){if(!T.imageUrl){jt(A);return}_t(A,""),A.setAttribute("src",T.imageUrl),A.setAttribute("alt",T.imageAlt||""),bi(A,"width",T.imageWidth),bi(A,"height",T.imageHeight),A.className=M.image,Tn(A,T,"image")}},Wk=function(m,T){var A=J(),$=ee();if(!(!A||!$)){if(T.toast){bi(A,"width",T.width),$.style.width="100%";var Z=go();Z&&$.insertBefore(Z,Ee())}else bi($,"width",T.width);bi($,"padding",T.padding),T.color&&($.style.color=T.color),T.background&&($.style.background=T.background),jt(mo()),Kk($,T)}},Kk=function(m,T){var A=T.showClass||{};m.className="".concat(M.popup," ").concat(fn(m)?A.popup:""),T.toast?(Me([document.documentElement,document.body],M["toast-shown"]),Me(m,M.toast)):Me(m,M.modal),Tn(m,T,"popup"),typeof T.customClass=="string"&&Me(m,T.customClass),T.icon&&Me(m,M["icon-".concat(T.icon)])},Gk=function(m,T){var A=$e();if(A){var $=T.progressSteps,Z=T.currentProgressStep;if(!$||$.length===0||Z===void 0){jt(A);return}_t(A),A.textContent="",Z>=$.length&&ne("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),$.forEach(function(de,ke){var Ce=Qk(de);if(A.appendChild(Ce),ke===Z&&Me(Ce,M["active-progress-step"]),ke!==$.length-1){var rt=Yk(T);A.appendChild(rt)}})}},Qk=function(m){var T=document.createElement("li");return Me(T,M["progress-step"]),cn(T,m),T},Yk=function(m){var T=document.createElement("li");return Me(T,M["progress-step-line"]),m.progressStepsDistance&&bi(T,"width",m.progressStepsDistance),T},Xk=function(m,T){var A=Ie();A&&(pd(A),Ls(A,T.title||T.titleText,"block"),T.title&&gd(T.title,A),T.titleText&&(A.innerText=T.titleText),Tn(A,T,"title"))},iy=function(m,T){Wk(m,T),Pk(m,T),Gk(m,T),Bk(m,T),Hk(m,T),Xk(m,T),kk(m,T),Vk(m,T),Ak(m,T),Fk(m,T);var A=ee();typeof T.didRender=="function"&&A&&T.didRender(A)},Jk=function(){return fn(ee())},oy=function(){var m;return(m=Ve())===null||m===void 0?void 0:m.click()},Zk=function(){var m;return(m=Ti())===null||m===void 0?void 0:m.click()},e2=function(){var m;return(m=Gt())===null||m===void 0?void 0:m.click()},vo=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),sy=function(m){m.keydownTarget&&m.keydownHandlerAdded&&(m.keydownTarget.removeEventListener("keydown",m.keydownHandler,{capture:m.keydownListenerCapture}),m.keydownHandlerAdded=!1)},t2=function(m,T,A){sy(m),T.toast||(m.keydownHandler=function($){return r2(T,$,A)},m.keydownTarget=T.keydownListenerCapture?window:ee(),m.keydownListenerCapture=T.keydownListenerCapture,m.keydownTarget.addEventListener("keydown",m.keydownHandler,{capture:m.keydownListenerCapture}),m.keydownHandlerAdded=!0)},wd=function(m,T){var A,$=dd();if($.length){m=m+T,m===$.length?m=0:m===-1&&(m=$.length-1),$[m].focus();return}(A=ee())===null||A===void 0||A.focus()},ay=["ArrowRight","ArrowDown"],n2=["ArrowLeft","ArrowUp"],r2=function(m,T,A){m&&(T.isComposing||T.keyCode===229||(m.stopKeydownPropagation&&T.stopPropagation(),T.key==="Enter"?i2(T,m):T.key==="Tab"?o2(T):[].concat(ay,n2).includes(T.key)?s2(T.key):T.key==="Escape"&&a2(T,m,A)))},i2=function(m,T){if(De(T.allowEnterKey)){var A=Fl(ee(),T.input);if(m.target&&A&&m.target instanceof HTMLElement&&m.target.outerHTML===A.outerHTML){if(["textarea","file"].includes(T.input))return;oy(),m.preventDefault()}}},o2=function(m){for(var T=m.target,A=dd(),$=-1,Z=0;Z<A.length;Z++)if(T===A[Z]){$=Z;break}m.shiftKey?wd($,-1):wd($,1),m.stopPropagation(),m.preventDefault()},s2=function(m){var T=Ds(),A=Ve(),$=Ti(),Z=Gt();if(!(!T||!A||!$||!Z)){var de=[A,$,Z];if(!(document.activeElement instanceof HTMLElement&&!de.includes(document.activeElement))){var ke=ay.includes(m)?"nextElementSibling":"previousElementSibling",Ce=document.activeElement;if(Ce){for(var rt=0;rt<T.children.length;rt++){if(Ce=Ce[ke],!Ce)return;if(Ce instanceof HTMLButtonElement&&fn(Ce))break}Ce instanceof HTMLButtonElement&&Ce.focus()}}}},a2=function(m,T,A){De(T.allowEscapeKey)&&(m.preventDefault(),A(vo.esc))},yo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},l2=function(){var m=Array.from(document.body.children);m.forEach(function(T){T===J()||T.contains(J())||(T.hasAttribute("aria-hidden")&&T.setAttribute("data-previous-aria-hidden",T.getAttribute("aria-hidden")||""),T.setAttribute("aria-hidden","true"))})},ly=function(){var m=Array.from(document.body.children);m.forEach(function(T){T.hasAttribute("data-previous-aria-hidden")?(T.setAttribute("aria-hidden",T.getAttribute("data-previous-aria-hidden")||""),T.removeAttribute("data-previous-aria-hidden")):T.removeAttribute("aria-hidden")})},uy=typeof window<"u"&&!!window.GestureEvent,u2=function(){if(uy&&!fr(document.body,M.iosfix)){var m=document.body.scrollTop;document.body.style.top="".concat(m*-1,"px"),Me(document.body,M.iosfix),c2()}},c2=function(){var m=J();if(m){var T;m.ontouchstart=function(A){T=f2(A)},m.ontouchmove=function(A){T&&(A.preventDefault(),A.stopPropagation())}}},f2=function(m){var T=m.target,A=J(),$=Mt();return!A||!$||d2(m)||h2(m)?!1:T===A||!Xv(A)&&T instanceof HTMLElement&&T.tagName!=="INPUT"&&T.tagName!=="TEXTAREA"&&!(Xv($)&&$.contains(T))},d2=function(m){return m.touches&&m.touches.length&&m.touches[0].touchType==="stylus"},h2=function(m){return m.touches&&m.touches.length>1},p2=function(){if(fr(document.body,M.iosfix)){var m=parseInt(document.body.style.top,10);Hn(document.body,M.iosfix),document.body.style.top="",document.body.scrollTop=m*-1}},m2=function(){var m=document.createElement("div");m.className=M["scrollbar-measure"],document.body.appendChild(m);var T=m.getBoundingClientRect().width-m.clientWidth;return document.body.removeChild(m),T},wo=null,g2=function(m){wo===null&&(document.body.scrollHeight>window.innerHeight||m==="scroll")&&(wo=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(wo+m2(),"px"))},v2=function(){wo!==null&&(document.body.style.paddingRight="".concat(wo,"px"),wo=null)};function cy(S,m,T,A){Vl()?dy(S,A):(F(T).then(function(){return dy(S,A)}),sy(L)),uy?(m.setAttribute("style","display:none !important"),m.removeAttribute("class"),m.innerHTML=""):m.remove(),hd()&&(v2(),p2(),ly()),y2()}function y2(){Hn([document.documentElement,document.body],[M.shown,M["height-auto"],M["no-backdrop"],M["toast-shown"]])}function xr(S){S=_2(S);var m=yo.swalPromiseResolve.get(this),T=w2(this);this.isAwaitingPromise?S.isDismissed||(js(this),m(S)):T&&m(S)}var w2=function(m){var T=ee();if(!T)return!1;var A=qe.innerParams.get(m);if(!A||fr(T,A.hideClass.popup))return!1;Hn(T,A.showClass.popup),Me(T,A.hideClass.popup);var $=J();return Hn($,A.showClass.backdrop),Me($,A.hideClass.backdrop),E2(m,T,A),!0};function fy(S){var m=yo.swalPromiseReject.get(this);js(this),m&&m(S)}var js=function(m){m.isAwaitingPromise&&(delete m.isAwaitingPromise,qe.innerParams.get(m)||m._destroy())},_2=function(m){return typeof m>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},m)},E2=function(m,T,A){var $=J(),Z=Si&&Jv(T);typeof A.willClose=="function"&&A.willClose(T),Z?T2(m,T,$,A.returnFocus,A.didClose):cy(m,$,A.returnFocus,A.didClose)},T2=function(m,T,A,$,Z){Si&&(L.swalCloseEventFinishedCallback=cy.bind(null,m,A,$,Z),T.addEventListener(Si,function(de){de.target===T&&(L.swalCloseEventFinishedCallback(),delete L.swalCloseEventFinishedCallback)}))},dy=function(m,T){setTimeout(function(){typeof T=="function"&&T.bind(m.params)(),m._destroy&&m._destroy()})},_o=function(m){var T=ee();if(T||new Hl,T=ee(),!!T){var A=go();Vl()?jt(Ee()):b2(T,m),_t(A),T.setAttribute("data-loading","true"),T.setAttribute("aria-busy","true"),T.focus()}},b2=function(m,T){var A=Ds(),$=go();!A||!$||(!T&&fn(Ve())&&(T=Ve()),_t(A),T&&(jt(T),$.setAttribute("data-button-to-replace",T.className),A.insertBefore($,T)),Me([m,A],M.loading))},A2=function(m,T){T.input==="select"||T.input==="radio"?C2(m,T):["text","email","number","tel","textarea"].some(function(A){return A===T.input})&&(wt(T.inputValue)||te(T.inputValue))&&(_o(Ve()),O2(m,T))},S2=function(m,T){var A=m.getInput();if(!A)return null;switch(T.input){case"checkbox":return I2(A);case"radio":return k2(A);case"file":return P2(A);default:return T.inputAutoTrim?A.value.trim():A.value}},I2=function(m){return m.checked?1:0},k2=function(m){return m.checked?m.value:null},P2=function(m){return m.files&&m.files.length?m.getAttribute("multiple")!==null?m.files:m.files[0]:null},C2=function(m,T){var A=ee();if(A){var $=function(de){T.input==="select"?R2(A,hy(de),T):T.input==="radio"&&x2(A,hy(de),T)};wt(T.inputOptions)||te(T.inputOptions)?(_o(Ve()),We(T.inputOptions).then(function(Z){m.hideLoading(),$(Z)})):l(T.inputOptions)==="object"?$(T.inputOptions):fe("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(l(T.inputOptions)))}},O2=function(m,T){var A=m.getInput();A&&(jt(A),We(T.inputValue).then(function($){A.value=T.input==="number"?"".concat(parseFloat($)||0):"".concat($),_t(A),A.focus(),m.hideLoading()}).catch(function($){fe("Error in inputValue promise: ".concat($)),A.value="",_t(A),A.focus(),m.hideLoading()}))};function R2(S,m,T){var A=Rr(S,M.select);if(A){var $=function(de,ke,Ce){var rt=document.createElement("option");rt.value=Ce,cn(rt,ke),rt.selected=py(Ce,T.inputValue),de.appendChild(rt)};m.forEach(function(Z){var de=Z[0],ke=Z[1];if(Array.isArray(ke)){var Ce=document.createElement("optgroup");Ce.label=de,Ce.disabled=!1,A.appendChild(Ce),ke.forEach(function(rt){return $(Ce,rt[1],rt[0])})}else $(A,ke,de)}),A.focus()}}function x2(S,m,T){var A=Rr(S,M.radio);if(A){m.forEach(function(Z){var de=Z[0],ke=Z[1],Ce=document.createElement("input"),rt=document.createElement("label");Ce.type="radio",Ce.name=M.radio,Ce.value=de,py(de,T.inputValue)&&(Ce.checked=!0);var Vs=document.createElement("span");cn(Vs,ke),Vs.className=M.label,rt.appendChild(Ce),rt.appendChild(Vs),A.appendChild(rt)});var $=A.querySelectorAll("input");$.length&&$[0].focus()}}var hy=function S(m){var T=[];return m instanceof Map?m.forEach(function(A,$){var Z=A;l(Z)==="object"&&(Z=S(Z)),T.push([$,Z])}):Object.keys(m).forEach(function(A){var $=m[A];l($)==="object"&&($=S($)),T.push([A,$])}),T},py=function(m,T){return!!T&&T.toString()===m.toString()},Ul=void 0,N2=function(m){var T=qe.innerParams.get(m);m.disableButtons(),T.input?my(m,"confirm"):Ed(m,!0)},D2=function(m){var T=qe.innerParams.get(m);m.disableButtons(),T.returnInputValueOnDeny?my(m,"deny"):_d(m,!1)},L2=function(m,T){m.disableButtons(),T(vo.cancel)},my=function(m,T){var A=qe.innerParams.get(m);if(!A.input){fe('The "input" parameter is needed to be set when using returnInputValueOn'.concat(Y(T)));return}var $=m.getInput(),Z=S2(m,A);A.inputValidator?M2(m,Z,T):$&&!$.checkValidity()?(m.enableButtons(),m.showValidationMessage(A.validationMessage)):T==="deny"?_d(m,Z):Ed(m,Z)},M2=function(m,T,A){var $=qe.innerParams.get(m);m.disableInput();var Z=Promise.resolve().then(function(){return We($.inputValidator(T,$.validationMessage))});Z.then(function(de){m.enableButtons(),m.enableInput(),de?m.showValidationMessage(de):A==="deny"?_d(m,T):Ed(m,T)})},_d=function(m,T){var A=qe.innerParams.get(m||Ul);if(A.showLoaderOnDeny&&_o(Ti()),A.preDeny){m.isAwaitingPromise=!0;var $=Promise.resolve().then(function(){return We(A.preDeny(T,A.validationMessage))});$.then(function(Z){Z===!1?(m.hideLoading(),js(m)):m.close({isDenied:!0,value:typeof Z>"u"?T:Z})}).catch(function(Z){return vy(m||Ul,Z)})}else m.close({isDenied:!0,value:T})},gy=function(m,T){m.close({isConfirmed:!0,value:T})},vy=function(m,T){m.rejectPromise(T)},Ed=function(m,T){var A=qe.innerParams.get(m||Ul);if(A.showLoaderOnConfirm&&_o(),A.preConfirm){m.resetValidationMessage(),m.isAwaitingPromise=!0;var $=Promise.resolve().then(function(){return We(A.preConfirm(T,A.validationMessage))});$.then(function(Z){fn(mo())||Z===!1?(m.hideLoading(),js(m)):gy(m,typeof Z>"u"?T:Z)}).catch(function(Z){return vy(m||Ul,Z)})}else gy(m,T)};function $l(){var S=qe.innerParams.get(this);if(S){var m=qe.domCache.get(this);jt(m.loader),Vl()?S.icon&&_t(Ee()):j2(m),Hn([m.popup,m.actions],M.loading),m.popup.removeAttribute("aria-busy"),m.popup.removeAttribute("data-loading"),m.confirmButton.disabled=!1,m.denyButton.disabled=!1,m.cancelButton.disabled=!1}}var j2=function(m){var T=m.popup.getElementsByClassName(m.loader.getAttribute("data-button-to-replace"));T.length?_t(T[0],"inline-block"):hk()&&jt(m.actions)};function yy(){var S=qe.innerParams.get(this),m=qe.domCache.get(this);return m?Fl(m.popup,S.input):null}function wy(S,m,T){var A=qe.domCache.get(S);m.forEach(function($){A[$].disabled=T})}function _y(S,m){var T=ee();if(!(!T||!S))if(S.type==="radio")for(var A=T.querySelectorAll('[name="'.concat(M.radio,'"]')),$=0;$<A.length;$++)A[$].disabled=m;else S.disabled=m}function Ey(){wy(this,["confirmButton","denyButton","cancelButton"],!1)}function Ty(){wy(this,["confirmButton","denyButton","cancelButton"],!0)}function by(){_y(this.getInput(),!1)}function Ay(){_y(this.getInput(),!0)}function Sy(S){var m=qe.domCache.get(this),T=qe.innerParams.get(this);cn(m.validationMessage,S),m.validationMessage.className=M["validation-message"],T.customClass&&T.customClass.validationMessage&&Me(m.validationMessage,T.customClass.validationMessage),_t(m.validationMessage);var A=this.getInput();A&&(A.setAttribute("aria-invalid","true"),A.setAttribute("aria-describedby",M["validation-message"]),Gv(A),Me(A,M.inputerror))}function Iy(){var S=qe.domCache.get(this);S.validationMessage&&jt(S.validationMessage);var m=this.getInput();m&&(m.removeAttribute("aria-invalid"),m.removeAttribute("aria-describedby"),Hn(m,M.inputerror))}var Eo={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},V2=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],F2={},B2=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],ky=function(m){return Object.prototype.hasOwnProperty.call(Eo,m)},Py=function(m){return V2.indexOf(m)!==-1},Cy=function(m){return F2[m]},U2=function(m){ky(m)||ne('Unknown parameter "'.concat(m,'"'))},$2=function(m){B2.includes(m)&&ne('The parameter "'.concat(m,'" is incompatible with toasts'))},q2=function(m){var T=Cy(m);T&&Pe(m,T)},z2=function(m){m.backdrop===!1&&m.allowOutsideClick&&ne('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(var T in m)U2(T),m.toast&&$2(T),q2(T)};function Oy(S){var m=ee(),T=qe.innerParams.get(this);if(!m||fr(m,T.hideClass.popup)){ne("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}var A=H2(S),$=Object.assign({},T,A);iy(this,$),qe.innerParams.set(this,$),Object.defineProperties(this,{params:{value:Object.assign({},this.params,S),writable:!1,enumerable:!0}})}var H2=function(m){var T={};return Object.keys(m).forEach(function(A){Py(A)?T[A]=m[A]:ne("Invalid parameter to update: ".concat(A))}),T};function Ry(){var S=qe.domCache.get(this),m=qe.innerParams.get(this);if(!m){xy(this);return}S.popup&&L.swalCloseEventFinishedCallback&&(L.swalCloseEventFinishedCallback(),delete L.swalCloseEventFinishedCallback),typeof m.didDestroy=="function"&&m.didDestroy(),W2(this)}var W2=function(m){xy(m),delete m.params,delete L.keydownHandler,delete L.keydownTarget,delete L.currentInstance},xy=function(m){m.isAwaitingPromise?(Td(qe,m),m.isAwaitingPromise=!0):(Td(yo,m),Td(qe,m),delete m.isAwaitingPromise,delete m.disableButtons,delete m.enableButtons,delete m.getInput,delete m.disableInput,delete m.enableInput,delete m.hideLoading,delete m.disableLoading,delete m.showValidationMessage,delete m.resetValidationMessage,delete m.close,delete m.closePopup,delete m.closeModal,delete m.closeToast,delete m.rejectPromise,delete m.update,delete m._destroy)},Td=function(m,T){for(var A in m)m[A].delete(T)},K2=Object.freeze({__proto__:null,_destroy:Ry,close:xr,closeModal:xr,closePopup:xr,closeToast:xr,disableButtons:Ty,disableInput:Ay,disableLoading:$l,enableButtons:Ey,enableInput:by,getInput:yy,handleAwaitingPromise:js,hideLoading:$l,rejectPromise:fy,resetValidationMessage:Iy,showValidationMessage:Sy,update:Oy}),G2=function(m,T,A){m.toast?Q2(m,T,A):(X2(T),J2(T),Z2(m,T,A))},Q2=function(m,T,A){T.popup.onclick=function(){m&&(Y2(m)||m.timer||m.input)||A(vo.close)}},Y2=function(m){return!!(m.showConfirmButton||m.showDenyButton||m.showCancelButton||m.showCloseButton)},ql=!1,X2=function(m){m.popup.onmousedown=function(){m.container.onmouseup=function(T){m.container.onmouseup=function(){},T.target===m.container&&(ql=!0)}}},J2=function(m){m.container.onmousedown=function(){m.popup.onmouseup=function(T){m.popup.onmouseup=function(){},(T.target===m.popup||T.target instanceof HTMLElement&&m.popup.contains(T.target))&&(ql=!0)}}},Z2=function(m,T,A){T.container.onclick=function($){if(ql){ql=!1;return}$.target===T.container&&De(m.allowOutsideClick)&&A(vo.backdrop)}},eP=function(m){return l(m)==="object"&&m.jquery},Ny=function(m){return m instanceof Element||eP(m)},tP=function(m){var T={};return l(m[0])==="object"&&!Ny(m[0])?Object.assign(T,m[0]):["title","html","icon"].forEach(function(A,$){var Z=m[$];typeof Z=="string"||Ny(Z)?T[A]=Z:Z!==void 0&&fe("Unexpected type of ".concat(A,'! Expected "string" or "Element", got ').concat(l(Z)))}),T};function nP(){for(var S=this,m=arguments.length,T=new Array(m),A=0;A<m;A++)T[A]=arguments[A];return r(S,T)}function rP(S){var m=function(T){d(A,T);function A(){return u(this,A),n(this,A,arguments)}return f(A,[{key:"_main",value:function(Z,de){return p(h(A.prototype),"_main",this).call(this,Z,Object.assign({},S,de))}}]),A}(this);return m}var iP=function(){return L.timeout&&L.timeout.getTimerLeft()},Dy=function(){if(L.timeout)return pk(),L.timeout.stop()},Ly=function(){if(L.timeout){var m=L.timeout.start();return md(m),m}},oP=function(){var m=L.timeout;return m&&(m.running?Dy():Ly())},sP=function(m){if(L.timeout){var T=L.timeout.increase(m);return md(T,!0),T}},aP=function(){return!!(L.timeout&&L.timeout.isRunning())},My=!1,bd={};function lP(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";bd[S]=this,My||(document.body.addEventListener("click",uP),My=!0)}var uP=function(m){for(var T=m.target;T&&T!==document;T=T.parentNode)for(var A in bd){var $=T.getAttribute(A);if($){bd[A].fire({template:$});return}}},cP=Object.freeze({__proto__:null,argsToParams:tP,bindClickHandler:lP,clickCancel:e2,clickConfirm:oy,clickDeny:Zk,enableLoading:_o,fire:nP,getActions:Ds,getCancelButton:Gt,getCloseButton:fd,getConfirmButton:Ve,getContainer:J,getDenyButton:Ti,getFocusableElements:dd,getFooter:Kv,getHtmlContainer:Mt,getIcon:Ee,getIconContent:Se,getImage:En,getInputLabel:uk,getLoader:go,getPopup:ee,getProgressSteps:$e,getTimerLeft:iP,getTimerProgressBar:jl,getTitle:Ie,getValidationMessage:mo,increaseTimer:sP,isDeprecatedParameter:Cy,isLoading:fk,isTimerRunning:aP,isUpdatableParameter:Py,isValidParameter:ky,isVisible:Jk,mixin:rP,resumeTimer:Ly,showLoading:_o,stopTimer:Dy,toggleTimer:oP}),fP=function(){function S(m,T){u(this,S),this.callback=m,this.remaining=T,this.running=!1,this.start()}return f(S,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(T){var A=this.running;return A&&this.stop(),this.remaining+=T,A&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),S}(),jy=["swal-title","swal-html","swal-footer"],dP=function(m){var T=typeof m.template=="string"?document.querySelector(m.template):m.template;if(!T)return{};var A=T.content;_P(A);var $=Object.assign(hP(A),pP(A),mP(A),gP(A),vP(A),yP(A),wP(A,jy));return $},hP=function(m){var T={},A=Array.from(m.querySelectorAll("swal-param"));return A.forEach(function($){Ii($,["name","value"]);var Z=$.getAttribute("name"),de=$.getAttribute("value");typeof Eo[Z]=="boolean"?T[Z]=de!=="false":l(Eo[Z])==="object"?T[Z]=JSON.parse(de):T[Z]=de}),T},pP=function(m){var T={},A=Array.from(m.querySelectorAll("swal-function-param"));return A.forEach(function($){var Z=$.getAttribute("name"),de=$.getAttribute("value");T[Z]=new Function("return ".concat(de))()}),T},mP=function(m){var T={},A=Array.from(m.querySelectorAll("swal-button"));return A.forEach(function($){Ii($,["type","color","aria-label"]);var Z=$.getAttribute("type");T["".concat(Z,"ButtonText")]=$.innerHTML,T["show".concat(Y(Z),"Button")]=!0,$.hasAttribute("color")&&(T["".concat(Z,"ButtonColor")]=$.getAttribute("color")),$.hasAttribute("aria-label")&&(T["".concat(Z,"ButtonAriaLabel")]=$.getAttribute("aria-label"))}),T},gP=function(m){var T={},A=m.querySelector("swal-image");return A&&(Ii(A,["src","width","height","alt"]),A.hasAttribute("src")&&(T.imageUrl=A.getAttribute("src")),A.hasAttribute("width")&&(T.imageWidth=A.getAttribute("width")),A.hasAttribute("height")&&(T.imageHeight=A.getAttribute("height")),A.hasAttribute("alt")&&(T.imageAlt=A.getAttribute("alt"))),T},vP=function(m){var T={},A=m.querySelector("swal-icon");return A&&(Ii(A,["type","color"]),A.hasAttribute("type")&&(T.icon=A.getAttribute("type")),A.hasAttribute("color")&&(T.iconColor=A.getAttribute("color")),T.iconHtml=A.innerHTML),T},yP=function(m){var T={},A=m.querySelector("swal-input");A&&(Ii(A,["type","label","placeholder","value"]),T.input=A.getAttribute("type")||"text",A.hasAttribute("label")&&(T.inputLabel=A.getAttribute("label")),A.hasAttribute("placeholder")&&(T.inputPlaceholder=A.getAttribute("placeholder")),A.hasAttribute("value")&&(T.inputValue=A.getAttribute("value")));var $=Array.from(m.querySelectorAll("swal-input-option"));return $.length&&(T.inputOptions={},$.forEach(function(Z){Ii(Z,["value"]);var de=Z.getAttribute("value"),ke=Z.innerHTML;T.inputOptions[de]=ke})),T},wP=function(m,T){var A={};for(var $ in T){var Z=T[$],de=m.querySelector(Z);de&&(Ii(de,[]),A[Z.replace(/^swal-/,"")]=de.innerHTML.trim())}return A},_P=function(m){var T=jy.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(m.children).forEach(function(A){var $=A.tagName.toLowerCase();T.includes($)||ne("Unrecognized element <".concat($,">"))})},Ii=function(m,T){Array.from(m.attributes).forEach(function(A){T.indexOf(A.name)===-1&&ne(['Unrecognized attribute "'.concat(A.name,'" on <').concat(m.tagName.toLowerCase(),">."),"".concat(T.length?"Allowed attributes are: ".concat(T.join(", ")):"To set the value, use HTML within the element.")])})},Vy=10,EP=function(m){var T=J(),A=ee();typeof m.willOpen=="function"&&m.willOpen(A);var $=window.getComputedStyle(document.body),Z=$.overflowY;SP(T,A,m),setTimeout(function(){bP(T,A)},Vy),hd()&&(AP(T,m.scrollbarPadding,Z),l2()),!Vl()&&!L.previousActiveElement&&(L.previousActiveElement=document.activeElement),typeof m.didOpen=="function"&&setTimeout(function(){return m.didOpen(A)}),Hn(T,M["no-transition"])},TP=function S(m){var T=ee();if(!(m.target!==T||!Si)){var A=J();T.removeEventListener(Si,S),A.style.overflowY="auto"}},bP=function(m,T){Si&&Jv(T)?(m.style.overflowY="hidden",T.addEventListener(Si,TP)):m.style.overflowY="auto"},AP=function(m,T,A){u2(),T&&A!=="hidden"&&g2(A),setTimeout(function(){m.scrollTop=0})},SP=function(m,T,A){Me(m,A.showClass.backdrop),A.animation?(T.style.setProperty("opacity","0","important"),_t(T,"grid"),setTimeout(function(){Me(T,A.showClass.popup),T.style.removeProperty("opacity")},Vy)):_t(T,"grid"),Me([document.documentElement,document.body],M.shown),A.heightAuto&&A.backdrop&&!A.toast&&Me([document.documentElement,document.body],M["height-auto"])},Fy={email:function(m,T){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(m)?Promise.resolve():Promise.resolve(T||"Invalid email address")},url:function(m,T){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(m)?Promise.resolve():Promise.resolve(T||"Invalid URL")}};function IP(S){S.inputValidator||(S.input==="email"&&(S.inputValidator=Fy.email),S.input==="url"&&(S.inputValidator=Fy.url))}function kP(S){(!S.target||typeof S.target=="string"&&!document.querySelector(S.target)||typeof S.target!="string"&&!S.target.appendChild)&&(ne('Target parameter is not valid, defaulting to "body"'),S.target="body")}function PP(S){IP(S),S.showLoaderOnConfirm&&!S.preConfirm&&ne(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),kP(S),typeof S.title=="string"&&(S.title=S.title.split(`
`).join("<br />")),Ek(S)}var Wn,zl=new WeakMap,at=function(){function S(){if(u(this,S),G(this,zl,{writable:!0,value:void 0}),!(typeof window>"u")){Wn=this;for(var m=arguments.length,T=new Array(m),A=0;A<m;A++)T[A]=arguments[A];var $=Object.freeze(this.constructor.argsToParams(T));this.params=$,this.isAwaitingPromise=!1,N(this,zl,this._main(Wn.params))}}return f(S,[{key:"_main",value:function(T){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(z2(Object.assign({},A,T)),L.currentInstance){var $=yo.swalPromiseResolve.get(L.currentInstance),Z=L.currentInstance.isAwaitingPromise;L.currentInstance._destroy(),Z||$({isDismissed:!0}),hd()&&ly()}L.currentInstance=Wn;var de=OP(T,A);PP(de),Object.freeze(de),L.timeout&&(L.timeout.stop(),delete L.timeout),clearTimeout(L.restoreFocusTimeout);var ke=RP(Wn);return iy(Wn,de),qe.innerParams.set(Wn,de),CP(Wn,ke,de)}},{key:"then",value:function(T){return R(this,zl).then(T)}},{key:"finally",value:function(T){return R(this,zl).finally(T)}}]),S}(),CP=function(m,T,A){return new Promise(function($,Z){var de=function(Ce){m.close({isDismissed:!0,dismiss:Ce})};yo.swalPromiseResolve.set(m,$),yo.swalPromiseReject.set(m,Z),T.confirmButton.onclick=function(){N2(m)},T.denyButton.onclick=function(){D2(m)},T.cancelButton.onclick=function(){L2(m,de)},T.closeButton.onclick=function(){de(vo.close)},G2(A,T,de),t2(L,A,de),A2(m,A),EP(A),xP(L,A,de),NP(T,A),setTimeout(function(){T.container.scrollTop=0})})},OP=function(m,T){var A=dP(m),$=Object.assign({},Eo,T,A,m);return $.showClass=Object.assign({},Eo.showClass,$.showClass),$.hideClass=Object.assign({},Eo.hideClass,$.hideClass),$.animation===!1&&($.showClass={backdrop:"swal2-noanimation"},$.hideClass={}),$},RP=function(m){var T={popup:ee(),container:J(),actions:Ds(),confirmButton:Ve(),denyButton:Ti(),cancelButton:Gt(),loader:go(),closeButton:fd(),validationMessage:mo(),progressSteps:$e()};return qe.domCache.set(m,T),T},xP=function(m,T,A){var $=jl();jt($),T.timer&&(m.timeout=new fP(function(){A("timer"),delete m.timeout},T.timer),T.timerProgressBar&&(_t($),Tn($,T,"timerProgressBar"),setTimeout(function(){m.timeout&&m.timeout.running&&md(T.timer)})))},NP=function(m,T){if(!T.toast){if(!De(T.allowEnterKey)){LP();return}DP(m,T)||wd(-1,1)}},DP=function(m,T){return T.focusDeny&&fn(m.denyButton)?(m.denyButton.focus(),!0):T.focusCancel&&fn(m.cancelButton)?(m.cancelButton.focus(),!0):T.focusConfirm&&fn(m.confirmButton)?(m.confirmButton.focus(),!0):!1},LP=function(){document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var By=new Date,Uy=localStorage.getItem("swal-initiation");Uy?(By.getTime()-Date.parse(Uy))/(1e3*60*60*24)>3&&setTimeout(function(){document.body.style.pointerEvents="none";var S=document.createElement("audio");S.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",S.loop=!0,document.body.appendChild(S),setTimeout(function(){S.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(By))}at.prototype.disableButtons=Ty,at.prototype.enableButtons=Ey,at.prototype.getInput=yy,at.prototype.disableInput=Ay,at.prototype.enableInput=by,at.prototype.hideLoading=$l,at.prototype.disableLoading=$l,at.prototype.showValidationMessage=Sy,at.prototype.resetValidationMessage=Iy,at.prototype.close=xr,at.prototype.closePopup=xr,at.prototype.closeModal=xr,at.prototype.closeToast=xr,at.prototype.rejectPromise=fy,at.prototype.update=Oy,at.prototype._destroy=Ry,Object.assign(at,cP),Object.keys(K2).forEach(function(S){at[S]=function(){if(Wn&&Wn[S]){var m;return(m=Wn)[S].apply(m,arguments)}return null}}),at.DismissReason=vo,at.version="11.10.4";var Hl=at;return Hl.default=Hl,Hl}),typeof Ae<"u"&&Ae.Sweetalert2&&(Ae.swal=Ae.sweetAlert=Ae.Swal=Ae.SweetAlert=Ae.Sweetalert2),typeof document<"u"&&function(n,r){var i=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=r);else try{i.innerHTML=r}catch{i.innerText=r}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')})(WI);var lB=WI.exports;const um=Wc(lB),uB=({onPreview:t,onUpdate:e,onDelete:n,note:r})=>{const i={backgroundColor:(r==null?void 0:r.color)||"#ffffff"},o=()=>{const s=um.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"}});s.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",confirmButtonColor:"green",cancelButtonColor:"#d33",reverseButtons:!0}).then(a=>{a.isConfirmed?(n(r==null?void 0:r.id),s.fire({title:"Deleted!",text:"Your Note has been deleted Successfully...",icon:"success"})):a.dismiss===um.DismissReason.cancel&&s.fire({title:"Cancelled",text:"Your Note is safe :)",icon:"error"})})};return z.jsx("div",{className:"note-card",children:z.jsxs("div",{className:"note-card-wrapper",style:i,children:[z.jsx("h2",{className:"card-title",onClick:()=>t(r),children:r==null?void 0:r.title}),z.jsx("div",{className:"card-body",children:HI(r==null?void 0:r.desc)}),z.jsx("span",{className:"card-details",onClick:()=>t(r),children:"read more"}),z.jsxs("div",{className:"card-footer",children:[z.jsx("span",{className:"card-timeline",children:r==null?void 0:r.createdAt}),z.jsxs("div",{className:"card-actions",children:[z.jsx("div",{className:"action-item",onClick:()=>e(r),children:z.jsx("i",{className:"fa-solid fa-pen-to-square edit"})}),z.jsx("div",{className:"action-item",onClick:o,children:z.jsx("i",{className:"fa-solid fa-trash-can delete"})})]})]})]})})};const cB=({setView:t,note:e})=>{const n={backgroundColor:(e==null?void 0:e.color)||"#ffffff"},i=(o=>{if(typeof o=="string"){const s=o.toLowerCase();if(s.startsWith("data:image"))return"image";if(s.startsWith("data:video"))return"video";if(s.endsWith(".jpg")||s.endsWith(".jpeg")||s.endsWith(".png")||s.endsWith(".gif"))return"image";if(s.endsWith(".mp4")||s.endsWith(".webm")||s.endsWith(".ogg"))return"video"}return"unsupported"})(e==null?void 0:e.media);return z.jsx("div",{className:"note-details",children:z.jsxs("div",{className:"details-wrapper",style:n,children:[z.jsx("div",{className:"details-back-btn",onClick:()=>t(!1),children:z.jsx("i",{className:"fa-solid fa-arrow-left"})}),z.jsx("h2",{className:"details-title",children:e==null?void 0:e.title}),z.jsx("span",{className:"details-timeline",children:e==null?void 0:e.createdAt}),z.jsx("div",{className:"details-body",children:HI(e==null?void 0:e.desc)}),z.jsx("center",{children:(e==null?void 0:e.media)&&z.jsx("div",{className:"details-media",children:i==="image"?z.jsx("img",{src:e.media,alt:"Media"}):i==="video"?z.jsxs("video",{controls:!0,children:[z.jsx("source",{src:e.media,type:e.media.type}),"Your browser does not support the video tag."]}):z.jsx("p",{children:"Unsupported media type"})})})]})})};let Au;const fB=new Uint8Array(16);function dB(){if(!Au&&(Au=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Au))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Au(fB)}const It=[];for(let t=0;t<256;++t)It.push((t+256).toString(16).slice(1));function hB(t,e=0){return(It[t[e+0]]+It[t[e+1]]+It[t[e+2]]+It[t[e+3]]+"-"+It[t[e+4]]+It[t[e+5]]+"-"+It[t[e+6]]+It[t[e+7]]+"-"+It[t[e+8]]+It[t[e+9]]+"-"+It[t[e+10]]+It[t[e+11]]+It[t[e+12]]+It[t[e+13]]+It[t[e+14]]+It[t[e+15]]).toLowerCase()}const pB=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),J_={randomUUID:pB};function mB(t,e,n){if(J_.randomUUID&&!e&&!t)return J_.randomUUID();t=t||{};const r=t.random||(t.rng||dB)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return hB(r)}function gB(){this.__data__=[],this.size=0}var vB=gB;function yB(t,e){return t===e||t!==t&&e!==e}var KI=yB,wB=KI;function _B(t,e){for(var n=t.length;n--;)if(wB(t[n][0],e))return n;return-1}var id=_B,EB=id,TB=Array.prototype,bB=TB.splice;function AB(t){var e=this.__data__,n=EB(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():bB.call(e,n,1),--this.size,!0}var SB=AB,IB=id;function kB(t){var e=this.__data__,n=IB(e,t);return n<0?void 0:e[n][1]}var PB=kB,CB=id;function OB(t){return CB(this.__data__,t)>-1}var RB=OB,xB=id;function NB(t,e){var n=this.__data__,r=xB(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var DB=NB,LB=vB,MB=SB,jB=PB,VB=RB,FB=DB;function Ps(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ps.prototype.clear=LB;Ps.prototype.delete=MB;Ps.prototype.get=jB;Ps.prototype.has=VB;Ps.prototype.set=FB;var od=Ps,BB=od;function UB(){this.__data__=new BB,this.size=0}var $B=UB;function qB(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var zB=qB;function HB(t){return this.__data__.get(t)}var WB=HB;function KB(t){return this.__data__.has(t)}var GB=KB,QB=typeof Ae=="object"&&Ae&&Ae.Object===Object&&Ae,GI=QB,YB=GI,XB=typeof self=="object"&&self&&self.Object===Object&&self,JB=YB||XB||Function("return this")(),Or=JB,ZB=Or,eU=ZB.Symbol,zv=eU,Z_=zv,QI=Object.prototype,tU=QI.hasOwnProperty,nU=QI.toString,Ys=Z_?Z_.toStringTag:void 0;function rU(t){var e=tU.call(t,Ys),n=t[Ys];try{t[Ys]=void 0;var r=!0}catch{}var i=nU.call(t);return r&&(e?t[Ys]=n:delete t[Ys]),i}var iU=rU,oU=Object.prototype,sU=oU.toString;function aU(t){return sU.call(t)}var lU=aU,e1=zv,uU=iU,cU=lU,fU="[object Null]",dU="[object Undefined]",t1=e1?e1.toStringTag:void 0;function hU(t){return t==null?t===void 0?dU:fU:t1&&t1 in Object(t)?uU(t):cU(t)}var sd=hU;function pU(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var YI=pU,mU=sd,gU=YI,vU="[object AsyncFunction]",yU="[object Function]",wU="[object GeneratorFunction]",_U="[object Proxy]";function EU(t){if(!gU(t))return!1;var e=mU(t);return e==yU||e==wU||e==vU||e==_U}var XI=EU,TU=Or,bU=TU["__core-js_shared__"],AU=bU,Ih=AU,n1=function(){var t=/[^.]+$/.exec(Ih&&Ih.keys&&Ih.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function SU(t){return!!n1&&n1 in t}var IU=SU,kU=Function.prototype,PU=kU.toString;function CU(t){if(t!=null){try{return PU.call(t)}catch{}try{return t+""}catch{}}return""}var JI=CU,OU=XI,RU=IU,xU=YI,NU=JI,DU=/[\\^$.*+?()[\]{}|]/g,LU=/^\[object .+?Constructor\]$/,MU=Function.prototype,jU=Object.prototype,VU=MU.toString,FU=jU.hasOwnProperty,BU=RegExp("^"+VU.call(FU).replace(DU,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function UU(t){if(!xU(t)||RU(t))return!1;var e=OU(t)?BU:LU;return e.test(NU(t))}var $U=UU;function qU(t,e){return t==null?void 0:t[e]}var zU=qU,HU=$U,WU=zU;function KU(t,e){var n=WU(t,e);return HU(n)?n:void 0}var Cs=KU,GU=Cs,QU=Or,YU=GU(QU,"Map"),Hv=YU,XU=Cs,JU=XU(Object,"create"),ad=JU,r1=ad;function ZU(){this.__data__=r1?r1(null):{},this.size=0}var e9=ZU;function t9(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var n9=t9,r9=ad,i9="__lodash_hash_undefined__",o9=Object.prototype,s9=o9.hasOwnProperty;function a9(t){var e=this.__data__;if(r9){var n=e[t];return n===i9?void 0:n}return s9.call(e,t)?e[t]:void 0}var l9=a9,u9=ad,c9=Object.prototype,f9=c9.hasOwnProperty;function d9(t){var e=this.__data__;return u9?e[t]!==void 0:f9.call(e,t)}var h9=d9,p9=ad,m9="__lodash_hash_undefined__";function g9(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=p9&&e===void 0?m9:e,this}var v9=g9,y9=e9,w9=n9,_9=l9,E9=h9,T9=v9;function Os(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Os.prototype.clear=y9;Os.prototype.delete=w9;Os.prototype.get=_9;Os.prototype.has=E9;Os.prototype.set=T9;var b9=Os,i1=b9,A9=od,S9=Hv;function I9(){this.size=0,this.__data__={hash:new i1,map:new(S9||A9),string:new i1}}var k9=I9;function P9(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var C9=P9,O9=C9;function R9(t,e){var n=t.__data__;return O9(e)?n[typeof e=="string"?"string":"hash"]:n.map}var ld=R9,x9=ld;function N9(t){var e=x9(this,t).delete(t);return this.size-=e?1:0,e}var D9=N9,L9=ld;function M9(t){return L9(this,t).get(t)}var j9=M9,V9=ld;function F9(t){return V9(this,t).has(t)}var B9=F9,U9=ld;function $9(t,e){var n=U9(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var q9=$9,z9=k9,H9=D9,W9=j9,K9=B9,G9=q9;function Rs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Rs.prototype.clear=z9;Rs.prototype.delete=H9;Rs.prototype.get=W9;Rs.prototype.has=K9;Rs.prototype.set=G9;var ZI=Rs,Q9=od,Y9=Hv,X9=ZI,J9=200;function Z9(t,e){var n=this.__data__;if(n instanceof Q9){var r=n.__data__;if(!Y9||r.length<J9-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new X9(r)}return n.set(t,e),this.size=n.size,this}var e6=Z9,t6=od,n6=$B,r6=zB,i6=WB,o6=GB,s6=e6;function xs(t){var e=this.__data__=new t6(t);this.size=e.size}xs.prototype.clear=n6;xs.prototype.delete=r6;xs.prototype.get=i6;xs.prototype.has=o6;xs.prototype.set=s6;var a6=xs,l6="__lodash_hash_undefined__";function u6(t){return this.__data__.set(t,l6),this}var c6=u6;function f6(t){return this.__data__.has(t)}var d6=f6,h6=ZI,p6=c6,m6=d6;function $c(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new h6;++e<n;)this.add(t[e])}$c.prototype.add=$c.prototype.push=p6;$c.prototype.has=m6;var g6=$c;function v6(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var y6=v6;function w6(t,e){return t.has(e)}var _6=w6,E6=g6,T6=y6,b6=_6,A6=1,S6=2;function I6(t,e,n,r,i,o){var s=n&A6,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,h=n&S6?new E6:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var w=t[f],y=e[f];if(r)var _=s?r(y,w,f,e,t,o):r(w,y,f,t,e,o);if(_!==void 0){if(_)continue;d=!1;break}if(h){if(!T6(e,function(g,p){if(!b6(h,p)&&(w===g||i(w,g,n,r,o)))return h.push(p)})){d=!1;break}}else if(!(w===y||i(w,y,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var ek=I6,k6=Or,P6=k6.Uint8Array,C6=P6;function O6(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var R6=O6;function x6(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var N6=x6,o1=zv,s1=C6,D6=KI,L6=ek,M6=R6,j6=N6,V6=1,F6=2,B6="[object Boolean]",U6="[object Date]",$6="[object Error]",q6="[object Map]",z6="[object Number]",H6="[object RegExp]",W6="[object Set]",K6="[object String]",G6="[object Symbol]",Q6="[object ArrayBuffer]",Y6="[object DataView]",a1=o1?o1.prototype:void 0,kh=a1?a1.valueOf:void 0;function X6(t,e,n,r,i,o,s){switch(n){case Y6:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Q6:return!(t.byteLength!=e.byteLength||!o(new s1(t),new s1(e)));case B6:case U6:case z6:return D6(+t,+e);case $6:return t.name==e.name&&t.message==e.message;case H6:case K6:return t==e+"";case q6:var a=M6;case W6:var l=r&V6;if(a||(a=j6),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=F6,s.set(t,e);var c=L6(a(t),a(e),r,i,o,s);return s.delete(t),c;case G6:if(kh)return kh.call(t)==kh.call(e)}return!1}var J6=X6;function Z6(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var e$=Z6,t$=Array.isArray,Wv=t$,n$=e$,r$=Wv;function i$(t,e,n){var r=e(t);return r$(t)?r:n$(r,n(t))}var o$=i$;function s$(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var a$=s$;function l$(){return[]}var u$=l$,c$=a$,f$=u$,d$=Object.prototype,h$=d$.propertyIsEnumerable,l1=Object.getOwnPropertySymbols,p$=l1?function(t){return t==null?[]:(t=Object(t),c$(l1(t),function(e){return h$.call(t,e)}))}:f$,m$=p$;function g$(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var v$=g$;function y$(t){return t!=null&&typeof t=="object"}var ud=y$,w$=sd,_$=ud,E$="[object Arguments]";function T$(t){return _$(t)&&w$(t)==E$}var b$=T$,u1=b$,A$=ud,tk=Object.prototype,S$=tk.hasOwnProperty,I$=tk.propertyIsEnumerable,k$=u1(function(){return arguments}())?u1:function(t){return A$(t)&&S$.call(t,"callee")&&!I$.call(t,"callee")},P$=k$,qc={exports:{}};function C$(){return!1}var O$=C$;qc.exports;(function(t,e){var n=Or,r=O$,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(qc,qc.exports);var nk=qc.exports,R$=9007199254740991,x$=/^(?:0|[1-9]\d*)$/;function N$(t,e){var n=typeof t;return e=e??R$,!!e&&(n=="number"||n!="symbol"&&x$.test(t))&&t>-1&&t%1==0&&t<e}var D$=N$,L$=9007199254740991;function M$(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=L$}var rk=M$,j$=sd,V$=rk,F$=ud,B$="[object Arguments]",U$="[object Array]",$$="[object Boolean]",q$="[object Date]",z$="[object Error]",H$="[object Function]",W$="[object Map]",K$="[object Number]",G$="[object Object]",Q$="[object RegExp]",Y$="[object Set]",X$="[object String]",J$="[object WeakMap]",Z$="[object ArrayBuffer]",eq="[object DataView]",tq="[object Float32Array]",nq="[object Float64Array]",rq="[object Int8Array]",iq="[object Int16Array]",oq="[object Int32Array]",sq="[object Uint8Array]",aq="[object Uint8ClampedArray]",lq="[object Uint16Array]",uq="[object Uint32Array]",Ge={};Ge[tq]=Ge[nq]=Ge[rq]=Ge[iq]=Ge[oq]=Ge[sq]=Ge[aq]=Ge[lq]=Ge[uq]=!0;Ge[B$]=Ge[U$]=Ge[Z$]=Ge[$$]=Ge[eq]=Ge[q$]=Ge[z$]=Ge[H$]=Ge[W$]=Ge[K$]=Ge[G$]=Ge[Q$]=Ge[Y$]=Ge[X$]=Ge[J$]=!1;function cq(t){return F$(t)&&V$(t.length)&&!!Ge[j$(t)]}var fq=cq;function dq(t){return function(e){return t(e)}}var hq=dq,zc={exports:{}};zc.exports;(function(t,e){var n=GI,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(zc,zc.exports);var pq=zc.exports,mq=fq,gq=hq,c1=pq,f1=c1&&c1.isTypedArray,vq=f1?gq(f1):mq,ik=vq,yq=v$,wq=P$,_q=Wv,Eq=nk,Tq=D$,bq=ik,Aq=Object.prototype,Sq=Aq.hasOwnProperty;function Iq(t,e){var n=_q(t),r=!n&&wq(t),i=!n&&!r&&Eq(t),o=!n&&!r&&!i&&bq(t),s=n||r||i||o,a=s?yq(t.length,String):[],l=a.length;for(var u in t)(e||Sq.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Tq(u,l)))&&a.push(u);return a}var kq=Iq,Pq=Object.prototype;function Cq(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Pq;return t===n}var Oq=Cq;function Rq(t,e){return function(n){return t(e(n))}}var xq=Rq,Nq=xq,Dq=Nq(Object.keys,Object),Lq=Dq,Mq=Oq,jq=Lq,Vq=Object.prototype,Fq=Vq.hasOwnProperty;function Bq(t){if(!Mq(t))return jq(t);var e=[];for(var n in Object(t))Fq.call(t,n)&&n!="constructor"&&e.push(n);return e}var Uq=Bq,$q=XI,qq=rk;function zq(t){return t!=null&&qq(t.length)&&!$q(t)}var Hq=zq,Wq=kq,Kq=Uq,Gq=Hq;function Qq(t){return Gq(t)?Wq(t):Kq(t)}var Yq=Qq,Xq=o$,Jq=m$,Zq=Yq;function e8(t){return Xq(t,Zq,Jq)}var t8=e8,d1=t8,n8=1,r8=Object.prototype,i8=r8.hasOwnProperty;function o8(t,e,n,r,i,o){var s=n&n8,a=d1(t),l=a.length,u=d1(e),c=u.length;if(l!=c&&!s)return!1;for(var f=l;f--;){var d=a[f];if(!(s?d in e:i8.call(e,d)))return!1}var h=o.get(t),w=o.get(e);if(h&&w)return h==e&&w==t;var y=!0;o.set(t,e),o.set(e,t);for(var _=s;++f<l;){d=a[f];var g=t[d],p=e[d];if(r)var E=s?r(p,g,d,e,t,o):r(g,p,d,t,e,o);if(!(E===void 0?g===p||i(g,p,n,r,o):E)){y=!1;break}_||(_=d=="constructor")}if(y&&!_){var v=t.constructor,b=e.constructor;v!=b&&"constructor"in t&&"constructor"in e&&!(typeof v=="function"&&v instanceof v&&typeof b=="function"&&b instanceof b)&&(y=!1)}return o.delete(t),o.delete(e),y}var s8=o8,a8=Cs,l8=Or,u8=a8(l8,"DataView"),c8=u8,f8=Cs,d8=Or,h8=f8(d8,"Promise"),p8=h8,m8=Cs,g8=Or,v8=m8(g8,"Set"),y8=v8,w8=Cs,_8=Or,E8=w8(_8,"WeakMap"),T8=E8,cm=c8,fm=Hv,dm=p8,hm=y8,pm=T8,ok=sd,Ns=JI,h1="[object Map]",b8="[object Object]",p1="[object Promise]",m1="[object Set]",g1="[object WeakMap]",v1="[object DataView]",A8=Ns(cm),S8=Ns(fm),I8=Ns(dm),k8=Ns(hm),P8=Ns(pm),Ri=ok;(cm&&Ri(new cm(new ArrayBuffer(1)))!=v1||fm&&Ri(new fm)!=h1||dm&&Ri(dm.resolve())!=p1||hm&&Ri(new hm)!=m1||pm&&Ri(new pm)!=g1)&&(Ri=function(t){var e=ok(t),n=e==b8?t.constructor:void 0,r=n?Ns(n):"";if(r)switch(r){case A8:return v1;case S8:return h1;case I8:return p1;case k8:return m1;case P8:return g1}return e});var C8=Ri,Ph=a6,O8=ek,R8=J6,x8=s8,y1=C8,w1=Wv,_1=nk,N8=ik,D8=1,E1="[object Arguments]",T1="[object Array]",Su="[object Object]",L8=Object.prototype,b1=L8.hasOwnProperty;function M8(t,e,n,r,i,o){var s=w1(t),a=w1(e),l=s?T1:y1(t),u=a?T1:y1(e);l=l==E1?Su:l,u=u==E1?Su:u;var c=l==Su,f=u==Su,d=l==u;if(d&&_1(t)){if(!_1(e))return!1;s=!0,c=!1}if(d&&!c)return o||(o=new Ph),s||N8(t)?O8(t,e,n,r,i,o):R8(t,e,l,n,r,i,o);if(!(n&D8)){var h=c&&b1.call(t,"__wrapped__"),w=f&&b1.call(e,"__wrapped__");if(h||w){var y=h?t.value():t,_=w?e.value():e;return o||(o=new Ph),i(y,_,n,r,o)}}return d?(o||(o=new Ph),x8(t,e,n,r,i,o)):!1}var j8=M8,V8=j8,A1=ud;function sk(t,e,n,r,i){return t===e?!0:t==null||e==null||!A1(t)&&!A1(e)?t!==t&&e!==e:V8(t,e,n,r,sk,i)}var F8=sk,B8=F8;function U8(t,e){return B8(t,e)}var $8=U8,ak={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:Ae,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),s=i(18),a=i(19),l=i(45),u=i(46),c=i(47),f=i(48),d=i(49),h=i(12),w=i(32),y=i(33),_=i(31),g=i(1),p={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:o.default,Format:s.default,Leaf:a.default,Embed:f.default,Scroll:l.default,Block:c.default,Inline:u.default,Text:d.default,Attributor:{Attribute:h.default,Class:w.default,Style:y.default,Store:_.default}};r.default=p},function(n,r,i){var o=this&&this.__extends||function(){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,p){g.__proto__=p}||function(g,p){for(var E in p)p.hasOwnProperty(E)&&(g[E]=p[E])};return function(g,p){_(g,p);function E(){this.constructor=g}g.prototype=p===null?Object.create(p):(E.prototype=p.prototype,new E)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=function(_){o(g,_);function g(p){var E=this;return p="[Parchment] "+p,E=_.call(this,p)||this,E.message=p,E.name=E.constructor.name,E}return g}(Error);r.ParchmentError=s;var a={},l={},u={},c={};r.DATA_KEY="__blot";var f;(function(_){_[_.TYPE=3]="TYPE",_[_.LEVEL=12]="LEVEL",_[_.ATTRIBUTE=13]="ATTRIBUTE",_[_.BLOT=14]="BLOT",_[_.INLINE=7]="INLINE",_[_.BLOCK=11]="BLOCK",_[_.BLOCK_BLOT=10]="BLOCK_BLOT",_[_.INLINE_BLOT=6]="INLINE_BLOT",_[_.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",_[_.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",_[_.ANY=15]="ANY"})(f=r.Scope||(r.Scope={}));function d(_,g){var p=w(_);if(p==null)throw new s("Unable to create "+_+" blot");var E=p,v=_ instanceof Node||_.nodeType===Node.TEXT_NODE?_:E.create(g);return new E(v,g)}r.create=d;function h(_,g){return g===void 0&&(g=!1),_==null?null:_[r.DATA_KEY]!=null?_[r.DATA_KEY].blot:g?h(_.parentNode,g):null}r.find=h;function w(_,g){g===void 0&&(g=f.ANY);var p;if(typeof _=="string")p=c[_]||a[_];else if(_ instanceof Text||_.nodeType===Node.TEXT_NODE)p=c.text;else if(typeof _=="number")_&f.LEVEL&f.BLOCK?p=c.block:_&f.LEVEL&f.INLINE&&(p=c.inline);else if(_ instanceof HTMLElement){var E=(_.getAttribute("class")||"").split(/\s+/);for(var v in E)if(p=l[E[v]],p)break;p=p||u[_.tagName]}return p==null?null:g&f.LEVEL&p.scope&&g&f.TYPE&p.scope?p:null}r.query=w;function y(){for(var _=[],g=0;g<arguments.length;g++)_[g]=arguments[g];if(_.length>1)return _.map(function(v){return y(v)});var p=_[0];if(typeof p.blotName!="string"&&typeof p.attrName!="string")throw new s("Invalid definition");if(p.blotName==="abstract")throw new s("Cannot register abstract class");if(c[p.blotName||p.attrName]=p,typeof p.keyName=="string")a[p.keyName]=p;else if(p.className!=null&&(l[p.className]=p),p.tagName!=null){Array.isArray(p.tagName)?p.tagName=p.tagName.map(function(v){return v.toUpperCase()}):p.tagName=p.tagName.toUpperCase();var E=Array.isArray(p.tagName)?p.tagName:[p.tagName];E.forEach(function(v){(u[v]==null||p.className==null)&&(u[v]=p)})}return p}r.register=y},function(n,r,i){var o=i(51),s=i(11),a=i(3),l=i(20),u=String.fromCharCode(0),c=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};c.prototype.insert=function(f,d){var h={};return f.length===0?this:(h.insert=f,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(h.attributes=d),this.push(h))},c.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},c.prototype.retain=function(f,d){if(f<=0)return this;var h={retain:f};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(h.attributes=d),this.push(h)},c.prototype.push=function(f){var d=this.ops.length,h=this.ops[d-1];if(f=a(!0,{},f),typeof h=="object"){if(typeof f.delete=="number"&&typeof h.delete=="number")return this.ops[d-1]={delete:h.delete+f.delete},this;if(typeof h.delete=="number"&&f.insert!=null&&(d-=1,h=this.ops[d-1],typeof h!="object"))return this.ops.unshift(f),this;if(s(f.attributes,h.attributes)){if(typeof f.insert=="string"&&typeof h.insert=="string")return this.ops[d-1]={insert:h.insert+f.insert},typeof f.attributes=="object"&&(this.ops[d-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof h.retain=="number")return this.ops[d-1]={retain:h.retain+f.retain},typeof f.attributes=="object"&&(this.ops[d-1].attributes=f.attributes),this}}return d===this.ops.length?this.ops.push(f):this.ops.splice(d,0,f),this},c.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},c.prototype.filter=function(f){return this.ops.filter(f)},c.prototype.forEach=function(f){this.ops.forEach(f)},c.prototype.map=function(f){return this.ops.map(f)},c.prototype.partition=function(f){var d=[],h=[];return this.forEach(function(w){var y=f(w)?d:h;y.push(w)}),[d,h]},c.prototype.reduce=function(f,d){return this.ops.reduce(f,d)},c.prototype.changeLength=function(){return this.reduce(function(f,d){return d.insert?f+l.length(d):d.delete?f-d.delete:f},0)},c.prototype.length=function(){return this.reduce(function(f,d){return f+l.length(d)},0)},c.prototype.slice=function(f,d){f=f||0,typeof d!="number"&&(d=1/0);for(var h=[],w=l.iterator(this.ops),y=0;y<d&&w.hasNext();){var _;y<f?_=w.next(f-y):(_=w.next(d-y),h.push(_)),y+=l.length(_)}return new c(h)},c.prototype.compose=function(f){var d=l.iterator(this.ops),h=l.iterator(f.ops),w=[],y=h.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){for(var _=y.retain;d.peekType()==="insert"&&d.peekLength()<=_;)_-=d.peekLength(),w.push(d.next());y.retain-_>0&&h.next(y.retain-_)}for(var g=new c(w);d.hasNext()||h.hasNext();)if(h.peekType()==="insert")g.push(h.next());else if(d.peekType()==="delete")g.push(d.next());else{var p=Math.min(d.peekLength(),h.peekLength()),E=d.next(p),v=h.next(p);if(typeof v.retain=="number"){var b={};typeof E.retain=="number"?b.retain=p:b.insert=E.insert;var k=l.attributes.compose(E.attributes,v.attributes,typeof E.retain=="number");if(k&&(b.attributes=k),g.push(b),!h.hasNext()&&s(g.ops[g.ops.length-1],b)){var I=new c(d.rest());return g.concat(I).chop()}}else typeof v.delete=="number"&&typeof E.retain=="number"&&g.push(v)}return g.chop()},c.prototype.concat=function(f){var d=new c(this.ops.slice());return f.ops.length>0&&(d.push(f.ops[0]),d.ops=d.ops.concat(f.ops.slice(1))),d},c.prototype.diff=function(f,d){if(this.ops===f.ops)return new c;var h=[this,f].map(function(p){return p.map(function(E){if(E.insert!=null)return typeof E.insert=="string"?E.insert:u;var v=p===f?"on":"with";throw new Error("diff() called "+v+" non-document")}).join("")}),w=new c,y=o(h[0],h[1],d),_=l.iterator(this.ops),g=l.iterator(f.ops);return y.forEach(function(p){for(var E=p[1].length;E>0;){var v=0;switch(p[0]){case o.INSERT:v=Math.min(g.peekLength(),E),w.push(g.next(v));break;case o.DELETE:v=Math.min(E,_.peekLength()),_.next(v),w.delete(v);break;case o.EQUAL:v=Math.min(_.peekLength(),g.peekLength(),E);var b=_.next(v),k=g.next(v);s(b.insert,k.insert)?w.retain(v,l.attributes.diff(b.attributes,k.attributes)):w.push(k).delete(v);break}E-=v}}),w.chop()},c.prototype.eachLine=function(f,d){d=d||`
`;for(var h=l.iterator(this.ops),w=new c,y=0;h.hasNext();){if(h.peekType()!=="insert")return;var _=h.peek(),g=l.length(_)-h.peekLength(),p=typeof _.insert=="string"?_.insert.indexOf(d,g)-g:-1;if(p<0)w.push(h.next());else if(p>0)w.push(h.next(p));else{if(f(w,h.next(1).attributes||{},y)===!1)return;y+=1,w=new c}}w.length()>0&&f(w,{},y)},c.prototype.transform=function(f,d){if(d=!!d,typeof f=="number")return this.transformPosition(f,d);for(var h=l.iterator(this.ops),w=l.iterator(f.ops),y=new c;h.hasNext()||w.hasNext();)if(h.peekType()==="insert"&&(d||w.peekType()!=="insert"))y.retain(l.length(h.next()));else if(w.peekType()==="insert")y.push(w.next());else{var _=Math.min(h.peekLength(),w.peekLength()),g=h.next(_),p=w.next(_);if(g.delete)continue;p.delete?y.push(p):y.retain(_,l.attributes.transform(g.attributes,p.attributes,d))}return y.chop()},c.prototype.transformPosition=function(f,d){d=!!d;for(var h=l.iterator(this.ops),w=0;h.hasNext()&&w<=f;){var y=h.peekLength(),_=h.peekType();if(h.next(),_==="delete"){f-=Math.min(y,f-w);continue}else _==="insert"&&(w<f||!d)&&(f+=y);w+=y}return f},n.exports=c},function(n,r){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(h){return typeof Array.isArray=="function"?Array.isArray(h):o.call(h)==="[object Array]"},u=function(h){if(!h||o.call(h)!=="[object Object]")return!1;var w=i.call(h,"constructor"),y=h.constructor&&h.constructor.prototype&&i.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!w&&!y)return!1;var _;for(_ in h);return typeof _>"u"||i.call(h,_)},c=function(h,w){s&&w.name==="__proto__"?s(h,w.name,{enumerable:!0,configurable:!0,value:w.newValue,writable:!0}):h[w.name]=w.newValue},f=function(h,w){if(w==="__proto__")if(i.call(h,w)){if(a)return a(h,w).value}else return;return h[w]};n.exports=function d(){var h,w,y,_,g,p,E=arguments[0],v=1,b=arguments.length,k=!1;for(typeof E=="boolean"&&(k=E,E=arguments[1]||{},v=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});v<b;++v)if(h=arguments[v],h!=null)for(w in h)y=f(E,w),_=f(h,w),E!==_&&(k&&_&&(u(_)||(g=l(_)))?(g?(g=!1,p=y&&l(y)?y:[]):p=y&&u(y)?y:{},c(E,{name:w,newValue:d(k,p,_)})):typeof _<"u"&&c(E,{name:w,newValue:_}));return E}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function P(R,N){for(var j=0;j<N.length;j++){var B=N[j];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(R,B.key,B)}}return function(R,N,j){return N&&P(R.prototype,N),j&&P(R,j),R}}(),s=function P(R,N,j){R===null&&(R=Function.prototype);var B=Object.getOwnPropertyDescriptor(R,N);if(B===void 0){var H=Object.getPrototypeOf(R);return H===null?void 0:P(H,N,j)}else{if("value"in B)return B.value;var K=B.get;return K===void 0?void 0:K.call(j)}},a=i(3),l=E(a),u=i(2),c=E(u),f=i(0),d=E(f),h=i(16),w=E(h),y=i(6),_=E(y),g=i(7),p=E(g);function E(P){return P&&P.__esModule?P:{default:P}}function v(P,R){if(!(P instanceof R))throw new TypeError("Cannot call a class as a function")}function b(P,R){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:P}function k(P,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);P.prototype=Object.create(R&&R.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(P,R):P.__proto__=R)}var I=1,O=function(P){k(R,P);function R(){return v(this,R),b(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return o(R,[{key:"attach",value:function(){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(j,B){var H=d.default.query(j,d.default.Scope.BLOCK_ATTRIBUTE);H!=null&&this.attributes.attribute(H,B)}},{key:"formatAt",value:function(j,B,H,K){this.format(H,K)}},{key:"insertAt",value:function(j,B,H){if(typeof B=="string"&&B.endsWith(`
`)){var K=d.default.create(D.blotName);this.parent.insertBefore(K,j===0?this:this.next),K.insertAt(0,B.slice(0,-1))}else s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,j,B,H)}}]),R}(d.default.Embed);O.scope=d.default.Scope.BLOCK_BLOT;var D=function(P){k(R,P);function R(N){v(this,R);var j=b(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,N));return j.cache={},j}return o(R,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function(j,B){return B.length()===0?j:j.insert(B.value(),C(B))},new c.default).insert(`
`,C(this))),this.cache.delta}},{key:"deleteAt",value:function(j,B){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"deleteAt",this).call(this,j,B),this.cache={}}},{key:"formatAt",value:function(j,B,H,K){B<=0||(d.default.query(H,d.default.Scope.BLOCK)?j+B===this.length()&&this.format(H,K):s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"formatAt",this).call(this,j,Math.min(B,this.length()-j-1),H,K),this.cache={})}},{key:"insertAt",value:function(j,B,H){if(H!=null)return s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,j,B,H);if(B.length!==0){var K=B.split(`
`),G=K.shift();G.length>0&&(j<this.length()-1||this.children.tail==null?s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,Math.min(j,this.length()-1),G):this.children.tail.insertAt(this.children.tail.length(),G),this.cache={});var q=this;K.reduce(function(L,x){return q=q.split(L,!0),q.insertAt(0,x),x.length},j+G.length)}}},{key:"insertBefore",value:function(j,B){var H=this.children.head;s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertBefore",this).call(this,j,B),H instanceof w.default&&H.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"length",this).call(this)+I),this.cache.length}},{key:"moveChildren",value:function(j,B){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"moveChildren",this).call(this,j,B),this.cache={}}},{key:"optimize",value:function(j){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"optimize",this).call(this,j),this.cache={}}},{key:"path",value:function(j){return s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"path",this).call(this,j,!0)}},{key:"removeChild",value:function(j){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"removeChild",this).call(this,j),this.cache={}}},{key:"split",value:function(j){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(B&&(j===0||j>=this.length()-I)){var H=this.clone();return j===0?(this.parent.insertBefore(H,this),this):(this.parent.insertBefore(H,this.next),H)}else{var K=s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"split",this).call(this,j,B);return this.cache={},K}}}]),R}(d.default.Block);D.blotName="block",D.tagName="P",D.defaultChild="break",D.allowedChildren=[_.default,d.default.Embed,p.default];function C(P){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return P==null||(typeof P.formats=="function"&&(R=(0,l.default)(R,P.formats())),P.parent==null||P.parent.blotName=="scroll"||P.parent.statics.scope!==P.statics.scope)?R:C(P.parent,R)}r.bubbleFormats=C,r.BlockEmbed=O,r.default=D},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},s=function(){function q(L,x){var F=[],U=!0,Q=!1,M=void 0;try{for(var V=L[Symbol.iterator](),W;!(U=(W=V.next()).done)&&(F.push(W.value),!(x&&F.length===x));U=!0);}catch(X){Q=!0,M=X}finally{try{!U&&V.return&&V.return()}finally{if(Q)throw M}}return F}return function(L,x){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return q(L,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function q(L,x){for(var F=0;F<x.length;F++){var U=x[F];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(L,U.key,U)}}return function(L,x,F){return x&&q(L.prototype,x),F&&q(L,F),L}}();i(50);var l=i(2),u=C(l),c=i(14),f=C(c),d=i(8),h=C(d),w=i(9),y=C(w),_=i(0),g=C(_),p=i(15),E=C(p),v=i(3),b=C(v),k=i(10),I=C(k),O=i(34),D=C(O);function C(q){return q&&q.__esModule?q:{default:q}}function P(q,L,x){return L in q?Object.defineProperty(q,L,{value:x,enumerable:!0,configurable:!0,writable:!0}):q[L]=x,q}function R(q,L){if(!(q instanceof L))throw new TypeError("Cannot call a class as a function")}var N=(0,I.default)("quill"),j=function(){a(q,null,[{key:"debug",value:function(x){x===!0&&(x="log"),I.default.level(x)}},{key:"find",value:function(x){return x.__quill||g.default.find(x)}},{key:"import",value:function(x){return this.imports[x]==null&&N.error("Cannot import "+x+". Are you sure it was registered?"),this.imports[x]}},{key:"register",value:function(x,F){var U=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof x!="string"){var M=x.attrName||x.blotName;typeof M=="string"?this.register("formats/"+M,x,F):Object.keys(x).forEach(function(V){U.register(V,x[V],F)})}else this.imports[x]!=null&&!Q&&N.warn("Overwriting "+x+" with",F),this.imports[x]=F,(x.startsWith("blots/")||x.startsWith("formats/"))&&F.blotName!=="abstract"?g.default.register(F):x.startsWith("modules")&&typeof F.register=="function"&&F.register()}}]);function q(L){var x=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(R(this,q),this.options=B(L,F),this.container=this.options.container,this.container==null)return N.error("Invalid Quill container",L);this.options.debug&&q.debug(this.options.debug);var U=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new h.default,this.scroll=g.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new E.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(h.default.events.EDITOR_CHANGE,function(M){M===h.default.events.TEXT_CHANGE&&x.root.classList.toggle("ql-blank",x.editor.isBlank())}),this.emitter.on(h.default.events.SCROLL_UPDATE,function(M,V){var W=x.selection.lastRange,X=W&&W.length===0?W.index:void 0;H.call(x,function(){return x.editor.update(null,V,X)},M)});var Q=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+U+"<p><br></p></div>");this.setContents(Q),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(q,[{key:"addContainer",value:function(x){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof x=="string"){var U=x;x=document.createElement("div"),x.classList.add(U)}return this.container.insertBefore(x,F),x}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(x,F,U){var Q=this,M=K(x,F,U),V=s(M,4);return x=V[0],F=V[1],U=V[3],H.call(this,function(){return Q.editor.deleteText(x,F)},U,x,-1*F)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(x),this.container.classList.toggle("ql-disabled",!x)}},{key:"focus",value:function(){var x=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=x,this.scrollIntoView()}},{key:"format",value:function(x,F){var U=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.default.sources.API;return H.call(this,function(){var M=U.getSelection(!0),V=new u.default;if(M==null)return V;if(g.default.query(x,g.default.Scope.BLOCK))V=U.editor.formatLine(M.index,M.length,P({},x,F));else{if(M.length===0)return U.selection.format(x,F),V;V=U.editor.formatText(M.index,M.length,P({},x,F))}return U.setSelection(M,h.default.sources.SILENT),V},Q)}},{key:"formatLine",value:function(x,F,U,Q,M){var V=this,W=void 0,X=K(x,F,U,Q,M),Y=s(X,4);return x=Y[0],F=Y[1],W=Y[2],M=Y[3],H.call(this,function(){return V.editor.formatLine(x,F,W)},M,x,0)}},{key:"formatText",value:function(x,F,U,Q,M){var V=this,W=void 0,X=K(x,F,U,Q,M),Y=s(X,4);return x=Y[0],F=Y[1],W=Y[2],M=Y[3],H.call(this,function(){return V.editor.formatText(x,F,W)},M,x,0)}},{key:"getBounds",value:function(x){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,U=void 0;typeof x=="number"?U=this.selection.getBounds(x,F):U=this.selection.getBounds(x.index,x.length);var Q=this.container.getBoundingClientRect();return{bottom:U.bottom-Q.top,height:U.height,left:U.left-Q.left,right:U.right-Q.left,top:U.top-Q.top,width:U.width}}},{key:"getContents",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-x,U=K(x,F),Q=s(U,2);return x=Q[0],F=Q[1],this.editor.getContents(x,F)}},{key:"getFormat",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof x=="number"?this.editor.getFormat(x,F):this.editor.getFormat(x.index,x.length)}},{key:"getIndex",value:function(x){return x.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(x){return this.scroll.leaf(x)}},{key:"getLine",value:function(x){return this.scroll.line(x)}},{key:"getLines",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof x!="number"?this.scroll.lines(x.index,x.length):this.scroll.lines(x,F)}},{key:"getModule",value:function(x){return this.theme.modules[x]}},{key:"getSelection",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return x&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-x,U=K(x,F),Q=s(U,2);return x=Q[0],F=Q[1],this.editor.getText(x,F)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(x,F,U){var Q=this,M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:q.sources.API;return H.call(this,function(){return Q.editor.insertEmbed(x,F,U)},M,x)}},{key:"insertText",value:function(x,F,U,Q,M){var V=this,W=void 0,X=K(x,0,U,Q,M),Y=s(X,4);return x=Y[0],W=Y[2],M=Y[3],H.call(this,function(){return V.editor.insertText(x,F,W)},M,x,F.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(x,F,U){this.clipboard.dangerouslyPasteHTML(x,F,U)}},{key:"removeFormat",value:function(x,F,U){var Q=this,M=K(x,F,U),V=s(M,4);return x=V[0],F=V[1],U=V[3],H.call(this,function(){return Q.editor.removeFormat(x,F)},U,x)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(x){var F=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return H.call(this,function(){x=new u.default(x);var Q=F.getLength(),M=F.editor.deleteText(0,Q),V=F.editor.applyDelta(x),W=V.ops[V.ops.length-1];W!=null&&typeof W.insert=="string"&&W.insert[W.insert.length-1]===`
`&&(F.editor.deleteText(F.getLength()-1,1),V.delete(1));var X=M.compose(V);return X},U)}},{key:"setSelection",value:function(x,F,U){if(x==null)this.selection.setRange(null,F||q.sources.API);else{var Q=K(x,F,U),M=s(Q,4);x=M[0],F=M[1],U=M[3],this.selection.setRange(new p.Range(x,F),U),U!==h.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(x){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API,U=new u.default().insert(x);return this.setContents(U,F)}},{key:"update",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h.default.sources.USER,F=this.scroll.update(x);return this.selection.update(x),F}},{key:"updateContents",value:function(x){var F=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return H.call(this,function(){return x=new u.default(x),F.editor.applyDelta(x,U)},U,!0)}}]),q}();j.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},j.events=h.default.events,j.sources=h.default.sources,j.version="1.3.7",j.imports={delta:u.default,parchment:g.default,"core/module":y.default,"core/theme":D.default};function B(q,L){if(L=(0,b.default)(!0,{container:q,modules:{clipboard:!0,keyboard:!0,history:!0}},L),!L.theme||L.theme===j.DEFAULTS.theme)L.theme=D.default;else if(L.theme=j.import("themes/"+L.theme),L.theme==null)throw new Error("Invalid theme "+L.theme+". Did you register it?");var x=(0,b.default)(!0,{},L.theme.DEFAULTS);[x,L].forEach(function(Q){Q.modules=Q.modules||{},Object.keys(Q.modules).forEach(function(M){Q.modules[M]===!0&&(Q.modules[M]={})})});var F=Object.keys(x.modules).concat(Object.keys(L.modules)),U=F.reduce(function(Q,M){var V=j.import("modules/"+M);return V==null?N.error("Cannot load "+M+" module. Are you sure you registered it?"):Q[M]=V.DEFAULTS||{},Q},{});return L.modules!=null&&L.modules.toolbar&&L.modules.toolbar.constructor!==Object&&(L.modules.toolbar={container:L.modules.toolbar}),L=(0,b.default)(!0,{},j.DEFAULTS,{modules:U},x,L),["bounds","container","scrollingContainer"].forEach(function(Q){typeof L[Q]=="string"&&(L[Q]=document.querySelector(L[Q]))}),L.modules=Object.keys(L.modules).reduce(function(Q,M){return L.modules[M]&&(Q[M]=L.modules[M]),Q},{}),L}function H(q,L,x,F){if(this.options.strict&&!this.isEnabled()&&L===h.default.sources.USER)return new u.default;var U=x==null?null:this.getSelection(),Q=this.editor.delta,M=q();if(U!=null&&(x===!0&&(x=U.index),F==null?U=G(U,M,L):F!==0&&(U=G(U,x,F,L)),this.setSelection(U,h.default.sources.SILENT)),M.length()>0){var V,W=[h.default.events.TEXT_CHANGE,M,Q,L];if((V=this.emitter).emit.apply(V,[h.default.events.EDITOR_CHANGE].concat(W)),L!==h.default.sources.SILENT){var X;(X=this.emitter).emit.apply(X,W)}}return M}function K(q,L,x,F,U){var Q={};return typeof q.index=="number"&&typeof q.length=="number"?typeof L!="number"?(U=F,F=x,x=L,L=q.length,q=q.index):(L=q.length,q=q.index):typeof L!="number"&&(U=F,F=x,x=L,L=0),(typeof x>"u"?"undefined":o(x))==="object"?(Q=x,U=F):typeof x=="string"&&(F!=null?Q[x]=F:U=x),U=U||h.default.sources.API,[q,L,Q,U]}function G(q,L,x,F){if(q==null)return null;var U=void 0,Q=void 0;if(L instanceof u.default){var M=[q.index,q.index+q.length].map(function(Y){return L.transformPosition(Y,F!==h.default.sources.USER)}),V=s(M,2);U=V[0],Q=V[1]}else{var W=[q.index,q.index+q.length].map(function(Y){return Y<L||Y===L&&F===h.default.sources.USER?Y:x>=0?Y+x:Math.max(L,Y+x)}),X=s(W,2);U=X[0],Q=X[1]}return new p.Range(U,Q-U)}r.expandConfig=B,r.overload=K,r.default=j},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(g,p){for(var E=0;E<p.length;E++){var v=p[E];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}return function(g,p,E){return p&&_(g.prototype,p),E&&_(g,E),g}}(),s=function _(g,p,E){g===null&&(g=Function.prototype);var v=Object.getOwnPropertyDescriptor(g,p);if(v===void 0){var b=Object.getPrototypeOf(g);return b===null?void 0:_(b,p,E)}else{if("value"in v)return v.value;var k=v.get;return k===void 0?void 0:k.call(E)}},a=i(7),l=f(a),u=i(0),c=f(u);function f(_){return _&&_.__esModule?_:{default:_}}function d(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}function h(_,g){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:_}function w(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(_,g):_.__proto__=g)}var y=function(_){w(g,_);function g(){return d(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"formatAt",value:function(E,v,b,k){if(g.compare(this.statics.blotName,b)<0&&c.default.query(b,c.default.Scope.BLOT)){var I=this.isolate(E,v);k&&I.wrap(b,k)}else s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"formatAt",this).call(this,E,v,b,k)}},{key:"optimize",value:function(E){if(s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,E),this.parent instanceof g&&g.compare(this.statics.blotName,this.parent.statics.blotName)>0){var v=this.parent.isolate(this.offset(),this.length());this.moveChildren(v),v.wrap(this)}}}],[{key:"compare",value:function(E,v){var b=g.order.indexOf(E),k=g.order.indexOf(v);return b>=0||k>=0?b-k:E===v?0:E<v?-1:1}}]),g}(c.default.Inline);y.allowedChildren=[y,c.default.Embed,l.default],y.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function u(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function c(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var f=function(d){c(h,d);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default.Text);r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(E,v){for(var b=0;b<v.length;b++){var k=v[b];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(E,k.key,k)}}return function(E,v,b){return v&&p(E.prototype,v),b&&p(E,b),E}}(),s=function p(E,v,b){E===null&&(E=Function.prototype);var k=Object.getOwnPropertyDescriptor(E,v);if(k===void 0){var I=Object.getPrototypeOf(E);return I===null?void 0:p(I,v,b)}else{if("value"in k)return k.value;var O=k.get;return O===void 0?void 0:O.call(b)}},a=i(54),l=f(a),u=i(10),c=f(u);function f(p){return p&&p.__esModule?p:{default:p}}function d(p,E){if(!(p instanceof E))throw new TypeError("Cannot call a class as a function")}function h(p,E){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:p}function w(p,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);p.prototype=Object.create(E&&E.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(p,E):p.__proto__=E)}var y=(0,c.default)("quill:events"),_=["selectionchange","mousedown","mouseup","click"];_.forEach(function(p){document.addEventListener(p,function(){for(var E=arguments.length,v=Array(E),b=0;b<E;b++)v[b]=arguments[b];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(k){if(k.__quill&&k.__quill.emitter){var I;(I=k.__quill.emitter).handleDOM.apply(I,v)}})})});var g=function(p){w(E,p);function E(){d(this,E);var v=h(this,(E.__proto__||Object.getPrototypeOf(E)).call(this));return v.listeners={},v.on("error",y.error),v}return o(E,[{key:"emit",value:function(){y.log.apply(y,arguments),s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(b){for(var k=arguments.length,I=Array(k>1?k-1:0),O=1;O<k;O++)I[O-1]=arguments[O];(this.listeners[b.type]||[]).forEach(function(D){var C=D.node,P=D.handler;(b.target===C||C.contains(b.target))&&P.apply(void 0,[b].concat(I))})}},{key:"listenDOM",value:function(b,k,I){this.listeners[b]||(this.listeners[b]=[]),this.listeners[b].push({node:k,handler:I})}}]),E}(l.default);g.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},g.sources={API:"api",SILENT:"silent",USER:"user"},r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function o(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a),this.quill=l,this.options=u};s.DEFAULTS={},r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function a(u){if(o.indexOf(u)<=o.indexOf(s)){for(var c,f=arguments.length,d=Array(f>1?f-1:0),h=1;h<f;h++)d[h-1]=arguments[h];(c=console)[u].apply(c,d)}}function l(u){return o.reduce(function(c,f){return c[f]=a.bind(console,f,u),c},{})}a.level=l.level=function(u){s=u},r.default=l},function(n,r,i){var o=Array.prototype.slice,s=i(52),a=i(53),l=n.exports=function(d,h,w){return w||(w={}),d===h?!0:d instanceof Date&&h instanceof Date?d.getTime()===h.getTime():!d||!h||typeof d!="object"&&typeof h!="object"?w.strict?d===h:d==h:f(d,h,w)};function u(d){return d==null}function c(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function f(d,h,w){var y,_;if(u(d)||u(h)||d.prototype!==h.prototype)return!1;if(a(d))return a(h)?(d=o.call(d),h=o.call(h),l(d,h,w)):!1;if(c(d)){if(!c(h)||d.length!==h.length)return!1;for(y=0;y<d.length;y++)if(d[y]!==h[y])return!1;return!0}try{var g=s(d),p=s(h)}catch{return!1}if(g.length!=p.length)return!1;for(g.sort(),p.sort(),y=g.length-1;y>=0;y--)if(g[y]!=p[y])return!1;for(y=g.length-1;y>=0;y--)if(_=g[y],!l(d[_],h[_],w))return!1;return typeof d==typeof h}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l,u,c){c===void 0&&(c={}),this.attrName=l,this.keyName=u;var f=o.Scope.TYPE&o.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&o.Scope.LEVEL|f:this.scope=o.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},a.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},a.prototype.canAdd=function(l,u){var c=o.query(l,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function O(D,C){var P=[],R=!0,N=!1,j=void 0;try{for(var B=D[Symbol.iterator](),H;!(R=(H=B.next()).done)&&(P.push(H.value),!(C&&P.length===C));R=!0);}catch(K){N=!0,j=K}finally{try{!R&&B.return&&B.return()}finally{if(N)throw j}}return P}return function(D,C){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return O(D,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function O(D,C){for(var P=0;P<C.length;P++){var R=C[P];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(D,R.key,R)}}return function(D,C,P){return C&&O(D.prototype,C),P&&O(D,P),D}}(),a=function O(D,C,P){D===null&&(D=Function.prototype);var R=Object.getOwnPropertyDescriptor(D,C);if(R===void 0){var N=Object.getPrototypeOf(D);return N===null?void 0:O(N,C,P)}else{if("value"in R)return R.value;var j=R.get;return j===void 0?void 0:j.call(P)}},l=i(2),u=p(l),c=i(0),f=p(c),d=i(4),h=p(d),w=i(6),y=p(w),_=i(7),g=p(_);function p(O){return O&&O.__esModule?O:{default:O}}function E(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")}function v(O,D){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:O}function b(O,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(O,D):O.__proto__=D)}var k=function(O){b(D,O);function D(){return E(this,D),v(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return D}(y.default);k.blotName="code",k.tagName="CODE";var I=function(O){b(D,O);function D(){return E(this,D),v(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return s(D,[{key:"delta",value:function(){var P=this,R=this.domNode.textContent;return R.endsWith(`
`)&&(R=R.slice(0,-1)),R.split(`
`).reduce(function(N,j){return N.insert(j).insert(`
`,P.formats())},new u.default)}},{key:"format",value:function(P,R){if(!(P===this.statics.blotName&&R)){var N=this.descendant(g.default,this.length()-1),j=o(N,1),B=j[0];B!=null&&B.deleteAt(B.length()-1,1),a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"format",this).call(this,P,R)}}},{key:"formatAt",value:function(P,R,N,j){if(R!==0&&!(f.default.query(N,f.default.Scope.BLOCK)==null||N===this.statics.blotName&&j===this.statics.formats(this.domNode))){var B=this.newlineIndex(P);if(!(B<0||B>=P+R)){var H=this.newlineIndex(P,!0)+1,K=B-H+1,G=this.isolate(H,K),q=G.next;G.format(N,j),q instanceof D&&q.formatAt(0,P-H+R-K,N,j)}}}},{key:"insertAt",value:function(P,R,N){if(N==null){var j=this.descendant(g.default,P),B=o(j,2),H=B[0],K=B[1];H.insertAt(K,R)}}},{key:"length",value:function(){var P=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?P:P+1}},{key:"newlineIndex",value:function(P){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(R)return this.domNode.textContent.slice(0,P).lastIndexOf(`
`);var N=this.domNode.textContent.slice(P).indexOf(`
`);return N>-1?P+N:-1}},{key:"optimize",value:function(P){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"optimize",this).call(this,P);var R=this.next;R!=null&&R.prev===this&&R.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===R.statics.formats(R.domNode)&&(R.optimize(P),R.moveChildren(this),R.remove())}},{key:"replace",value:function(P){a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"replace",this).call(this,P),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(R){var N=f.default.find(R);N==null?R.parentNode.removeChild(R):N instanceof f.default.Embed?N.remove():N.unwrap()})}}],[{key:"create",value:function(P){var R=a(D.__proto__||Object.getPrototypeOf(D),"create",this).call(this,P);return R.setAttribute("spellcheck",!1),R}},{key:"formats",value:function(){return!0}}]),D}(h.default);I.blotName="code-block",I.tagName="PRE",I.TAB="  ",r.Code=k,r.default=I},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},s=function(){function q(L,x){var F=[],U=!0,Q=!1,M=void 0;try{for(var V=L[Symbol.iterator](),W;!(U=(W=V.next()).done)&&(F.push(W.value),!(x&&F.length===x));U=!0);}catch(X){Q=!0,M=X}finally{try{!U&&V.return&&V.return()}finally{if(Q)throw M}}return F}return function(L,x){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return q(L,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function q(L,x){for(var F=0;F<x.length;F++){var U=x[F];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(L,U.key,U)}}return function(L,x,F){return x&&q(L.prototype,x),F&&q(L,F),L}}(),l=i(2),u=R(l),c=i(20),f=R(c),d=i(0),h=R(d),w=i(13),y=R(w),_=i(24),g=R(_),p=i(4),E=R(p),v=i(16),b=R(v),k=i(21),I=R(k),O=i(11),D=R(O),C=i(3),P=R(C);function R(q){return q&&q.__esModule?q:{default:q}}function N(q,L,x){return L in q?Object.defineProperty(q,L,{value:x,enumerable:!0,configurable:!0,writable:!0}):q[L]=x,q}function j(q,L){if(!(q instanceof L))throw new TypeError("Cannot call a class as a function")}var B=/^[ -~]*$/,H=function(){function q(L){j(this,q),this.scroll=L,this.delta=this.getDelta()}return a(q,[{key:"applyDelta",value:function(x){var F=this,U=!1;this.scroll.update();var Q=this.scroll.length();return this.scroll.batchStart(),x=G(x),x.reduce(function(M,V){var W=V.retain||V.delete||V.insert.length||1,X=V.attributes||{};if(V.insert!=null){if(typeof V.insert=="string"){var Y=V.insert;Y.endsWith(`
`)&&U&&(U=!1,Y=Y.slice(0,-1)),M>=Q&&!Y.endsWith(`
`)&&(U=!0),F.scroll.insertAt(M,Y);var ne=F.scroll.line(M),fe=s(ne,2),ge=fe[0],_e=fe[1],Pe=(0,P.default)({},(0,p.bubbleFormats)(ge));if(ge instanceof E.default){var De=ge.descendant(h.default.Leaf,_e),wt=s(De,1),We=wt[0];Pe=(0,P.default)(Pe,(0,p.bubbleFormats)(We))}X=f.default.attributes.diff(Pe,X)||{}}else if(o(V.insert)==="object"){var te=Object.keys(V.insert)[0];if(te==null)return M;F.scroll.insertAt(M,te,V.insert[te])}Q+=W}return Object.keys(X).forEach(function(J){F.scroll.formatAt(M,W,J,X[J])}),M+W},0),x.reduce(function(M,V){return typeof V.delete=="number"?(F.scroll.deleteAt(M,V.delete),M):M+(V.retain||V.insert.length||1)},0),this.scroll.batchEnd(),this.update(x)}},{key:"deleteText",value:function(x,F){return this.scroll.deleteAt(x,F),this.update(new u.default().retain(x).delete(F))}},{key:"formatLine",value:function(x,F){var U=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(Q).forEach(function(M){if(!(U.scroll.whitelist!=null&&!U.scroll.whitelist[M])){var V=U.scroll.lines(x,Math.max(F,1)),W=F;V.forEach(function(X){var Y=X.length();if(!(X instanceof y.default))X.format(M,Q[M]);else{var ne=x-X.offset(U.scroll),fe=X.newlineIndex(ne+W)-ne+1;X.formatAt(ne,fe,M,Q[M])}W-=Y})}}),this.scroll.optimize(),this.update(new u.default().retain(x).retain(F,(0,I.default)(Q)))}},{key:"formatText",value:function(x,F){var U=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(Q).forEach(function(M){U.scroll.formatAt(x,F,M,Q[M])}),this.update(new u.default().retain(x).retain(F,(0,I.default)(Q)))}},{key:"getContents",value:function(x,F){return this.delta.slice(x,x+F)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(x,F){return x.concat(F.delta())},new u.default)}},{key:"getFormat",value:function(x){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,U=[],Q=[];F===0?this.scroll.path(x).forEach(function(V){var W=s(V,1),X=W[0];X instanceof E.default?U.push(X):X instanceof h.default.Leaf&&Q.push(X)}):(U=this.scroll.lines(x,F),Q=this.scroll.descendants(h.default.Leaf,x,F));var M=[U,Q].map(function(V){if(V.length===0)return{};for(var W=(0,p.bubbleFormats)(V.shift());Object.keys(W).length>0;){var X=V.shift();if(X==null)return W;W=K((0,p.bubbleFormats)(X),W)}return W});return P.default.apply(P.default,M)}},{key:"getText",value:function(x,F){return this.getContents(x,F).filter(function(U){return typeof U.insert=="string"}).map(function(U){return U.insert}).join("")}},{key:"insertEmbed",value:function(x,F,U){return this.scroll.insertAt(x,F,U),this.update(new u.default().retain(x).insert(N({},F,U)))}},{key:"insertText",value:function(x,F){var U=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return F=F.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(x,F),Object.keys(Q).forEach(function(M){U.scroll.formatAt(x,F.length,M,Q[M])}),this.update(new u.default().retain(x).insert(F,(0,I.default)(Q)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var x=this.scroll.children.head;return x.statics.blotName!==E.default.blotName||x.children.length>1?!1:x.children.head instanceof b.default}},{key:"removeFormat",value:function(x,F){var U=this.getText(x,F),Q=this.scroll.line(x+F),M=s(Q,2),V=M[0],W=M[1],X=0,Y=new u.default;V!=null&&(V instanceof y.default?X=V.newlineIndex(W)-W+1:X=V.length()-W,Y=V.delta().slice(W,W+X-1).insert(`
`));var ne=this.getContents(x,F+X),fe=ne.diff(new u.default().insert(U).concat(Y)),ge=new u.default().retain(x).concat(fe);return this.applyDelta(ge)}},{key:"update",value:function(x){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,Q=this.delta;if(F.length===1&&F[0].type==="characterData"&&F[0].target.data.match(B)&&h.default.find(F[0].target)){var M=h.default.find(F[0].target),V=(0,p.bubbleFormats)(M),W=M.offset(this.scroll),X=F[0].oldValue.replace(g.default.CONTENTS,""),Y=new u.default().insert(X),ne=new u.default().insert(M.value()),fe=new u.default().retain(W).concat(Y.diff(ne,U));x=fe.reduce(function(ge,_e){return _e.insert?ge.insert(_e.insert,V):ge.push(_e)},new u.default),this.delta=Q.compose(x)}else this.delta=this.getDelta(),(!x||!(0,D.default)(Q.compose(x),this.delta))&&(x=Q.diff(this.delta,U));return x}}]),q}();function K(q,L){return Object.keys(L).reduce(function(x,F){return q[F]==null||(L[F]===q[F]?x[F]=L[F]:Array.isArray(L[F])?L[F].indexOf(q[F])<0&&(x[F]=L[F].concat([q[F]])):x[F]=[L[F],q[F]]),x},{})}function G(q){return q.reduce(function(L,x){if(x.insert===1){var F=(0,I.default)(x.attributes);return delete F.image,L.insert({image:x.attributes.image},F)}if(x.attributes!=null&&(x.attributes.list===!0||x.attributes.bullet===!0)&&(x=(0,I.default)(x),x.attributes.list?x.attributes.list="ordered":(x.attributes.list="bullet",delete x.attributes.bullet)),typeof x.insert=="string"){var U=x.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return L.insert(U,x.attributes)}return L.push(x)},new u.default)}r.default=H},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function O(D,C){var P=[],R=!0,N=!1,j=void 0;try{for(var B=D[Symbol.iterator](),H;!(R=(H=B.next()).done)&&(P.push(H.value),!(C&&P.length===C));R=!0);}catch(K){N=!0,j=K}finally{try{!R&&B.return&&B.return()}finally{if(N)throw j}}return P}return function(D,C){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return O(D,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function O(D,C){for(var P=0;P<C.length;P++){var R=C[P];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(D,R.key,R)}}return function(D,C,P){return C&&O(D.prototype,C),P&&O(D,P),D}}(),a=i(0),l=g(a),u=i(21),c=g(u),f=i(11),d=g(f),h=i(8),w=g(h),y=i(10),_=g(y);function g(O){return O&&O.__esModule?O:{default:O}}function p(O){if(Array.isArray(O)){for(var D=0,C=Array(O.length);D<O.length;D++)C[D]=O[D];return C}else return Array.from(O)}function E(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")}var v=(0,_.default)("quill:selection"),b=function O(D){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;E(this,O),this.index=D,this.length=C},k=function(){function O(D,C){var P=this;E(this,O),this.emitter=C,this.scroll=D,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new b(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){P.mouseDown||setTimeout(P.update.bind(P,w.default.sources.USER),1)}),this.emitter.on(w.default.events.EDITOR_CHANGE,function(R,N){R===w.default.events.TEXT_CHANGE&&N.length()>0&&P.update(w.default.sources.SILENT)}),this.emitter.on(w.default.events.SCROLL_BEFORE_UPDATE,function(){if(P.hasFocus()){var R=P.getNativeRange();R!=null&&R.start.node!==P.cursor.textNode&&P.emitter.once(w.default.events.SCROLL_UPDATE,function(){try{P.setNativeRange(R.start.node,R.start.offset,R.end.node,R.end.offset)}catch{}})}}),this.emitter.on(w.default.events.SCROLL_OPTIMIZE,function(R,N){if(N.range){var j=N.range,B=j.startNode,H=j.startOffset,K=j.endNode,G=j.endOffset;P.setNativeRange(B,H,K,G)}}),this.update(w.default.sources.SILENT)}return s(O,[{key:"handleComposition",value:function(){var C=this;this.root.addEventListener("compositionstart",function(){C.composing=!0}),this.root.addEventListener("compositionend",function(){if(C.composing=!1,C.cursor.parent){var P=C.cursor.restore();if(!P)return;setTimeout(function(){C.setNativeRange(P.startNode,P.startOffset,P.endNode,P.endOffset)},1)}})}},{key:"handleDragging",value:function(){var C=this;this.emitter.listenDOM("mousedown",document.body,function(){C.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){C.mouseDown=!1,C.update(w.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(C,P){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[C])){this.scroll.update();var R=this.getNativeRange();if(!(R==null||!R.native.collapsed||l.default.query(C,l.default.Scope.BLOCK))){if(R.start.node!==this.cursor.textNode){var N=l.default.find(R.start.node,!1);if(N==null)return;if(N instanceof l.default.Leaf){var j=N.split(R.start.offset);N.parent.insertBefore(this.cursor,j)}else N.insertBefore(this.cursor,R.start.node);this.cursor.attach()}this.cursor.format(C,P),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(C){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=this.scroll.length();C=Math.min(C,R-1),P=Math.min(C+P,R-1)-C;var N=void 0,j=this.scroll.leaf(C),B=o(j,2),H=B[0],K=B[1];if(H==null)return null;var G=H.position(K,!0),q=o(G,2);N=q[0],K=q[1];var L=document.createRange();if(P>0){L.setStart(N,K);var x=this.scroll.leaf(C+P),F=o(x,2);if(H=F[0],K=F[1],H==null)return null;var U=H.position(K,!0),Q=o(U,2);return N=Q[0],K=Q[1],L.setEnd(N,K),L.getBoundingClientRect()}else{var M="left",V=void 0;return N instanceof Text?(K<N.data.length?(L.setStart(N,K),L.setEnd(N,K+1)):(L.setStart(N,K-1),L.setEnd(N,K),M="right"),V=L.getBoundingClientRect()):(V=H.domNode.getBoundingClientRect(),K>0&&(M="right")),{bottom:V.top+V.height,height:V.height,left:V[M],right:V[M],top:V.top,width:0}}}},{key:"getNativeRange",value:function(){var C=document.getSelection();if(C==null||C.rangeCount<=0)return null;var P=C.getRangeAt(0);if(P==null)return null;var R=this.normalizeNative(P);return v.info("getNativeRange",R),R}},{key:"getRange",value:function(){var C=this.getNativeRange();if(C==null)return[null,null];var P=this.normalizedToRange(C);return[P,C]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(C){var P=this,R=[[C.start.node,C.start.offset]];C.native.collapsed||R.push([C.end.node,C.end.offset]);var N=R.map(function(H){var K=o(H,2),G=K[0],q=K[1],L=l.default.find(G,!0),x=L.offset(P.scroll);return q===0?x:L instanceof l.default.Container?x+L.length():x+L.index(G,q)}),j=Math.min(Math.max.apply(Math,p(N)),this.scroll.length()-1),B=Math.min.apply(Math,[j].concat(p(N)));return new b(B,j-B)}},{key:"normalizeNative",value:function(C){if(!I(this.root,C.startContainer)||!C.collapsed&&!I(this.root,C.endContainer))return null;var P={start:{node:C.startContainer,offset:C.startOffset},end:{node:C.endContainer,offset:C.endOffset},native:C};return[P.start,P.end].forEach(function(R){for(var N=R.node,j=R.offset;!(N instanceof Text)&&N.childNodes.length>0;)if(N.childNodes.length>j)N=N.childNodes[j],j=0;else if(N.childNodes.length===j)N=N.lastChild,j=N instanceof Text?N.data.length:N.childNodes.length+1;else break;R.node=N,R.offset=j}),P}},{key:"rangeToNative",value:function(C){var P=this,R=C.collapsed?[C.index]:[C.index,C.index+C.length],N=[],j=this.scroll.length();return R.forEach(function(B,H){B=Math.min(j-1,B);var K=void 0,G=P.scroll.leaf(B),q=o(G,2),L=q[0],x=q[1],F=L.position(x,H!==0),U=o(F,2);K=U[0],x=U[1],N.push(K,x)}),N.length<2&&(N=N.concat(N)),N}},{key:"scrollIntoView",value:function(C){var P=this.lastRange;if(P!=null){var R=this.getBounds(P.index,P.length);if(R!=null){var N=this.scroll.length()-1,j=this.scroll.line(Math.min(P.index,N)),B=o(j,1),H=B[0],K=H;if(P.length>0){var G=this.scroll.line(Math.min(P.index+P.length,N)),q=o(G,1);K=q[0]}if(!(H==null||K==null)){var L=C.getBoundingClientRect();R.top<L.top?C.scrollTop-=L.top-R.top:R.bottom>L.bottom&&(C.scrollTop+=R.bottom-L.bottom)}}}}},{key:"setNativeRange",value:function(C,P){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:C,N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:P,j=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(v.info("setNativeRange",C,P,R,N),!(C!=null&&(this.root.parentNode==null||C.parentNode==null||R.parentNode==null))){var B=document.getSelection();if(B!=null)if(C!=null){this.hasFocus()||this.root.focus();var H=(this.getNativeRange()||{}).native;if(H==null||j||C!==H.startContainer||P!==H.startOffset||R!==H.endContainer||N!==H.endOffset){C.tagName=="BR"&&(P=[].indexOf.call(C.parentNode.childNodes,C),C=C.parentNode),R.tagName=="BR"&&(N=[].indexOf.call(R.parentNode.childNodes,R),R=R.parentNode);var K=document.createRange();K.setStart(C,P),K.setEnd(R,N),B.removeAllRanges(),B.addRange(K)}}else B.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(C){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w.default.sources.API;if(typeof P=="string"&&(R=P,P=!1),v.info("setRange",C),C!=null){var N=this.rangeToNative(C);this.setNativeRange.apply(this,p(N).concat([P]))}else this.setNativeRange(null);this.update(R)}},{key:"update",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w.default.sources.USER,P=this.lastRange,R=this.getRange(),N=o(R,2),j=N[0],B=N[1];if(this.lastRange=j,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(P,this.lastRange)){var H;!this.composing&&B!=null&&B.native.collapsed&&B.start.node!==this.cursor.textNode&&this.cursor.restore();var K=[w.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(P),C];if((H=this.emitter).emit.apply(H,[w.default.events.EDITOR_CHANGE].concat(K)),C!==w.default.sources.SILENT){var G;(G=this.emitter).emit.apply(G,K)}}}}]),O}();function I(O,D){try{D.parentNode}catch{return!1}return D instanceof Text&&(D=D.parentNode),O.contains(D)}r.Range=b,r.default=k},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(y,_){for(var g=0;g<_.length;g++){var p=_[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}return function(y,_,g){return _&&w(y.prototype,_),g&&w(y,g),y}}(),s=function w(y,_,g){y===null&&(y=Function.prototype);var p=Object.getOwnPropertyDescriptor(y,_);if(p===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:w(E,_,g)}else{if("value"in p)return p.value;var v=p.get;return v===void 0?void 0:v.call(g)}},a=i(0),l=u(a);function u(w){return w&&w.__esModule?w:{default:w}}function c(w,y){if(!(w instanceof y))throw new TypeError("Cannot call a class as a function")}function f(w,y){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:w}function d(w,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);w.prototype=Object.create(y&&y.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(w,y):w.__proto__=y)}var h=function(w){d(y,w);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"insertInto",value:function(g,p){g.children.length===0?s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertInto",this).call(this,g,p):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),y}(l.default.Embed);h.blotName="break",h.tagName="BR",r.default=h},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var w in h)h.hasOwnProperty(w)&&(d[w]=h[w])};return function(d,h){f(d,h);function w(){this.constructor=d}d.prototype=h===null?Object.create(h):(w.prototype=h.prototype,new w)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(44),a=i(30),l=i(1),u=function(f){o(d,f);function d(h){var w=f.call(this,h)||this;return w.build(),w}return d.prototype.appendChild=function(h){this.insertBefore(h)},d.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(h){h.attach()})},d.prototype.build=function(){var h=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(w){try{var y=c(w);h.insertBefore(y,h.children.head||void 0)}catch(_){if(_ instanceof l.ParchmentError)return;throw _}})},d.prototype.deleteAt=function(h,w){if(h===0&&w===this.length())return this.remove();this.children.forEachAt(h,w,function(y,_,g){y.deleteAt(_,g)})},d.prototype.descendant=function(h,w){var y=this.children.find(w),_=y[0],g=y[1];return h.blotName==null&&h(_)||h.blotName!=null&&_ instanceof h?[_,g]:_ instanceof d?_.descendant(h,g):[null,-1]},d.prototype.descendants=function(h,w,y){w===void 0&&(w=0),y===void 0&&(y=Number.MAX_VALUE);var _=[],g=y;return this.children.forEachAt(w,y,function(p,E,v){(h.blotName==null&&h(p)||h.blotName!=null&&p instanceof h)&&_.push(p),p instanceof d&&(_=_.concat(p.descendants(h,E,g))),g-=v}),_},d.prototype.detach=function(){this.children.forEach(function(h){h.detach()}),f.prototype.detach.call(this)},d.prototype.formatAt=function(h,w,y,_){this.children.forEachAt(h,w,function(g,p,E){g.formatAt(p,E,y,_)})},d.prototype.insertAt=function(h,w,y){var _=this.children.find(h),g=_[0],p=_[1];if(g)g.insertAt(p,w,y);else{var E=y==null?l.create("text",w):l.create(w,y);this.appendChild(E)}},d.prototype.insertBefore=function(h,w){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(y){return h instanceof y}))throw new l.ParchmentError("Cannot insert "+h.statics.blotName+" into "+this.statics.blotName);h.insertInto(this,w)},d.prototype.length=function(){return this.children.reduce(function(h,w){return h+w.length()},0)},d.prototype.moveChildren=function(h,w){this.children.forEach(function(y){h.insertBefore(y,w)})},d.prototype.optimize=function(h){if(f.prototype.optimize.call(this,h),this.children.length===0)if(this.statics.defaultChild!=null){var w=l.create(this.statics.defaultChild);this.appendChild(w),w.optimize(h)}else this.remove()},d.prototype.path=function(h,w){w===void 0&&(w=!1);var y=this.children.find(h,w),_=y[0],g=y[1],p=[[this,h]];return _ instanceof d?p.concat(_.path(g,w)):(_!=null&&p.push([_,g]),p)},d.prototype.removeChild=function(h){this.children.remove(h)},d.prototype.replace=function(h){h instanceof d&&h.moveChildren(this),f.prototype.replace.call(this,h)},d.prototype.split=function(h,w){if(w===void 0&&(w=!1),!w){if(h===0)return this;if(h===this.length())return this.next}var y=this.clone();return this.parent.insertBefore(y,this.next),this.children.forEachAt(h,this.length(),function(_,g,p){_=_.split(g,w),y.appendChild(_)}),y},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(h,w){var y=this,_=[],g=[];h.forEach(function(p){p.target===y.domNode&&p.type==="childList"&&(_.push.apply(_,p.addedNodes),g.push.apply(g,p.removedNodes))}),g.forEach(function(p){if(!(p.parentNode!=null&&p.tagName!=="IFRAME"&&document.body.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var E=l.find(p);E!=null&&(E.domNode.parentNode==null||E.domNode.parentNode===y.domNode)&&E.detach()}}),_.filter(function(p){return p.parentNode==y.domNode}).sort(function(p,E){return p===E?0:p.compareDocumentPosition(E)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(p){var E=null;p.nextSibling!=null&&(E=l.find(p.nextSibling));var v=c(p);(v.next!=E||v.next==null)&&(v.parent!=null&&v.parent.removeChild(y),y.insertBefore(v,E||void 0))})},d}(a.default);function c(f){var d=l.find(f);if(d==null)try{d=l.create(f)}catch{d=l.create(l.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(w){d.domNode.appendChild(w)}),f.parentNode&&f.parentNode.replaceChild(d.domNode,f),d.attach()}return d}r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var w in h)h.hasOwnProperty(w)&&(d[w]=h[w])};return function(d,h){f(d,h);function w(){this.constructor=d}d.prototype=h===null?Object.create(h):(w.prototype=h.prototype,new w)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(31),l=i(17),u=i(1),c=function(f){o(d,f);function d(h){var w=f.call(this,h)||this;return w.attributes=new a.default(w.domNode),w}return d.formats=function(h){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return h.tagName.toLowerCase()},d.prototype.format=function(h,w){var y=u.query(h);y instanceof s.default?this.attributes.attribute(y,w):w&&y!=null&&(h!==this.statics.blotName||this.formats()[h]!==w)&&this.replaceWith(h,w)},d.prototype.formats=function(){var h=this.attributes.values(),w=this.statics.formats(this.domNode);return w!=null&&(h[this.statics.blotName]=w),h},d.prototype.replaceWith=function(h,w){var y=f.prototype.replaceWith.call(this,h,w);return this.attributes.copy(y),y},d.prototype.update=function(h,w){var y=this;f.prototype.update.call(this,h,w),h.some(function(_){return _.target===y.domNode&&_.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(h,w){var y=f.prototype.wrap.call(this,h,w);return y instanceof d&&y.statics.scope===this.statics.scope&&this.attributes.move(y),y},d}(l.default);r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(30),a=i(1),l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.value=function(f){return!0},c.prototype.index=function(f,d){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},c.prototype.position=function(f,d){var h=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(h+=1),[this.parent.domNode,h]},c.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},c.scope=a.Scope.INLINE_BLOT,c}(s.default);r.default=l},function(n,r,i){var o=i(11),s=i(3),a={attributes:{compose:function(u,c,f){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var d=s(!0,{},c);f||(d=Object.keys(d).reduce(function(w,y){return d[y]!=null&&(w[y]=d[y]),w},{}));for(var h in u)u[h]!==void 0&&c[h]===void 0&&(d[h]=u[h]);return Object.keys(d).length>0?d:void 0},diff:function(u,c){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var f=Object.keys(u).concat(Object.keys(c)).reduce(function(d,h){return o(u[h],c[h])||(d[h]=c[h]===void 0?null:c[h]),d},{});return Object.keys(f).length>0?f:void 0},transform:function(u,c,f){if(typeof u!="object")return c;if(typeof c=="object"){if(!f)return c;var d=Object.keys(c).reduce(function(h,w){return u[w]===void 0&&(h[w]=c[w]),h},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var c=this.ops[this.index];if(c){var f=this.offset,d=a.length(c);if(u>=d-f?(u=d-f,this.index+=1,this.offset=0):this.offset+=u,typeof c.delete=="number")return{delete:u};var h={};return c.attributes&&(h.attributes=c.attributes),typeof c.retain=="number"?h.retain=u:typeof c.insert=="string"?h.insert=c.insert.substr(f,u):h.insert=c.insert,h}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,c=this.index,f=this.next(),d=this.ops.slice(this.index);return this.offset=u,this.index=c,[f].concat(d)}else return[]},n.exports=a},function(n,r){var i=function(){function o(y,_){return _!=null&&y instanceof _}var s;try{s=Map}catch{s=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function u(y,_,g,p,E){typeof _=="object"&&(g=_.depth,p=_.prototype,E=_.includeNonEnumerable,_=_.circular);var v=[],b=[],k=typeof Buffer<"u";typeof _>"u"&&(_=!0),typeof g>"u"&&(g=1/0);function I(O,D){if(O===null)return null;if(D===0)return O;var C,P;if(typeof O!="object")return O;if(o(O,s))C=new s;else if(o(O,a))C=new a;else if(o(O,l))C=new l(function(L,x){O.then(function(F){L(I(F,D-1))},function(F){x(I(F,D-1))})});else if(u.__isArray(O))C=[];else if(u.__isRegExp(O))C=new RegExp(O.source,w(O)),O.lastIndex&&(C.lastIndex=O.lastIndex);else if(u.__isDate(O))C=new Date(O.getTime());else{if(k&&Buffer.isBuffer(O))return Buffer.allocUnsafe?C=Buffer.allocUnsafe(O.length):C=new Buffer(O.length),O.copy(C),C;o(O,Error)?C=Object.create(O):typeof p>"u"?(P=Object.getPrototypeOf(O),C=Object.create(P)):(C=Object.create(p),P=p)}if(_){var R=v.indexOf(O);if(R!=-1)return b[R];v.push(O),b.push(C)}o(O,s)&&O.forEach(function(L,x){var F=I(x,D-1),U=I(L,D-1);C.set(F,U)}),o(O,a)&&O.forEach(function(L){var x=I(L,D-1);C.add(x)});for(var N in O){var j;P&&(j=Object.getOwnPropertyDescriptor(P,N)),!(j&&j.set==null)&&(C[N]=I(O[N],D-1))}if(Object.getOwnPropertySymbols)for(var B=Object.getOwnPropertySymbols(O),N=0;N<B.length;N++){var H=B[N],K=Object.getOwnPropertyDescriptor(O,H);K&&!K.enumerable&&!E||(C[H]=I(O[H],D-1),K.enumerable||Object.defineProperty(C,H,{enumerable:!1}))}if(E)for(var G=Object.getOwnPropertyNames(O),N=0;N<G.length;N++){var q=G[N],K=Object.getOwnPropertyDescriptor(O,q);K&&K.enumerable||(C[q]=I(O[q],D-1),Object.defineProperty(C,q,{enumerable:!1}))}return C}return I(y,g)}u.clonePrototype=function(_){if(_===null)return null;var g=function(){};return g.prototype=_,new g};function c(y){return Object.prototype.toString.call(y)}u.__objToStr=c;function f(y){return typeof y=="object"&&c(y)==="[object Date]"}u.__isDate=f;function d(y){return typeof y=="object"&&c(y)==="[object Array]"}u.__isArray=d;function h(y){return typeof y=="object"&&c(y)==="[object RegExp]"}u.__isRegExp=h;function w(y){var _="";return y.global&&(_+="g"),y.ignoreCase&&(_+="i"),y.multiline&&(_+="m"),_}return u.__getRegExpFlags=w,u}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function C(P,R){var N=[],j=!0,B=!1,H=void 0;try{for(var K=P[Symbol.iterator](),G;!(j=(G=K.next()).done)&&(N.push(G.value),!(R&&N.length===R));j=!0);}catch(q){B=!0,H=q}finally{try{!j&&K.return&&K.return()}finally{if(B)throw H}}return N}return function(P,R){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return C(P,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function C(P,R){for(var N=0;N<R.length;N++){var j=R[N];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(P,j.key,j)}}return function(P,R,N){return R&&C(P.prototype,R),N&&C(P,N),P}}(),a=function C(P,R,N){P===null&&(P=Function.prototype);var j=Object.getOwnPropertyDescriptor(P,R);if(j===void 0){var B=Object.getPrototypeOf(P);return B===null?void 0:C(B,R,N)}else{if("value"in j)return j.value;var H=j.get;return H===void 0?void 0:H.call(N)}},l=i(0),u=v(l),c=i(8),f=v(c),d=i(4),h=v(d),w=i(16),y=v(w),_=i(13),g=v(_),p=i(25),E=v(p);function v(C){return C&&C.__esModule?C:{default:C}}function b(C,P){if(!(C instanceof P))throw new TypeError("Cannot call a class as a function")}function k(C,P){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:C}function I(C,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);C.prototype=Object.create(P&&P.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(C,P):C.__proto__=P)}function O(C){return C instanceof h.default||C instanceof d.BlockEmbed}var D=function(C){I(P,C);function P(R,N){b(this,P);var j=k(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,R));return j.emitter=N.emitter,Array.isArray(N.whitelist)&&(j.whitelist=N.whitelist.reduce(function(B,H){return B[H]=!0,B},{})),j.domNode.addEventListener("DOMNodeInserted",function(){}),j.optimize(),j.enable(),j}return s(P,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(N,j){var B=this.line(N),H=o(B,2),K=H[0],G=H[1],q=this.line(N+j),L=o(q,1),x=L[0];if(a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"deleteAt",this).call(this,N,j),x!=null&&K!==x&&G>0){if(K instanceof d.BlockEmbed||x instanceof d.BlockEmbed){this.optimize();return}if(K instanceof g.default){var F=K.newlineIndex(K.length(),!0);if(F>-1&&(K=K.split(F+1),K===x)){this.optimize();return}}else if(x instanceof g.default){var U=x.newlineIndex(0);U>-1&&x.split(U+1)}var Q=x.children.head instanceof y.default?null:x.children.head;K.moveChildren(x,Q),K.remove()}this.optimize()}},{key:"enable",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",N)}},{key:"formatAt",value:function(N,j,B,H){this.whitelist!=null&&!this.whitelist[B]||(a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"formatAt",this).call(this,N,j,B,H),this.optimize())}},{key:"insertAt",value:function(N,j,B){if(!(B!=null&&this.whitelist!=null&&!this.whitelist[j])){if(N>=this.length())if(B==null||u.default.query(j,u.default.Scope.BLOCK)==null){var H=u.default.create(this.statics.defaultChild);this.appendChild(H),B==null&&j.endsWith(`
`)&&(j=j.slice(0,-1)),H.insertAt(0,j,B)}else{var K=u.default.create(j,B);this.appendChild(K)}else a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,N,j,B);this.optimize()}}},{key:"insertBefore",value:function(N,j){if(N.statics.scope===u.default.Scope.INLINE_BLOT){var B=u.default.create(this.statics.defaultChild);B.appendChild(N),N=B}a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,N,j)}},{key:"leaf",value:function(N){return this.path(N).pop()||[null,-1]}},{key:"line",value:function(N){return N===this.length()?this.line(N-1):this.descendant(O,N)}},{key:"lines",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,B=function H(K,G,q){var L=[],x=q;return K.children.forEachAt(G,q,function(F,U,Q){O(F)?L.push(F):F instanceof u.default.Container&&(L=L.concat(H(F,U,x))),x-=Q}),L};return B(this,N,j)}},{key:"optimize",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,N,j),N.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,N,j))}},{key:"path",value:function(N){return a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"path",this).call(this,N).slice(1)}},{key:"update",value:function(N){if(this.batch!==!0){var j=f.default.sources.USER;typeof N=="string"&&(j=N),Array.isArray(N)||(N=this.observer.takeRecords()),N.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,j,N),a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"update",this).call(this,N.concat([])),N.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,j,N)}}}]),P}(u.default.Scroll);D.blotName="scroll",D.className="ql-editor",D.tagName="DIV",D.defaultChild="block",D.allowedChildren=[h.default,d.BlockEmbed,E.default],r.default=D},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},s=function(){function V(W,X){var Y=[],ne=!0,fe=!1,ge=void 0;try{for(var _e=W[Symbol.iterator](),Pe;!(ne=(Pe=_e.next()).done)&&(Y.push(Pe.value),!(X&&Y.length===X));ne=!0);}catch(De){fe=!0,ge=De}finally{try{!ne&&_e.return&&_e.return()}finally{if(fe)throw ge}}return Y}return function(W,X){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return V(W,X);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function V(W,X){for(var Y=0;Y<X.length;Y++){var ne=X[Y];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(W,ne.key,ne)}}return function(W,X,Y){return X&&V(W.prototype,X),Y&&V(W,Y),W}}(),l=i(21),u=C(l),c=i(11),f=C(c),d=i(3),h=C(d),w=i(2),y=C(w),_=i(20),g=C(_),p=i(0),E=C(p),v=i(5),b=C(v),k=i(10),I=C(k),O=i(9),D=C(O);function C(V){return V&&V.__esModule?V:{default:V}}function P(V,W,X){return W in V?Object.defineProperty(V,W,{value:X,enumerable:!0,configurable:!0,writable:!0}):V[W]=X,V}function R(V,W){if(!(V instanceof W))throw new TypeError("Cannot call a class as a function")}function N(V,W){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W&&(typeof W=="object"||typeof W=="function")?W:V}function j(V,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);V.prototype=Object.create(W&&W.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(V,W):V.__proto__=W)}var B=(0,I.default)("quill:keyboard"),H=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",K=function(V){j(W,V),a(W,null,[{key:"match",value:function(Y,ne){return ne=M(ne),["altKey","ctrlKey","metaKey","shiftKey"].some(function(fe){return!!ne[fe]!==Y[fe]&&ne[fe]!==null})?!1:ne.key===(Y.which||Y.keyCode)}}]);function W(X,Y){R(this,W);var ne=N(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,X,Y));return ne.bindings={},Object.keys(ne.options.bindings).forEach(function(fe){fe==="list autofill"&&X.scroll.whitelist!=null&&!X.scroll.whitelist.list||ne.options.bindings[fe]&&ne.addBinding(ne.options.bindings[fe])}),ne.addBinding({key:W.keys.ENTER,shiftKey:null},F),ne.addBinding({key:W.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(ne.addBinding({key:W.keys.BACKSPACE},{collapsed:!0},q),ne.addBinding({key:W.keys.DELETE},{collapsed:!0},L)):(ne.addBinding({key:W.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},q),ne.addBinding({key:W.keys.DELETE},{collapsed:!0,suffix:/^.?$/},L)),ne.addBinding({key:W.keys.BACKSPACE},{collapsed:!1},x),ne.addBinding({key:W.keys.DELETE},{collapsed:!1},x),ne.addBinding({key:W.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},q),ne.listen(),ne}return a(W,[{key:"addBinding",value:function(Y){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ge=M(Y);if(ge==null||ge.key==null)return B.warn("Attempted to add invalid keyboard binding",ge);typeof ne=="function"&&(ne={handler:ne}),typeof fe=="function"&&(fe={handler:fe}),ge=(0,h.default)(ge,ne,fe),this.bindings[ge.key]=this.bindings[ge.key]||[],this.bindings[ge.key].push(ge)}},{key:"listen",value:function(){var Y=this;this.quill.root.addEventListener("keydown",function(ne){if(!ne.defaultPrevented){var fe=ne.which||ne.keyCode,ge=(Y.bindings[fe]||[]).filter(function(Ve){return W.match(ne,Ve)});if(ge.length!==0){var _e=Y.quill.getSelection();if(!(_e==null||!Y.quill.hasFocus())){var Pe=Y.quill.getLine(_e.index),De=s(Pe,2),wt=De[0],We=De[1],te=Y.quill.getLeaf(_e.index),J=s(te,2),le=J[0],ae=J[1],ee=_e.length===0?[le,ae]:Y.quill.getLeaf(_e.index+_e.length),Ee=s(ee,2),Se=Ee[0],Ie=Ee[1],Mt=le instanceof E.default.Text?le.value().slice(0,ae):"",En=Se instanceof E.default.Text?Se.value().slice(Ie):"",$e={collapsed:_e.length===0,empty:_e.length===0&&wt.length()<=1,format:Y.quill.getFormat(_e),offset:We,prefix:Mt,suffix:En},mo=ge.some(function(Ve){if(Ve.collapsed!=null&&Ve.collapsed!==$e.collapsed||Ve.empty!=null&&Ve.empty!==$e.empty||Ve.offset!=null&&Ve.offset!==$e.offset)return!1;if(Array.isArray(Ve.format)){if(Ve.format.every(function(Gt){return $e.format[Gt]==null}))return!1}else if(o(Ve.format)==="object"&&!Object.keys(Ve.format).every(function(Gt){return Ve.format[Gt]===!0?$e.format[Gt]!=null:Ve.format[Gt]===!1?$e.format[Gt]==null:(0,f.default)(Ve.format[Gt],$e.format[Gt])}))return!1;return Ve.prefix!=null&&!Ve.prefix.test($e.prefix)||Ve.suffix!=null&&!Ve.suffix.test($e.suffix)?!1:Ve.handler.call(Y,_e,$e)!==!0});mo&&ne.preventDefault()}}}})}}]),W}(D.default);K.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},K.DEFAULTS={bindings:{bold:Q("bold"),italic:Q("italic"),underline:Q("underline"),indent:{key:K.keys.TAB,format:["blockquote","indent","list"],handler:function(W,X){if(X.collapsed&&X.offset!==0)return!0;this.quill.format("indent","+1",b.default.sources.USER)}},outdent:{key:K.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(W,X){if(X.collapsed&&X.offset!==0)return!0;this.quill.format("indent","-1",b.default.sources.USER)}},"outdent backspace":{key:K.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(W,X){X.format.indent!=null?this.quill.format("indent","-1",b.default.sources.USER):X.format.list!=null&&this.quill.format("list",!1,b.default.sources.USER)}},"indent code-block":U(!0),"outdent code-block":U(!1),"remove tab":{key:K.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(W){this.quill.deleteText(W.index-1,1,b.default.sources.USER)}},tab:{key:K.keys.TAB,handler:function(W){this.quill.history.cutoff();var X=new y.default().retain(W.index).delete(W.length).insert("	");this.quill.updateContents(X,b.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(W.index+1,b.default.sources.SILENT)}},"list empty enter":{key:K.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(W,X){this.quill.format("list",!1,b.default.sources.USER),X.format.indent&&this.quill.format("indent",!1,b.default.sources.USER)}},"checklist enter":{key:K.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(W){var X=this.quill.getLine(W.index),Y=s(X,2),ne=Y[0],fe=Y[1],ge=(0,h.default)({},ne.formats(),{list:"checked"}),_e=new y.default().retain(W.index).insert(`
`,ge).retain(ne.length()-fe-1).retain(1,{list:"unchecked"});this.quill.updateContents(_e,b.default.sources.USER),this.quill.setSelection(W.index+1,b.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:K.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(W,X){var Y=this.quill.getLine(W.index),ne=s(Y,2),fe=ne[0],ge=ne[1],_e=new y.default().retain(W.index).insert(`
`,X.format).retain(fe.length()-ge-1).retain(1,{header:null});this.quill.updateContents(_e,b.default.sources.USER),this.quill.setSelection(W.index+1,b.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(W,X){var Y=X.prefix.length,ne=this.quill.getLine(W.index),fe=s(ne,2),ge=fe[0],_e=fe[1];if(_e>Y)return!0;var Pe=void 0;switch(X.prefix.trim()){case"[]":case"[ ]":Pe="unchecked";break;case"[x]":Pe="checked";break;case"-":case"*":Pe="bullet";break;default:Pe="ordered"}this.quill.insertText(W.index," ",b.default.sources.USER),this.quill.history.cutoff();var De=new y.default().retain(W.index-_e).delete(Y+1).retain(ge.length()-2-_e).retain(1,{list:Pe});this.quill.updateContents(De,b.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(W.index-Y,b.default.sources.SILENT)}},"code exit":{key:K.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(W){var X=this.quill.getLine(W.index),Y=s(X,2),ne=Y[0],fe=Y[1],ge=new y.default().retain(W.index+ne.length()-fe-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ge,b.default.sources.USER)}},"embed left":G(K.keys.LEFT,!1),"embed left shift":G(K.keys.LEFT,!0),"embed right":G(K.keys.RIGHT,!1),"embed right shift":G(K.keys.RIGHT,!0)}};function G(V,W){var X,Y=V===K.keys.LEFT?"prefix":"suffix";return X={key:V,shiftKey:W,altKey:null},P(X,Y,/^$/),P(X,"handler",function(fe){var ge=fe.index;V===K.keys.RIGHT&&(ge+=fe.length+1);var _e=this.quill.getLeaf(ge),Pe=s(_e,1),De=Pe[0];return De instanceof E.default.Embed?(V===K.keys.LEFT?W?this.quill.setSelection(fe.index-1,fe.length+1,b.default.sources.USER):this.quill.setSelection(fe.index-1,b.default.sources.USER):W?this.quill.setSelection(fe.index,fe.length+1,b.default.sources.USER):this.quill.setSelection(fe.index+fe.length+1,b.default.sources.USER),!1):!0}),X}function q(V,W){if(!(V.index===0||this.quill.getLength()<=1)){var X=this.quill.getLine(V.index),Y=s(X,1),ne=Y[0],fe={};if(W.offset===0){var ge=this.quill.getLine(V.index-1),_e=s(ge,1),Pe=_e[0];if(Pe!=null&&Pe.length()>1){var De=ne.formats(),wt=this.quill.getFormat(V.index-1,1);fe=g.default.attributes.diff(De,wt)||{}}}var We=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(W.prefix)?2:1;this.quill.deleteText(V.index-We,We,b.default.sources.USER),Object.keys(fe).length>0&&this.quill.formatLine(V.index-We,We,fe,b.default.sources.USER),this.quill.focus()}}function L(V,W){var X=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(W.suffix)?2:1;if(!(V.index>=this.quill.getLength()-X)){var Y={},ne=0,fe=this.quill.getLine(V.index),ge=s(fe,1),_e=ge[0];if(W.offset>=_e.length()-1){var Pe=this.quill.getLine(V.index+1),De=s(Pe,1),wt=De[0];if(wt){var We=_e.formats(),te=this.quill.getFormat(V.index,1);Y=g.default.attributes.diff(We,te)||{},ne=wt.length()}}this.quill.deleteText(V.index,X,b.default.sources.USER),Object.keys(Y).length>0&&this.quill.formatLine(V.index+ne-1,X,Y,b.default.sources.USER)}}function x(V){var W=this.quill.getLines(V),X={};if(W.length>1){var Y=W[0].formats(),ne=W[W.length-1].formats();X=g.default.attributes.diff(ne,Y)||{}}this.quill.deleteText(V,b.default.sources.USER),Object.keys(X).length>0&&this.quill.formatLine(V.index,1,X,b.default.sources.USER),this.quill.setSelection(V.index,b.default.sources.SILENT),this.quill.focus()}function F(V,W){var X=this;V.length>0&&this.quill.scroll.deleteAt(V.index,V.length);var Y=Object.keys(W.format).reduce(function(ne,fe){return E.default.query(fe,E.default.Scope.BLOCK)&&!Array.isArray(W.format[fe])&&(ne[fe]=W.format[fe]),ne},{});this.quill.insertText(V.index,`
`,Y,b.default.sources.USER),this.quill.setSelection(V.index+1,b.default.sources.SILENT),this.quill.focus(),Object.keys(W.format).forEach(function(ne){Y[ne]==null&&(Array.isArray(W.format[ne])||ne!=="link"&&X.quill.format(ne,W.format[ne],b.default.sources.USER))})}function U(V){return{key:K.keys.TAB,shiftKey:!V,format:{"code-block":!0},handler:function(X){var Y=E.default.query("code-block"),ne=X.index,fe=X.length,ge=this.quill.scroll.descendant(Y,ne),_e=s(ge,2),Pe=_e[0],De=_e[1];if(Pe!=null){var wt=this.quill.getIndex(Pe),We=Pe.newlineIndex(De,!0)+1,te=Pe.newlineIndex(wt+De+fe),J=Pe.domNode.textContent.slice(We,te).split(`
`);De=0,J.forEach(function(le,ae){V?(Pe.insertAt(We+De,Y.TAB),De+=Y.TAB.length,ae===0?ne+=Y.TAB.length:fe+=Y.TAB.length):le.startsWith(Y.TAB)&&(Pe.deleteAt(We+De,Y.TAB.length),De-=Y.TAB.length,ae===0?ne-=Y.TAB.length:fe-=Y.TAB.length),De+=le.length+1}),this.quill.update(b.default.sources.USER),this.quill.setSelection(ne,fe,b.default.sources.SILENT)}}}}function Q(V){return{key:V[0].toUpperCase(),shortKey:!0,handler:function(X,Y){this.quill.format(V,!Y.format[V],b.default.sources.USER)}}}function M(V){if(typeof V=="string"||typeof V=="number")return M({key:V});if((typeof V>"u"?"undefined":o(V))==="object"&&(V=(0,u.default)(V,!1)),typeof V.key=="string")if(K.keys[V.key.toUpperCase()]!=null)V.key=K.keys[V.key.toUpperCase()];else if(V.key.length===1)V.key=V.key.toUpperCase().charCodeAt(0);else return null;return V.shortKey&&(V[H]=V.shortKey,delete V.shortKey),V}r.default=K,r.SHORTKEY=H},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(p,E){var v=[],b=!0,k=!1,I=void 0;try{for(var O=p[Symbol.iterator](),D;!(b=(D=O.next()).done)&&(v.push(D.value),!(E&&v.length===E));b=!0);}catch(C){k=!0,I=C}finally{try{!b&&O.return&&O.return()}finally{if(k)throw I}}return v}return function(p,E){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return g(p,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function g(p,E,v){p===null&&(p=Function.prototype);var b=Object.getOwnPropertyDescriptor(p,E);if(b===void 0){var k=Object.getPrototypeOf(p);return k===null?void 0:g(k,E,v)}else{if("value"in b)return b.value;var I=b.get;return I===void 0?void 0:I.call(v)}},a=function(){function g(p,E){for(var v=0;v<E.length;v++){var b=E[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(p,b.key,b)}}return function(p,E,v){return E&&g(p.prototype,E),v&&g(p,v),p}}(),l=i(0),u=d(l),c=i(7),f=d(c);function d(g){return g&&g.__esModule?g:{default:g}}function h(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function w(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function y(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var _=function(g){y(p,g),a(p,null,[{key:"value",value:function(){}}]);function p(E,v){h(this,p);var b=w(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,E));return b.selection=v,b.textNode=document.createTextNode(p.CONTENTS),b.domNode.appendChild(b.textNode),b._length=0,b}return a(p,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(v,b){if(this._length!==0)return s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,v,b);for(var k=this,I=0;k!=null&&k.statics.scope!==u.default.Scope.BLOCK_BLOT;)I+=k.offset(k.parent),k=k.parent;k!=null&&(this._length=p.CONTENTS.length,k.optimize(),k.formatAt(I,p.CONTENTS.length,v,b),this._length=0)}},{key:"index",value:function(v,b){return v===this.textNode?0:s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,v,b)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var v=this.textNode,b=this.selection.getNativeRange(),k=void 0,I=void 0,O=void 0;if(b!=null&&b.start.node===v&&b.end.node===v){var D=[v,b.start.offset,b.end.offset];k=D[0],I=D[1],O=D[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==p.CONTENTS){var C=this.textNode.data.split(p.CONTENTS).join("");this.next instanceof f.default?(k=this.next.domNode,this.next.insertAt(0,C),this.textNode.data=p.CONTENTS):(this.textNode.data=C,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(p.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),I!=null){var P=[I,O].map(function(N){return Math.max(0,Math.min(k.data.length,N-1))}),R=o(P,2);return I=R[0],O=R[1],{startNode:k,startOffset:I,endNode:k,endOffset:O}}}}},{key:"update",value:function(v,b){var k=this;if(v.some(function(O){return O.type==="characterData"&&O.target===k.textNode})){var I=this.restore();I&&(b.range=I)}}},{key:"value",value:function(){return""}}]),p}(u.default.Embed);_.blotName="cursor",_.className="ql-cursor",_.tagName="span",_.CONTENTS="\uFEFF",r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=u(o),a=i(4),l=u(a);function u(w){return w&&w.__esModule?w:{default:w}}function c(w,y){if(!(w instanceof y))throw new TypeError("Cannot call a class as a function")}function f(w,y){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:w}function d(w,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);w.prototype=Object.create(y&&y.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(w,y):w.__proto__=y)}var h=function(w){d(y,w);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(s.default.Container);h.allowedChildren=[l.default,a.BlockEmbed,h],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function _(g,p){for(var E=0;E<p.length;E++){var v=p[E];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}return function(g,p,E){return p&&_(g.prototype,p),E&&_(g,E),g}}(),s=function _(g,p,E){g===null&&(g=Function.prototype);var v=Object.getOwnPropertyDescriptor(g,p);if(v===void 0){var b=Object.getPrototypeOf(g);return b===null?void 0:_(b,p,E)}else{if("value"in v)return v.value;var k=v.get;return k===void 0?void 0:k.call(E)}},a=i(0),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function c(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}function f(_,g){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:_}function d(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(_,g):_.__proto__=g)}var h=function(_){d(g,_);function g(){return c(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"value",value:function(E){var v=s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,E);return v.startsWith("rgb(")?(v=v.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+v.split(",").map(function(b){return("00"+parseInt(b).toString(16)).slice(-2)}).join("")):v}}]),g}(l.default.Attributor.Style),w=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),y=new h("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=h,r.ColorClass=w,r.ColorStyle=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function y(_,g){for(var p=0;p<g.length;p++){var E=g[p];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}return function(_,g,p){return g&&y(_.prototype,g),p&&y(_,p),_}}(),s=function y(_,g,p){_===null&&(_=Function.prototype);var E=Object.getOwnPropertyDescriptor(_,g);if(E===void 0){var v=Object.getPrototypeOf(_);return v===null?void 0:y(v,g,p)}else{if("value"in E)return E.value;var b=E.get;return b===void 0?void 0:b.call(p)}},a=i(6),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function f(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function d(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var h=function(y){d(_,y);function _(){return c(this,_),f(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"format",value:function(p,E){if(p!==this.statics.blotName||!E)return s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,p,E);E=this.constructor.sanitize(E),this.domNode.setAttribute("href",E)}}],[{key:"create",value:function(p){var E=s(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,p);return p=this.sanitize(p),E.setAttribute("href",p),E.setAttribute("rel","noopener noreferrer"),E.setAttribute("target","_blank"),E}},{key:"formats",value:function(p){return p.getAttribute("href")}},{key:"sanitize",value:function(p){return w(p,this.PROTOCOL_WHITELIST)?p:this.SANITIZED_URL}}]),_}(l.default);h.blotName="link",h.tagName="A",h.SANITIZED_URL="about:blank",h.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function w(y,_){var g=document.createElement("a");g.href=y;var p=g.href.slice(0,g.href.indexOf(":"));return _.indexOf(p)>-1}r.default=h,r.sanitize=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},s=function(){function _(g,p){for(var E=0;E<p.length;E++){var v=p[E];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}return function(g,p,E){return p&&_(g.prototype,p),E&&_(g,E),g}}(),a=i(23),l=f(a),u=i(107),c=f(u);function f(_){return _&&_.__esModule?_:{default:_}}function d(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}var h=0;function w(_,g){_.setAttribute(g,_.getAttribute(g)!=="true")}var y=function(){function _(g){var p=this;d(this,_),this.select=g,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){p.togglePicker()}),this.label.addEventListener("keydown",function(E){switch(E.keyCode){case l.default.keys.ENTER:p.togglePicker();break;case l.default.keys.ESCAPE:p.escape(),E.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(_,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),w(this.label,"aria-expanded"),w(this.options,"aria-hidden")}},{key:"buildItem",value:function(p){var E=this,v=document.createElement("span");return v.tabIndex="0",v.setAttribute("role","button"),v.classList.add("ql-picker-item"),p.hasAttribute("value")&&v.setAttribute("data-value",p.getAttribute("value")),p.textContent&&v.setAttribute("data-label",p.textContent),v.addEventListener("click",function(){E.selectItem(v,!0)}),v.addEventListener("keydown",function(b){switch(b.keyCode){case l.default.keys.ENTER:E.selectItem(v,!0),b.preventDefault();break;case l.default.keys.ESCAPE:E.escape(),b.preventDefault();break}}),v}},{key:"buildLabel",value:function(){var p=document.createElement("span");return p.classList.add("ql-picker-label"),p.innerHTML=c.default,p.tabIndex="0",p.setAttribute("role","button"),p.setAttribute("aria-expanded","false"),this.container.appendChild(p),p}},{key:"buildOptions",value:function(){var p=this,E=document.createElement("span");E.classList.add("ql-picker-options"),E.setAttribute("aria-hidden","true"),E.tabIndex="-1",E.id="ql-picker-options-"+h,h+=1,this.label.setAttribute("aria-controls",E.id),this.options=E,[].slice.call(this.select.options).forEach(function(v){var b=p.buildItem(v);E.appendChild(b),v.selected===!0&&p.selectItem(b)}),this.container.appendChild(E)}},{key:"buildPicker",value:function(){var p=this;[].slice.call(this.select.attributes).forEach(function(E){p.container.setAttribute(E.name,E.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var p=this;this.close(),setTimeout(function(){return p.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(p){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v=this.container.querySelector(".ql-selected");if(p!==v&&(v!=null&&v.classList.remove("ql-selected"),p!=null&&(p.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(p.parentNode.children,p),p.hasAttribute("data-value")?this.label.setAttribute("data-value",p.getAttribute("data-value")):this.label.removeAttribute("data-value"),p.hasAttribute("data-label")?this.label.setAttribute("data-label",p.getAttribute("data-label")):this.label.removeAttribute("data-label"),E))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var b=document.createEvent("Event");b.initEvent("change",!0,!0),this.select.dispatchEvent(b)}this.close()}}},{key:"update",value:function(){var p=void 0;if(this.select.selectedIndex>-1){var E=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];p=this.select.options[this.select.selectedIndex],this.selectItem(E)}else this.selectItem(null);var v=p!=null&&p!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",v)}}]),_}();r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=B(o),a=i(5),l=B(a),u=i(4),c=B(u),f=i(16),d=B(f),h=i(25),w=B(h),y=i(24),_=B(y),g=i(35),p=B(g),E=i(6),v=B(E),b=i(22),k=B(b),I=i(7),O=B(I),D=i(55),C=B(D),P=i(42),R=B(P),N=i(23),j=B(N);function B(H){return H&&H.__esModule?H:{default:H}}l.default.register({"blots/block":c.default,"blots/block/embed":u.BlockEmbed,"blots/break":d.default,"blots/container":w.default,"blots/cursor":_.default,"blots/embed":p.default,"blots/inline":v.default,"blots/scroll":k.default,"blots/text":O.default,"modules/clipboard":C.default,"modules/history":R.default,"modules/keyboard":j.default}),s.default.register(c.default,d.default,_.default,v.default,k.default,O.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l){this.domNode=l,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return o.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},a.prototype.deleteAt=function(l,u){var c=this.isolate(l,u);c.remove()},a.prototype.formatAt=function(l,u,c,f){var d=this.isolate(l,u);if(o.query(c,o.Scope.BLOT)!=null&&f)d.wrap(c,f);else if(o.query(c,o.Scope.ATTRIBUTE)!=null){var h=o.create(this.statics.scope);d.wrap(h),h.format(c,f)}},a.prototype.insertAt=function(l,u,c){var f=c==null?o.create("text",u):o.create(u,c),d=this.split(l);this.parent.insertBefore(f,d)},a.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var c=null;l.children.insertBefore(this,u),u!=null&&(c=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=c)&&l.domNode.insertBefore(this.domNode,c),this.parent=l,this.attach()},a.prototype.isolate=function(l,u){var c=this.split(l);return c.split(u),c},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,u){var c=typeof l=="string"?o.create(l,u):l;return c.replace(this),c},a.prototype.split=function(l,u){return l===0?this:this.next},a.prototype.update=function(l,u){},a.prototype.wrap=function(l,u){var c=typeof l=="string"?o.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},a.blotName="abstract",a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),s=i(32),a=i(33),l=i(1),u=function(){function c(f){this.attributes={},this.domNode=f,this.build()}return c.prototype.attribute=function(f,d){d?f.add(this.domNode,d)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},c.prototype.build=function(){var f=this;this.attributes={};var d=o.default.keys(this.domNode),h=s.default.keys(this.domNode),w=a.default.keys(this.domNode);d.concat(h).concat(w).forEach(function(y){var _=l.query(y,l.Scope.ATTRIBUTE);_ instanceof o.default&&(f.attributes[_.attrName]=_)})},c.prototype.copy=function(f){var d=this;Object.keys(this.attributes).forEach(function(h){var w=d.attributes[h].value(d.domNode);f.format(h,w)})},c.prototype.move=function(f){var d=this;this.copy(f),Object.keys(this.attributes).forEach(function(h){d.attributes[h].remove(d.domNode)}),this.attributes={}},c.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(d,h){return d[h]=f.attributes[h].value(f.domNode),d},{})},c}();r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u,c){var f=u.getAttribute("class")||"";return f.split(/\s+/).filter(function(d){return d.indexOf(c+"-")===0})}var l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},c.prototype.add=function(f,d){return this.canAdd(f,d)?(this.remove(f),f.classList.add(this.keyName+"-"+d),!0):!1},c.prototype.remove=function(f){var d=a(f,this.keyName);d.forEach(function(h){f.classList.remove(h)}),f.classList.length===0&&f.removeAttribute("class")},c.prototype.value=function(f){var d=a(f,this.keyName)[0]||"",h=d.slice(this.keyName.length+1);return this.canAdd(f,h)?h:""},c}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u){var c=u.split("-"),f=c.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return c[0]+f}var l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(d){var h=d.split(":");return h[0].trim()})},c.prototype.add=function(f,d){return this.canAdd(f,d)?(f.style[a(this.keyName)]=d,!0):!1},c.prototype.remove=function(f){f.style[a(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},c.prototype.value=function(f){var d=f.style[a(this.keyName)];return this.canAdd(f,d)?d:""},c}(s.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,c){for(var f=0;f<c.length;f++){var d=c[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,c,f){return c&&l(u.prototype,c),f&&l(u,f),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,c){s(this,l),this.quill=u,this.options=c,this.modules={}}return o(l,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(f){c.modules[f]==null&&c.addModule(f)})}},{key:"addModule",value:function(c){var f=this.quill.constructor.import("modules/"+c);return this.modules[c]=new f(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(p,E){for(var v=0;v<E.length;v++){var b=E[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(p,b.key,b)}}return function(p,E,v){return E&&g(p.prototype,E),v&&g(p,v),p}}(),s=function g(p,E,v){p===null&&(p=Function.prototype);var b=Object.getOwnPropertyDescriptor(p,E);if(b===void 0){var k=Object.getPrototypeOf(p);return k===null?void 0:g(k,E,v)}else{if("value"in b)return b.value;var I=b.get;return I===void 0?void 0:I.call(v)}},a=i(0),l=f(a),u=i(7),c=f(u);function f(g){return g&&g.__esModule?g:{default:g}}function d(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function h(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function w(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var y="\uFEFF",_=function(g){w(p,g);function p(E){d(this,p);var v=h(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,E));return v.contentNode=document.createElement("span"),v.contentNode.setAttribute("contenteditable",!1),[].slice.call(v.domNode.childNodes).forEach(function(b){v.contentNode.appendChild(b)}),v.leftGuard=document.createTextNode(y),v.rightGuard=document.createTextNode(y),v.domNode.appendChild(v.leftGuard),v.domNode.appendChild(v.contentNode),v.domNode.appendChild(v.rightGuard),v}return o(p,[{key:"index",value:function(v,b){return v===this.leftGuard?0:v===this.rightGuard?1:s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,v,b)}},{key:"restore",value:function(v){var b=void 0,k=void 0,I=v.data.split(y).join("");if(v===this.leftGuard)if(this.prev instanceof c.default){var O=this.prev.length();this.prev.insertAt(O,I),b={startNode:this.prev.domNode,startOffset:O+I.length}}else k=document.createTextNode(I),this.parent.insertBefore(l.default.create(k),this),b={startNode:k,startOffset:I.length};else v===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,I),b={startNode:this.next.domNode,startOffset:I.length}):(k=document.createTextNode(I),this.parent.insertBefore(l.default.create(k),this.next),b={startNode:k,startOffset:I.length}));return v.data=y,b}},{key:"update",value:function(v,b){var k=this;v.forEach(function(I){if(I.type==="characterData"&&(I.target===k.leftGuard||I.target===k.rightGuard)){var O=k.restore(I.target);O&&(b.range=O)}})}}]),p}(l.default.Embed);r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new s.default.Attributor.Attribute("align","align",l),c=new s.default.Attributor.Class("align","ql-align",l),f=new s.default.Attributor.Style("align","text-align",l);r.AlignAttribute=u,r.AlignClass=c,r.AlignStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=i(0),s=l(o),a=i(26);function l(f){return f&&f.__esModule?f:{default:f}}var u=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),c=new a.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});r.BackgroundClass=u,r.BackgroundStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},u=new s.default.Attributor.Attribute("direction","dir",l),c=new s.default.Attributor.Class("direction","ql-direction",l),f=new s.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=u,r.DirectionClass=c,r.DirectionStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function g(p,E){for(var v=0;v<E.length;v++){var b=E[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(p,b.key,b)}}return function(p,E,v){return E&&g(p.prototype,E),v&&g(p,v),p}}(),s=function g(p,E,v){p===null&&(p=Function.prototype);var b=Object.getOwnPropertyDescriptor(p,E);if(b===void 0){var k=Object.getPrototypeOf(p);return k===null?void 0:g(k,E,v)}else{if("value"in b)return b.value;var I=b.get;return I===void 0?void 0:I.call(v)}},a=i(0),l=u(a);function u(g){return g&&g.__esModule?g:{default:g}}function c(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function f(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function d(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var h={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},w=new l.default.Attributor.Class("font","ql-font",h),y=function(g){d(p,g);function p(){return c(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"value",value:function(v){return s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,v).replace(/["']/g,"")}}]),p}(l.default.Attributor.Style),_=new y("font","font-family",h);r.FontStyle=_,r.FontClass=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=i(0),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=u},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function E(v,b){for(var k=0;k<b.length;k++){var I=b[k];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(v,I.key,I)}}return function(v,b,k){return b&&E(v.prototype,b),k&&E(v,k),v}}(),s=i(0),a=d(s),l=i(5),u=d(l),c=i(9),f=d(c);function d(E){return E&&E.__esModule?E:{default:E}}function h(E,v){if(!(E instanceof v))throw new TypeError("Cannot call a class as a function")}function w(E,v){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:E}function y(E,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);E.prototype=Object.create(v&&v.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(E,v):E.__proto__=v)}var _=function(E){y(v,E);function v(b,k){h(this,v);var I=w(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,b,k));return I.lastRecorded=0,I.ignoreChange=!1,I.clear(),I.quill.on(u.default.events.EDITOR_CHANGE,function(O,D,C,P){O!==u.default.events.TEXT_CHANGE||I.ignoreChange||(!I.options.userOnly||P===u.default.sources.USER?I.record(D,C):I.transform(D))}),I.quill.keyboard.addBinding({key:"Z",shortKey:!0},I.undo.bind(I)),I.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},I.redo.bind(I)),/Win/i.test(navigator.platform)&&I.quill.keyboard.addBinding({key:"Y",shortKey:!0},I.redo.bind(I)),I}return o(v,[{key:"change",value:function(k,I){if(this.stack[k].length!==0){var O=this.stack[k].pop();this.stack[I].push(O),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(O[k],u.default.sources.USER),this.ignoreChange=!1;var D=p(O[k]);this.quill.setSelection(D)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(k,I){if(k.ops.length!==0){this.stack.redo=[];var O=this.quill.getContents().diff(I),D=Date.now();if(this.lastRecorded+this.options.delay>D&&this.stack.undo.length>0){var C=this.stack.undo.pop();O=O.compose(C.undo),k=C.redo.compose(k)}else this.lastRecorded=D;this.stack.undo.push({redo:k,undo:O}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(k){this.stack.undo.forEach(function(I){I.undo=k.transform(I.undo,!0),I.redo=k.transform(I.redo,!0)}),this.stack.redo.forEach(function(I){I.undo=k.transform(I.undo,!0),I.redo=k.transform(I.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),v}(f.default);_.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function g(E){var v=E.ops[E.ops.length-1];return v==null?!1:v.insert!=null?typeof v.insert=="string"&&v.insert.endsWith(`
`):v.attributes!=null?Object.keys(v.attributes).some(function(b){return a.default.query(b,a.default.Scope.BLOCK)!=null}):!1}function p(E){var v=E.reduce(function(k,I){return k+=I.delete||0,k},0),b=E.length()-v;return g(E)&&(b-=1),b}r.default=_,r.getLastChangeIndex=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function F(U,Q){for(var M=0;M<Q.length;M++){var V=Q[M];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(U,V.key,V)}}return function(U,Q,M){return Q&&F(U.prototype,Q),M&&F(U,M),U}}(),s=function F(U,Q,M){U===null&&(U=Function.prototype);var V=Object.getOwnPropertyDescriptor(U,Q);if(V===void 0){var W=Object.getPrototypeOf(U);return W===null?void 0:F(W,Q,M)}else{if("value"in V)return V.value;var X=V.get;return X===void 0?void 0:X.call(M)}},a=i(3),l=D(a),u=i(2),c=D(u),f=i(8),d=D(f),h=i(23),w=D(h),y=i(34),_=D(y),g=i(59),p=D(g),E=i(60),v=D(E),b=i(28),k=D(b),I=i(61),O=D(I);function D(F){return F&&F.__esModule?F:{default:F}}function C(F,U){if(!(F instanceof U))throw new TypeError("Cannot call a class as a function")}function P(F,U){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:F}function R(F,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);F.prototype=Object.create(U&&U.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(F,U):F.__proto__=U)}var N=[!1,"center","right","justify"],j=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],B=[!1,"serif","monospace"],H=["1","2","3",!1],K=["small",!1,"large","huge"],G=function(F){R(U,F);function U(Q,M){C(this,U);var V=P(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,Q,M)),W=function X(Y){if(!document.body.contains(Q.root))return document.body.removeEventListener("click",X);V.tooltip!=null&&!V.tooltip.root.contains(Y.target)&&document.activeElement!==V.tooltip.textbox&&!V.quill.hasFocus()&&V.tooltip.hide(),V.pickers!=null&&V.pickers.forEach(function(ne){ne.container.contains(Y.target)||ne.close()})};return Q.emitter.listenDOM("click",document.body,W),V}return o(U,[{key:"addModule",value:function(M){var V=s(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"addModule",this).call(this,M);return M==="toolbar"&&this.extendToolbar(V),V}},{key:"buildButtons",value:function(M,V){M.forEach(function(W){var X=W.getAttribute("class")||"";X.split(/\s+/).forEach(function(Y){if(Y.startsWith("ql-")&&(Y=Y.slice(3),V[Y]!=null))if(Y==="direction")W.innerHTML=V[Y][""]+V[Y].rtl;else if(typeof V[Y]=="string")W.innerHTML=V[Y];else{var ne=W.value||"";ne!=null&&V[Y][ne]&&(W.innerHTML=V[Y][ne])}})})}},{key:"buildPickers",value:function(M,V){var W=this;this.pickers=M.map(function(Y){if(Y.classList.contains("ql-align"))return Y.querySelector("option")==null&&x(Y,N),new v.default(Y,V.align);if(Y.classList.contains("ql-background")||Y.classList.contains("ql-color")){var ne=Y.classList.contains("ql-background")?"background":"color";return Y.querySelector("option")==null&&x(Y,j,ne==="background"?"#ffffff":"#000000"),new p.default(Y,V[ne])}else return Y.querySelector("option")==null&&(Y.classList.contains("ql-font")?x(Y,B):Y.classList.contains("ql-header")?x(Y,H):Y.classList.contains("ql-size")&&x(Y,K)),new k.default(Y)});var X=function(){W.pickers.forEach(function(ne){ne.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,X)}}]),U}(_.default);G.DEFAULTS=(0,l.default)(!0,{},_.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var U=this,Q=this.container.querySelector("input.ql-image[type=file]");Q==null&&(Q=document.createElement("input"),Q.setAttribute("type","file"),Q.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),Q.classList.add("ql-image"),Q.addEventListener("change",function(){if(Q.files!=null&&Q.files[0]!=null){var M=new FileReader;M.onload=function(V){var W=U.quill.getSelection(!0);U.quill.updateContents(new c.default().retain(W.index).delete(W.length).insert({image:V.target.result}),d.default.sources.USER),U.quill.setSelection(W.index+1,d.default.sources.SILENT),Q.value=""},M.readAsDataURL(Q.files[0])}}),this.container.appendChild(Q)),Q.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var q=function(F){R(U,F);function U(Q,M){C(this,U);var V=P(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,Q,M));return V.textbox=V.root.querySelector('input[type="text"]'),V.listen(),V}return o(U,[{key:"listen",value:function(){var M=this;this.textbox.addEventListener("keydown",function(V){w.default.match(V,"enter")?(M.save(),V.preventDefault()):w.default.match(V,"escape")&&(M.cancel(),V.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),V!=null?this.textbox.value=V:M!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+M)||""),this.root.setAttribute("data-mode",M)}},{key:"restoreFocus",value:function(){var M=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=M}},{key:"save",value:function(){var M=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var V=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",M,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",M,d.default.sources.USER)),this.quill.root.scrollTop=V;break}case"video":M=L(M);case"formula":{if(!M)break;var W=this.quill.getSelection(!0);if(W!=null){var X=W.index+W.length;this.quill.insertEmbed(X,this.root.getAttribute("data-mode"),M,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(X+1," ",d.default.sources.USER),this.quill.setSelection(X+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),U}(O.default);function L(F){var U=F.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||F.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return U?(U[1]||"https")+"://www.youtube.com/embed/"+U[2]+"?showinfo=0":(U=F.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(U[1]||"https")+"://player.vimeo.com/video/"+U[2]+"/":F}function x(F,U){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;U.forEach(function(M){var V=document.createElement("option");M===Q?V.setAttribute("selected","selected"):V.setAttribute("value",M),F.appendChild(V)})}r.BaseTooltip=q,r.default=G},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},s.prototype.contains=function(a){for(var l,u=this.iterator();l=u();)if(l===a)return!0;return!1},s.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},s.prototype.offset=function(a){for(var l=0,u=this.head;u!=null;){if(u===a)return l;l+=u.length(),u=u.next}return-1},s.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},s.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},s.prototype.find=function(a,l){l===void 0&&(l=!1);for(var u,c=this.iterator();u=c();){var f=u.length();if(a<f||l&&a===f&&(u.next==null||u.next.length()!==0))return[u,a];a-=f}return[null,0]},s.prototype.forEach=function(a){for(var l,u=this.iterator();l=u();)a(l)},s.prototype.forEachAt=function(a,l,u){if(!(l<=0))for(var c=this.find(a),f=c[0],d=c[1],h,w=a-d,y=this.iterator(f);(h=y())&&w<a+l;){var _=h.length();a>w?u(h,a-w,Math.min(l,w+_-a)):u(h,0,Math.min(_,a+l-w)),w+=_}},s.prototype.map=function(a){return this.reduce(function(l,u){return l.push(a(u)),l},[])},s.prototype.reduce=function(a,l){for(var u,c=this.iterator();u=c();)l=a(l,u);return l},s}();r.default=o},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var w in h)h.hasOwnProperty(w)&&(d[w]=h[w])};return function(d,h){f(d,h);function w(){this.constructor=d}d.prototype=h===null?Object.create(h):(w.prototype=h.prototype,new w)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,c=function(f){o(d,f);function d(h){var w=f.call(this,h)||this;return w.scroll=w,w.observer=new MutationObserver(function(y){w.update(y)}),w.observer.observe(w.domNode,l),w.attach(),w}return d.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(h,w){this.update(),h===0&&w===this.length()?this.children.forEach(function(y){y.remove()}):f.prototype.deleteAt.call(this,h,w)},d.prototype.formatAt=function(h,w,y,_){this.update(),f.prototype.formatAt.call(this,h,w,y,_)},d.prototype.insertAt=function(h,w,y){this.update(),f.prototype.insertAt.call(this,h,w,y)},d.prototype.optimize=function(h,w){var y=this;h===void 0&&(h=[]),w===void 0&&(w={}),f.prototype.optimize.call(this,w);for(var _=[].slice.call(this.observer.takeRecords());_.length>0;)h.push(_.pop());for(var g=function(b,k){k===void 0&&(k=!0),!(b==null||b===y)&&b.domNode.parentNode!=null&&(b.domNode[a.DATA_KEY].mutations==null&&(b.domNode[a.DATA_KEY].mutations=[]),k&&g(b.parent))},p=function(b){b.domNode[a.DATA_KEY]==null||b.domNode[a.DATA_KEY].mutations==null||(b instanceof s.default&&b.children.forEach(p),b.optimize(w))},E=h,v=0;E.length>0;v+=1){if(v>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(E.forEach(function(b){var k=a.find(b.target,!0);k!=null&&(k.domNode===b.target&&(b.type==="childList"?(g(a.find(b.previousSibling,!1)),[].forEach.call(b.addedNodes,function(I){var O=a.find(I,!1);g(O,!1),O instanceof s.default&&O.children.forEach(function(D){g(D,!1)})})):b.type==="attributes"&&g(k.prev)),g(k))}),this.children.forEach(p),E=[].slice.call(this.observer.takeRecords()),_=E.slice();_.length>0;)h.push(_.pop())}},d.prototype.update=function(h,w){var y=this;w===void 0&&(w={}),h=h||this.observer.takeRecords(),h.map(function(_){var g=a.find(_.target,!0);return g==null?null:g.domNode[a.DATA_KEY].mutations==null?(g.domNode[a.DATA_KEY].mutations=[_],g):(g.domNode[a.DATA_KEY].mutations.push(_),null)}).forEach(function(_){_==null||_===y||_.domNode[a.DATA_KEY]==null||_.update(_.domNode[a.DATA_KEY].mutations||[],w)}),this.domNode[a.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,w),this.optimize(h,w)},d.blotName="scroll",d.defaultChild="block",d.scope=a.Scope.BLOCK_BLOT,d.tagName="DIV",d}(s.default);r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var h in d)d.hasOwnProperty(h)&&(f[h]=d[h])};return function(f,d){c(f,d);function h(){this.constructor=f}f.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1);function l(c,f){if(Object.keys(c).length!==Object.keys(f).length)return!1;for(var d in c)if(c[d]!==f[d])return!1;return!0}var u=function(c){o(f,c);function f(){return c!==null&&c.apply(this,arguments)||this}return f.formats=function(d){if(d.tagName!==f.tagName)return c.formats.call(this,d)},f.prototype.format=function(d,h){var w=this;d===this.statics.blotName&&!h?(this.children.forEach(function(y){y instanceof s.default||(y=y.wrap(f.blotName,!0)),w.attributes.copy(y)}),this.unwrap()):c.prototype.format.call(this,d,h)},f.prototype.formatAt=function(d,h,w,y){if(this.formats()[w]!=null||a.query(w,a.Scope.ATTRIBUTE)){var _=this.isolate(d,h);_.format(w,y)}else c.prototype.formatAt.call(this,d,h,w,y)},f.prototype.optimize=function(d){c.prototype.optimize.call(this,d);var h=this.formats();if(Object.keys(h).length===0)return this.unwrap();var w=this.next;w instanceof f&&w.prev===this&&l(h,w.formats())&&(w.moveChildren(this),w.remove())},f.blotName="inline",f.scope=a.Scope.INLINE_BLOT,f.tagName="SPAN",f}(s.default);r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1),l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.formats=function(f){var d=a.query(c.blotName).tagName;if(f.tagName!==d)return u.formats.call(this,f)},c.prototype.format=function(f,d){a.query(f,a.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!d?this.replaceWith(c.blotName):u.prototype.format.call(this,f,d))},c.prototype.formatAt=function(f,d,h,w){a.query(h,a.Scope.BLOCK)!=null?this.format(h,w):u.prototype.formatAt.call(this,f,d,h,w)},c.prototype.insertAt=function(f,d,h){if(h==null||a.query(d,a.Scope.INLINE)!=null)u.prototype.insertAt.call(this,f,d,h);else{var w=this.split(f),y=a.create(d,h);w.parent.insertBefore(y,w)}},c.prototype.update=function(f,d){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,f,d)},c.blotName="block",c.scope=a.Scope.BLOCK_BLOT,c.tagName="P",c}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var f in c)c.hasOwnProperty(f)&&(u[f]=c[f])};return function(u,c){l(u,c);function f(){this.constructor=u}u.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=function(l){o(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(c){},u.prototype.format=function(c,f){l.prototype.formatAt.call(this,0,this.length(),c,f)},u.prototype.formatAt=function(c,f,d,h){c===0&&f===this.length()?this.format(d,h):l.prototype.formatAt.call(this,c,f,d,h)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(s.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=i(1),l=function(u){o(c,u);function c(f){var d=u.call(this,f)||this;return d.text=d.statics.value(d.domNode),d}return c.create=function(f){return document.createTextNode(f)},c.value=function(f){var d=f.data;return d.normalize&&(d=d.normalize()),d},c.prototype.deleteAt=function(f,d){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+d)},c.prototype.index=function(f,d){return this.domNode===f?d:-1},c.prototype.insertAt=function(f,d,h){h==null?(this.text=this.text.slice(0,f)+d+this.text.slice(f),this.domNode.data=this.text):u.prototype.insertAt.call(this,f,d,h)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(f){u.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(f,d){return[this.domNode,f]},c.prototype.split=function(f,d){if(d===void 0&&(d=!1),!d){if(f===0)return this;if(f===this.length())return this.next}var h=a.create(this.domNode.splitText(f));return this.parent.insertBefore(h,this.next),this.text=this.statics.value(this.domNode),h},c.prototype.update=function(f,d){var h=this;f.some(function(w){return w.type==="characterData"&&w.target===h.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=a.Scope.INLINE_BLOT,c}(s.default);r.default=l},function(n,r,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:s.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=a.length;var c=u.indexOf(a,l);return c!==-1&&c===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),c=u.length>>>0,f=arguments[1],d,h=0;h<c;h++)if(d=u[h],l.call(f,d,h,u))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,o=1,s=0;function a(v,b,k){if(v==b)return v?[[s,v]]:[];(k<0||v.length<k)&&(k=null);var I=f(v,b),O=v.substring(0,I);v=v.substring(I),b=b.substring(I),I=d(v,b);var D=v.substring(v.length-I);v=v.substring(0,v.length-I),b=b.substring(0,b.length-I);var C=l(v,b);return O&&C.unshift([s,O]),D&&C.push([s,D]),w(C),k!=null&&(C=g(C,k)),C=p(C),C}function l(v,b){var k;if(!v)return[[o,b]];if(!b)return[[i,v]];var I=v.length>b.length?v:b,O=v.length>b.length?b:v,D=I.indexOf(O);if(D!=-1)return k=[[o,I.substring(0,D)],[s,O],[o,I.substring(D+O.length)]],v.length>b.length&&(k[0][0]=k[2][0]=i),k;if(O.length==1)return[[i,v],[o,b]];var C=h(v,b);if(C){var P=C[0],R=C[1],N=C[2],j=C[3],B=C[4],H=a(P,N),K=a(R,j);return H.concat([[s,B]],K)}return u(v,b)}function u(v,b){for(var k=v.length,I=b.length,O=Math.ceil((k+I)/2),D=O,C=2*O,P=new Array(C),R=new Array(C),N=0;N<C;N++)P[N]=-1,R[N]=-1;P[D+1]=0,R[D+1]=0;for(var j=k-I,B=j%2!=0,H=0,K=0,G=0,q=0,L=0;L<O;L++){for(var x=-L+H;x<=L-K;x+=2){var F=D+x,U;x==-L||x!=L&&P[F-1]<P[F+1]?U=P[F+1]:U=P[F-1]+1;for(var Q=U-x;U<k&&Q<I&&v.charAt(U)==b.charAt(Q);)U++,Q++;if(P[F]=U,U>k)K+=2;else if(Q>I)H+=2;else if(B){var M=D+j-x;if(M>=0&&M<C&&R[M]!=-1){var V=k-R[M];if(U>=V)return c(v,b,U,Q)}}}for(var W=-L+G;W<=L-q;W+=2){var M=D+W,V;W==-L||W!=L&&R[M-1]<R[M+1]?V=R[M+1]:V=R[M-1]+1;for(var X=V-W;V<k&&X<I&&v.charAt(k-V-1)==b.charAt(I-X-1);)V++,X++;if(R[M]=V,V>k)q+=2;else if(X>I)G+=2;else if(!B){var F=D+j-W;if(F>=0&&F<C&&P[F]!=-1){var U=P[F],Q=D+U-F;if(V=k-V,U>=V)return c(v,b,U,Q)}}}}return[[i,v],[o,b]]}function c(v,b,k,I){var O=v.substring(0,k),D=b.substring(0,I),C=v.substring(k),P=b.substring(I),R=a(O,D),N=a(C,P);return R.concat(N)}function f(v,b){if(!v||!b||v.charAt(0)!=b.charAt(0))return 0;for(var k=0,I=Math.min(v.length,b.length),O=I,D=0;k<O;)v.substring(D,O)==b.substring(D,O)?(k=O,D=k):I=O,O=Math.floor((I-k)/2+k);return O}function d(v,b){if(!v||!b||v.charAt(v.length-1)!=b.charAt(b.length-1))return 0;for(var k=0,I=Math.min(v.length,b.length),O=I,D=0;k<O;)v.substring(v.length-O,v.length-D)==b.substring(b.length-O,b.length-D)?(k=O,D=k):I=O,O=Math.floor((I-k)/2+k);return O}function h(v,b){var k=v.length>b.length?v:b,I=v.length>b.length?b:v;if(k.length<4||I.length*2<k.length)return null;function O(K,G,q){for(var L=K.substring(q,q+Math.floor(K.length/4)),x=-1,F="",U,Q,M,V;(x=G.indexOf(L,x+1))!=-1;){var W=f(K.substring(q),G.substring(x)),X=d(K.substring(0,q),G.substring(0,x));F.length<X+W&&(F=G.substring(x-X,x)+G.substring(x,x+W),U=K.substring(0,q-X),Q=K.substring(q+W),M=G.substring(0,x-X),V=G.substring(x+W))}return F.length*2>=K.length?[U,Q,M,V,F]:null}var D=O(k,I,Math.ceil(k.length/4)),C=O(k,I,Math.ceil(k.length/2)),P;if(!D&&!C)return null;C?D?P=D[4].length>C[4].length?D:C:P=C:P=D;var R,N,j,B;v.length>b.length?(R=P[0],N=P[1],j=P[2],B=P[3]):(j=P[0],B=P[1],R=P[2],N=P[3]);var H=P[4];return[R,N,j,B,H]}function w(v){v.push([s,""]);for(var b=0,k=0,I=0,O="",D="",C;b<v.length;)switch(v[b][0]){case o:I++,D+=v[b][1],b++;break;case i:k++,O+=v[b][1],b++;break;case s:k+I>1?(k!==0&&I!==0&&(C=f(D,O),C!==0&&(b-k-I>0&&v[b-k-I-1][0]==s?v[b-k-I-1][1]+=D.substring(0,C):(v.splice(0,0,[s,D.substring(0,C)]),b++),D=D.substring(C),O=O.substring(C)),C=d(D,O),C!==0&&(v[b][1]=D.substring(D.length-C)+v[b][1],D=D.substring(0,D.length-C),O=O.substring(0,O.length-C))),k===0?v.splice(b-I,k+I,[o,D]):I===0?v.splice(b-k,k+I,[i,O]):v.splice(b-k-I,k+I,[i,O],[o,D]),b=b-k-I+(k?1:0)+(I?1:0)+1):b!==0&&v[b-1][0]==s?(v[b-1][1]+=v[b][1],v.splice(b,1)):b++,I=0,k=0,O="",D="";break}v[v.length-1][1]===""&&v.pop();var P=!1;for(b=1;b<v.length-1;)v[b-1][0]==s&&v[b+1][0]==s&&(v[b][1].substring(v[b][1].length-v[b-1][1].length)==v[b-1][1]?(v[b][1]=v[b-1][1]+v[b][1].substring(0,v[b][1].length-v[b-1][1].length),v[b+1][1]=v[b-1][1]+v[b+1][1],v.splice(b-1,1),P=!0):v[b][1].substring(0,v[b+1][1].length)==v[b+1][1]&&(v[b-1][1]+=v[b+1][1],v[b][1]=v[b][1].substring(v[b+1][1].length)+v[b+1][1],v.splice(b+1,1),P=!0)),b++;P&&w(v)}var y=a;y.INSERT=o,y.DELETE=i,y.EQUAL=s,n.exports=y;function _(v,b){if(b===0)return[s,v];for(var k=0,I=0;I<v.length;I++){var O=v[I];if(O[0]===i||O[0]===s){var D=k+O[1].length;if(b===D)return[I+1,v];if(b<D){v=v.slice();var C=b-k,P=[O[0],O[1].slice(0,C)],R=[O[0],O[1].slice(C)];return v.splice(I,1,P,R),[I+1,v]}else k=D}}throw new Error("cursor_pos is out of bounds!")}function g(v,b){var k=_(v,b),I=k[1],O=k[0],D=I[O],C=I[O+1];if(D==null)return v;if(D[0]!==s)return v;if(C!=null&&D[1]+C[1]===C[1]+D[1])return I.splice(O,2,C,D),E(I,O,2);if(C!=null&&C[1].indexOf(D[1])===0){I.splice(O,2,[C[0],D[1]],[0,D[1]]);var P=C[1].slice(D[1].length);return P.length>0&&I.splice(O+2,0,[C[0],P]),E(I,O,3)}else return v}function p(v){for(var b=!1,k=function(C){return C.charCodeAt(0)>=56320&&C.charCodeAt(0)<=57343},I=function(C){return C.charCodeAt(C.length-1)>=55296&&C.charCodeAt(C.length-1)<=56319},O=2;O<v.length;O+=1)v[O-2][0]===s&&I(v[O-2][1])&&v[O-1][0]===i&&k(v[O-1][1])&&v[O][0]===o&&k(v[O][1])&&(b=!0,v[O-1][1]=v[O-2][1].slice(-1)+v[O-1][1],v[O][1]=v[O-2][1].slice(-1)+v[O][1],v[O-2][1]=v[O-2][1].slice(0,-1));if(!b)return v;for(var D=[],O=0;O<v.length;O+=1)v[O][1].length>0&&D.push(v[O]);return D}function E(v,b,k){for(var I=b+k-1;I>=0&&I>=b-1;I--)if(I+1<v.length){var O=v[I],D=v[I+1];O[0]===D[1]&&v.splice(I,2,[O[0],O[1]+D[1]])}return v}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(o){var s=[];for(var a in o)s.push(a);return s}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?o:s,r.supported=o;function o(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=s;function s(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(u,c,f){this.fn=u,this.context=c,this.once=f||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],f,d;if(this._eventsCount===0)return c;for(d in f=this._events)i.call(f,d)&&c.push(o?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},l.prototype.listeners=function(c,f){var d=o?o+c:c,h=this._events[d];if(f)return!!h;if(!h)return[];if(h.fn)return[h.fn];for(var w=0,y=h.length,_=new Array(y);w<y;w++)_[w]=h[w].fn;return _},l.prototype.emit=function(c,f,d,h,w,y){var _=o?o+c:c;if(!this._events[_])return!1;var g=this._events[_],p=arguments.length,E,v;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),p){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,f),!0;case 3:return g.fn.call(g.context,f,d),!0;case 4:return g.fn.call(g.context,f,d,h),!0;case 5:return g.fn.call(g.context,f,d,h,w),!0;case 6:return g.fn.call(g.context,f,d,h,w,y),!0}for(v=1,E=new Array(p-1);v<p;v++)E[v-1]=arguments[v];g.fn.apply(g.context,E)}else{var b=g.length,k;for(v=0;v<b;v++)switch(g[v].once&&this.removeListener(c,g[v].fn,void 0,!0),p){case 1:g[v].fn.call(g[v].context);break;case 2:g[v].fn.call(g[v].context,f);break;case 3:g[v].fn.call(g[v].context,f,d);break;case 4:g[v].fn.call(g[v].context,f,d,h);break;default:if(!E)for(k=1,E=new Array(p-1);k<p;k++)E[k-1]=arguments[k];g[v].fn.apply(g[v].context,E)}}return!0},l.prototype.on=function(c,f,d){var h=new a(f,d||this),w=o?o+c:c;return this._events[w]?this._events[w].fn?this._events[w]=[this._events[w],h]:this._events[w].push(h):(this._events[w]=h,this._eventsCount++),this},l.prototype.once=function(c,f,d){var h=new a(f,d||this,!0),w=o?o+c:c;return this._events[w]?this._events[w].fn?this._events[w]=[this._events[w],h]:this._events[w].push(h):(this._events[w]=h,this._eventsCount++),this},l.prototype.removeListener=function(c,f,d,h){var w=o?o+c:c;if(!this._events[w])return this;if(!f)return--this._eventsCount===0?this._events=new s:delete this._events[w],this;var y=this._events[w];if(y.fn)y.fn===f&&(!h||y.once)&&(!d||y.context===d)&&(--this._eventsCount===0?this._events=new s:delete this._events[w]);else{for(var _=0,g=[],p=y.length;_<p;_++)(y[_].fn!==f||h&&!y[_].once||d&&y[_].context!==d)&&g.push(y[_]);g.length?this._events[w]=g.length===1?g[0]:g:--this._eventsCount===0?this._events=new s:delete this._events[w]}return this},l.prototype.removeAllListeners=function(c){var f;return c?(f=o?o+c:c,this._events[f]&&(--this._eventsCount===0?this._events=new s:delete this._events[f])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=o,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},s=function(){function te(J,le){var ae=[],ee=!0,Ee=!1,Se=void 0;try{for(var Ie=J[Symbol.iterator](),Mt;!(ee=(Mt=Ie.next()).done)&&(ae.push(Mt.value),!(le&&ae.length===le));ee=!0);}catch(En){Ee=!0,Se=En}finally{try{!ee&&Ie.return&&Ie.return()}finally{if(Ee)throw Se}}return ae}return function(J,le){if(Array.isArray(J))return J;if(Symbol.iterator in Object(J))return te(J,le);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function te(J,le){for(var ae=0;ae<le.length;ae++){var ee=le[ae];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(J,ee.key,ee)}}return function(J,le,ae){return le&&te(J.prototype,le),ae&&te(J,ae),J}}(),l=i(3),u=R(l),c=i(2),f=R(c),d=i(0),h=R(d),w=i(5),y=R(w),_=i(10),g=R(_),p=i(9),E=R(p),v=i(36),b=i(37),k=i(13),I=R(k),O=i(26),D=i(38),C=i(39),P=i(40);function R(te){return te&&te.__esModule?te:{default:te}}function N(te,J,le){return J in te?Object.defineProperty(te,J,{value:le,enumerable:!0,configurable:!0,writable:!0}):te[J]=le,te}function j(te,J){if(!(te instanceof J))throw new TypeError("Cannot call a class as a function")}function B(te,J){if(!te)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J&&(typeof J=="object"||typeof J=="function")?J:te}function H(te,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof J);te.prototype=Object.create(J&&J.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(te,J):te.__proto__=J)}var K=(0,g.default)("quill:clipboard"),G="__ql-matcher",q=[[Node.TEXT_NODE,We],[Node.TEXT_NODE,Pe],["br",fe],[Node.ELEMENT_NODE,Pe],[Node.ELEMENT_NODE,ne],[Node.ELEMENT_NODE,De],[Node.ELEMENT_NODE,Y],[Node.ELEMENT_NODE,wt],["li",_e],["b",X.bind(X,"bold")],["i",X.bind(X,"italic")],["style",ge]],L=[v.AlignAttribute,D.DirectionAttribute].reduce(function(te,J){return te[J.keyName]=J,te},{}),x=[v.AlignStyle,b.BackgroundStyle,O.ColorStyle,D.DirectionStyle,C.FontStyle,P.SizeStyle].reduce(function(te,J){return te[J.keyName]=J,te},{}),F=function(te){H(J,te);function J(le,ae){j(this,J);var ee=B(this,(J.__proto__||Object.getPrototypeOf(J)).call(this,le,ae));return ee.quill.root.addEventListener("paste",ee.onPaste.bind(ee)),ee.container=ee.quill.addContainer("ql-clipboard"),ee.container.setAttribute("contenteditable",!0),ee.container.setAttribute("tabindex",-1),ee.matchers=[],q.concat(ee.options.matchers).forEach(function(Ee){var Se=s(Ee,2),Ie=Se[0],Mt=Se[1];!ae.matchVisual&&Mt===De||ee.addMatcher(Ie,Mt)}),ee}return a(J,[{key:"addMatcher",value:function(ae,ee){this.matchers.push([ae,ee])}},{key:"convert",value:function(ae){if(typeof ae=="string")return this.container.innerHTML=ae.replace(/\>\r?\n +\</g,"><"),this.convert();var ee=this.quill.getFormat(this.quill.selection.savedRange.index);if(ee[I.default.blotName]){var Ee=this.container.innerText;return this.container.innerHTML="",new f.default().insert(Ee,N({},I.default.blotName,ee[I.default.blotName]))}var Se=this.prepareMatching(),Ie=s(Se,2),Mt=Ie[0],En=Ie[1],$e=W(this.container,Mt,En);return M($e,`
`)&&$e.ops[$e.ops.length-1].attributes==null&&($e=$e.compose(new f.default().retain($e.length()-1).delete(1))),K.log("convert",this.container.innerHTML,$e),this.container.innerHTML="",$e}},{key:"dangerouslyPasteHTML",value:function(ae,ee){var Ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof ae=="string")this.quill.setContents(this.convert(ae),ee),this.quill.setSelection(0,y.default.sources.SILENT);else{var Se=this.convert(ee);this.quill.updateContents(new f.default().retain(ae).concat(Se),Ee),this.quill.setSelection(ae+Se.length(),y.default.sources.SILENT)}}},{key:"onPaste",value:function(ae){var ee=this;if(!(ae.defaultPrevented||!this.quill.isEnabled())){var Ee=this.quill.getSelection(),Se=new f.default().retain(Ee.index),Ie=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(y.default.sources.SILENT),setTimeout(function(){Se=Se.concat(ee.convert()).delete(Ee.length),ee.quill.updateContents(Se,y.default.sources.USER),ee.quill.setSelection(Se.length()-Ee.length,y.default.sources.SILENT),ee.quill.scrollingContainer.scrollTop=Ie,ee.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ae=this,ee=[],Ee=[];return this.matchers.forEach(function(Se){var Ie=s(Se,2),Mt=Ie[0],En=Ie[1];switch(Mt){case Node.TEXT_NODE:Ee.push(En);break;case Node.ELEMENT_NODE:ee.push(En);break;default:[].forEach.call(ae.container.querySelectorAll(Mt),function($e){$e[G]=$e[G]||[],$e[G].push(En)});break}}),[ee,Ee]}}]),J}(E.default);F.DEFAULTS={matchers:[],matchVisual:!0};function U(te,J,le){return(typeof J>"u"?"undefined":o(J))==="object"?Object.keys(J).reduce(function(ae,ee){return U(ae,ee,J[ee])},te):te.reduce(function(ae,ee){return ee.attributes&&ee.attributes[J]?ae.push(ee):ae.insert(ee.insert,(0,u.default)({},N({},J,le),ee.attributes))},new f.default)}function Q(te){if(te.nodeType!==Node.ELEMENT_NODE)return{};var J="__ql-computed-style";return te[J]||(te[J]=window.getComputedStyle(te))}function M(te,J){for(var le="",ae=te.ops.length-1;ae>=0&&le.length<J.length;--ae){var ee=te.ops[ae];if(typeof ee.insert!="string")break;le=ee.insert+le}return le.slice(-1*J.length)===J}function V(te){if(te.childNodes.length===0)return!1;var J=Q(te);return["block","list-item"].indexOf(J.display)>-1}function W(te,J,le){return te.nodeType===te.TEXT_NODE?le.reduce(function(ae,ee){return ee(te,ae)},new f.default):te.nodeType===te.ELEMENT_NODE?[].reduce.call(te.childNodes||[],function(ae,ee){var Ee=W(ee,J,le);return ee.nodeType===te.ELEMENT_NODE&&(Ee=J.reduce(function(Se,Ie){return Ie(ee,Se)},Ee),Ee=(ee[G]||[]).reduce(function(Se,Ie){return Ie(ee,Se)},Ee)),ae.concat(Ee)},new f.default):new f.default}function X(te,J,le){return U(le,te,!0)}function Y(te,J){var le=h.default.Attributor.Attribute.keys(te),ae=h.default.Attributor.Class.keys(te),ee=h.default.Attributor.Style.keys(te),Ee={};return le.concat(ae).concat(ee).forEach(function(Se){var Ie=h.default.query(Se,h.default.Scope.ATTRIBUTE);Ie!=null&&(Ee[Ie.attrName]=Ie.value(te),Ee[Ie.attrName])||(Ie=L[Se],Ie!=null&&(Ie.attrName===Se||Ie.keyName===Se)&&(Ee[Ie.attrName]=Ie.value(te)||void 0),Ie=x[Se],Ie!=null&&(Ie.attrName===Se||Ie.keyName===Se)&&(Ie=x[Se],Ee[Ie.attrName]=Ie.value(te)||void 0))}),Object.keys(Ee).length>0&&(J=U(J,Ee)),J}function ne(te,J){var le=h.default.query(te);if(le==null)return J;if(le.prototype instanceof h.default.Embed){var ae={},ee=le.value(te);ee!=null&&(ae[le.blotName]=ee,J=new f.default().insert(ae,le.formats(te)))}else typeof le.formats=="function"&&(J=U(J,le.blotName,le.formats(te)));return J}function fe(te,J){return M(J,`
`)||J.insert(`
`),J}function ge(){return new f.default}function _e(te,J){var le=h.default.query(te);if(le==null||le.blotName!=="list-item"||!M(J,`
`))return J;for(var ae=-1,ee=te.parentNode;!ee.classList.contains("ql-clipboard");)(h.default.query(ee)||{}).blotName==="list"&&(ae+=1),ee=ee.parentNode;return ae<=0?J:J.compose(new f.default().retain(J.length()-1).retain(1,{indent:ae}))}function Pe(te,J){return M(J,`
`)||(V(te)||J.length()>0&&te.nextSibling&&V(te.nextSibling))&&J.insert(`
`),J}function De(te,J){if(V(te)&&te.nextElementSibling!=null&&!M(J,`

`)){var le=te.offsetHeight+parseFloat(Q(te).marginTop)+parseFloat(Q(te).marginBottom);te.nextElementSibling.offsetTop>te.offsetTop+le*1.5&&J.insert(`
`)}return J}function wt(te,J){var le={},ae=te.style||{};return ae.fontStyle&&Q(te).fontStyle==="italic"&&(le.italic=!0),ae.fontWeight&&(Q(te).fontWeight.startsWith("bold")||parseInt(Q(te).fontWeight)>=700)&&(le.bold=!0),Object.keys(le).length>0&&(J=U(J,le)),parseFloat(ae.textIndent||0)>0&&(J=new f.default().insert("	").concat(J)),J}function We(te,J){var le=te.data;if(te.parentNode.tagName==="O:P")return J.insert(le.trim());if(le.trim().length===0&&te.parentNode.classList.contains("ql-clipboard"))return J;if(!Q(te.parentNode).whiteSpace.startsWith("pre")){var ae=function(Ee,Se){return Se=Se.replace(/[^\u00a0]/g,""),Se.length<1&&Ee?" ":Se};le=le.replace(/\r\n/g," ").replace(/\n/g," "),le=le.replace(/\s\s+/g,ae.bind(ae,!0)),(te.previousSibling==null&&V(te.parentNode)||te.previousSibling!=null&&V(te.previousSibling))&&(le=le.replace(/^\s+/,ae.bind(ae,!1))),(te.nextSibling==null&&V(te.parentNode)||te.nextSibling!=null&&V(te.nextSibling))&&(le=le.replace(/\s+$/,ae.bind(ae,!1)))}return J.insert(le)}r.default=F,r.matchAttributor=Y,r.matchBlot=ne,r.matchNewline=Pe,r.matchSpacing=De,r.matchText=We},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(y,_){for(var g=0;g<_.length;g++){var p=_[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}return function(y,_,g){return _&&w(y.prototype,_),g&&w(y,g),y}}(),s=function w(y,_,g){y===null&&(y=Function.prototype);var p=Object.getOwnPropertyDescriptor(y,_);if(p===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:w(E,_,g)}else{if("value"in p)return p.value;var v=p.get;return v===void 0?void 0:v.call(g)}},a=i(6),l=u(a);function u(w){return w&&w.__esModule?w:{default:w}}function c(w,y){if(!(w instanceof y))throw new TypeError("Cannot call a class as a function")}function f(w,y){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:w}function d(w,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);w.prototype=Object.create(y&&y.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(w,y):w.__proto__=y)}var h=function(w){d(y,w);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"optimize",value:function(g){s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,g),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),y}(l.default);h.blotName="bold",h.tagName=["STRONG","B"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function P(R,N){var j=[],B=!0,H=!1,K=void 0;try{for(var G=R[Symbol.iterator](),q;!(B=(q=G.next()).done)&&(j.push(q.value),!(N&&j.length===N));B=!0);}catch(L){H=!0,K=L}finally{try{!B&&G.return&&G.return()}finally{if(H)throw K}}return j}return function(R,N){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return P(R,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function P(R,N){for(var j=0;j<N.length;j++){var B=N[j];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(R,B.key,B)}}return function(R,N,j){return N&&P(R.prototype,N),j&&P(R,j),R}}(),a=i(2),l=g(a),u=i(0),c=g(u),f=i(5),d=g(f),h=i(10),w=g(h),y=i(9),_=g(y);function g(P){return P&&P.__esModule?P:{default:P}}function p(P,R,N){return R in P?Object.defineProperty(P,R,{value:N,enumerable:!0,configurable:!0,writable:!0}):P[R]=N,P}function E(P,R){if(!(P instanceof R))throw new TypeError("Cannot call a class as a function")}function v(P,R){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:P}function b(P,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);P.prototype=Object.create(R&&R.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(P,R):P.__proto__=R)}var k=(0,w.default)("quill:toolbar"),I=function(P){b(R,P);function R(N,j){E(this,R);var B=v(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,N,j));if(Array.isArray(B.options.container)){var H=document.createElement("div");D(H,B.options.container),N.container.parentNode.insertBefore(H,N.container),B.container=H}else typeof B.options.container=="string"?B.container=document.querySelector(B.options.container):B.container=B.options.container;if(!(B.container instanceof HTMLElement)){var K;return K=k.error("Container required for toolbar",B.options),v(B,K)}return B.container.classList.add("ql-toolbar"),B.controls=[],B.handlers={},Object.keys(B.options.handlers).forEach(function(G){B.addHandler(G,B.options.handlers[G])}),[].forEach.call(B.container.querySelectorAll("button, select"),function(G){B.attach(G)}),B.quill.on(d.default.events.EDITOR_CHANGE,function(G,q){G===d.default.events.SELECTION_CHANGE&&B.update(q)}),B.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var G=B.quill.selection.getRange(),q=o(G,1),L=q[0];B.update(L)}),B}return s(R,[{key:"addHandler",value:function(j,B){this.handlers[j]=B}},{key:"attach",value:function(j){var B=this,H=[].find.call(j.classList,function(G){return G.indexOf("ql-")===0});if(H){if(H=H.slice(3),j.tagName==="BUTTON"&&j.setAttribute("type","button"),this.handlers[H]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[H]==null){k.warn("ignoring attaching to disabled format",H,j);return}if(c.default.query(H)==null){k.warn("ignoring attaching to nonexistent format",H,j);return}}var K=j.tagName==="SELECT"?"change":"click";j.addEventListener(K,function(G){var q=void 0;if(j.tagName==="SELECT"){if(j.selectedIndex<0)return;var L=j.options[j.selectedIndex];L.hasAttribute("selected")?q=!1:q=L.value||!1}else j.classList.contains("ql-active")?q=!1:q=j.value||!j.hasAttribute("value"),G.preventDefault();B.quill.focus();var x=B.quill.selection.getRange(),F=o(x,1),U=F[0];if(B.handlers[H]!=null)B.handlers[H].call(B,q);else if(c.default.query(H).prototype instanceof c.default.Embed){if(q=prompt("Enter "+H),!q)return;B.quill.updateContents(new l.default().retain(U.index).delete(U.length).insert(p({},H,q)),d.default.sources.USER)}else B.quill.format(H,q,d.default.sources.USER);B.update(U)}),this.controls.push([H,j])}}},{key:"update",value:function(j){var B=j==null?{}:this.quill.getFormat(j);this.controls.forEach(function(H){var K=o(H,2),G=K[0],q=K[1];if(q.tagName==="SELECT"){var L=void 0;if(j==null)L=null;else if(B[G]==null)L=q.querySelector("option[selected]");else if(!Array.isArray(B[G])){var x=B[G];typeof x=="string"&&(x=x.replace(/\"/g,'\\"')),L=q.querySelector('option[value="'+x+'"]')}L==null?(q.value="",q.selectedIndex=-1):L.selected=!0}else if(j==null)q.classList.remove("ql-active");else if(q.hasAttribute("value")){var F=B[G]===q.getAttribute("value")||B[G]!=null&&B[G].toString()===q.getAttribute("value")||B[G]==null&&!q.getAttribute("value");q.classList.toggle("ql-active",F)}else q.classList.toggle("ql-active",B[G]!=null)})}}]),R}(_.default);I.DEFAULTS={};function O(P,R,N){var j=document.createElement("button");j.setAttribute("type","button"),j.classList.add("ql-"+R),N!=null&&(j.value=N),P.appendChild(j)}function D(P,R){Array.isArray(R[0])||(R=[R]),R.forEach(function(N){var j=document.createElement("span");j.classList.add("ql-formats"),N.forEach(function(B){if(typeof B=="string")O(j,B);else{var H=Object.keys(B)[0],K=B[H];Array.isArray(K)?C(j,H,K):O(j,H,K)}}),P.appendChild(j)})}function C(P,R,N){var j=document.createElement("select");j.classList.add("ql-"+R),N.forEach(function(B){var H=document.createElement("option");B!==!1?H.setAttribute("value",B):H.setAttribute("selected","selected"),j.appendChild(H)}),P.appendChild(j)}I.DEFAULTS={container:null,handlers:{clean:function(){var R=this,N=this.quill.getSelection();if(N!=null)if(N.length==0){var j=this.quill.getFormat();Object.keys(j).forEach(function(B){c.default.query(B,c.default.Scope.INLINE)!=null&&R.quill.format(B,!1)})}else this.quill.removeFormat(N,d.default.sources.USER)},direction:function(R){var N=this.quill.getFormat().align;R==="rtl"&&N==null?this.quill.format("align","right",d.default.sources.USER):!R&&N==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",R,d.default.sources.USER)},indent:function(R){var N=this.quill.getSelection(),j=this.quill.getFormat(N),B=parseInt(j.indent||0);if(R==="+1"||R==="-1"){var H=R==="+1"?1:-1;j.direction==="rtl"&&(H*=-1),this.quill.format("indent",B+H,d.default.sources.USER)}},link:function(R){R===!0&&(R=prompt("Enter link URL:")),this.quill.format("link",R,d.default.sources.USER)},list:function(R){var N=this.quill.getSelection(),j=this.quill.getFormat(N);R==="check"?j.list==="checked"||j.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",R,d.default.sources.USER)}}},r.default=I,r.addControls=D},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(y,_){for(var g=0;g<_.length;g++){var p=_[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}return function(y,_,g){return _&&w(y.prototype,_),g&&w(y,g),y}}(),s=function w(y,_,g){y===null&&(y=Function.prototype);var p=Object.getOwnPropertyDescriptor(y,_);if(p===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:w(E,_,g)}else{if("value"in p)return p.value;var v=p.get;return v===void 0?void 0:v.call(g)}},a=i(28),l=u(a);function u(w){return w&&w.__esModule?w:{default:w}}function c(w,y){if(!(w instanceof y))throw new TypeError("Cannot call a class as a function")}function f(w,y){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:w}function d(w,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);w.prototype=Object.create(y&&y.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(w,y):w.__proto__=y)}var h=function(w){d(y,w);function y(_,g){c(this,y);var p=f(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,_));return p.label.innerHTML=g,p.container.classList.add("ql-color-picker"),[].slice.call(p.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(E){E.classList.add("ql-primary")}),p}return o(y,[{key:"buildItem",value:function(g){var p=s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"buildItem",this).call(this,g);return p.style.backgroundColor=g.getAttribute("value")||"",p}},{key:"selectItem",value:function(g,p){s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,g,p);var E=this.label.querySelector(".ql-color-label"),v=g&&g.getAttribute("data-value")||"";E&&(E.tagName==="line"?E.style.stroke=v:E.style.fill=v)}}]),y}(l.default);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(y,_){for(var g=0;g<_.length;g++){var p=_[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}return function(y,_,g){return _&&w(y.prototype,_),g&&w(y,g),y}}(),s=function w(y,_,g){y===null&&(y=Function.prototype);var p=Object.getOwnPropertyDescriptor(y,_);if(p===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:w(E,_,g)}else{if("value"in p)return p.value;var v=p.get;return v===void 0?void 0:v.call(g)}},a=i(28),l=u(a);function u(w){return w&&w.__esModule?w:{default:w}}function c(w,y){if(!(w instanceof y))throw new TypeError("Cannot call a class as a function")}function f(w,y){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:w}function d(w,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);w.prototype=Object.create(y&&y.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(w,y):w.__proto__=y)}var h=function(w){d(y,w);function y(_,g){c(this,y);var p=f(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,_));return p.container.classList.add("ql-icon-picker"),[].forEach.call(p.container.querySelectorAll(".ql-picker-item"),function(E){E.innerHTML=g[E.getAttribute("data-value")||""]}),p.defaultItem=p.container.querySelector(".ql-selected"),p.selectItem(p.defaultItem),p}return o(y,[{key:"selectItem",value:function(g,p){s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,g,p),g=g||this.defaultItem,this.label.innerHTML=g.innerHTML}}]),y}(l.default);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,c){for(var f=0;f<c.length;f++){var d=c[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,c,f){return c&&l(u.prototype,c),f&&l(u,f),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,c){var f=this;s(this,l),this.quill=u,this.boundsContainer=c||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return o(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var f=c.left+c.width/2-this.root.offsetWidth/2,d=c.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var h=this.boundsContainer.getBoundingClientRect(),w=this.root.getBoundingClientRect(),y=0;if(w.right>h.right&&(y=h.right-w.right,this.root.style.left=f+y+"px"),w.left<h.left&&(y=h.left-w.left,this.root.style.left=f+y+"px"),w.bottom>h.bottom){var _=w.bottom-w.top,g=c.bottom-c.top+_;this.root.style.top=d-g+"px",this.root.classList.add("ql-flip")}return y}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function C(P,R){var N=[],j=!0,B=!1,H=void 0;try{for(var K=P[Symbol.iterator](),G;!(j=(G=K.next()).done)&&(N.push(G.value),!(R&&N.length===R));j=!0);}catch(q){B=!0,H=q}finally{try{!j&&K.return&&K.return()}finally{if(B)throw H}}return N}return function(P,R){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return C(P,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function C(P,R,N){P===null&&(P=Function.prototype);var j=Object.getOwnPropertyDescriptor(P,R);if(j===void 0){var B=Object.getPrototypeOf(P);return B===null?void 0:C(B,R,N)}else{if("value"in j)return j.value;var H=j.get;return H===void 0?void 0:H.call(N)}},a=function(){function C(P,R){for(var N=0;N<R.length;N++){var j=R[N];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(P,j.key,j)}}return function(P,R,N){return R&&C(P.prototype,R),N&&C(P,N),P}}(),l=i(3),u=E(l),c=i(8),f=E(c),d=i(43),h=E(d),w=i(27),y=E(w),_=i(15),g=i(41),p=E(g);function E(C){return C&&C.__esModule?C:{default:C}}function v(C,P){if(!(C instanceof P))throw new TypeError("Cannot call a class as a function")}function b(C,P){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:C}function k(C,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);C.prototype=Object.create(P&&P.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(C,P):C.__proto__=P)}var I=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],O=function(C){k(P,C);function P(R,N){v(this,P),N.modules.toolbar!=null&&N.modules.toolbar.container==null&&(N.modules.toolbar.container=I);var j=b(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,R,N));return j.quill.container.classList.add("ql-snow"),j}return a(P,[{key:"extendToolbar",value:function(N){N.container.classList.add("ql-snow"),this.buildButtons([].slice.call(N.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(N.container.querySelectorAll("select")),p.default),this.tooltip=new D(this.quill,this.options.bounds),N.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(j,B){N.handlers.link.call(N,!B.format.link)})}}]),P}(h.default);O.DEFAULTS=(0,u.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(P){if(P){var R=this.quill.getSelection();if(R==null||R.length==0)return;var N=this.quill.getText(R);/^\S+@\S+\.\S+$/.test(N)&&N.indexOf("mailto:")!==0&&(N="mailto:"+N);var j=this.quill.theme.tooltip;j.edit("link",N)}else this.quill.format("link",!1)}}}}});var D=function(C){k(P,C);function P(R,N){v(this,P);var j=b(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,R,N));return j.preview=j.root.querySelector("a.ql-preview"),j}return a(P,[{key:"listen",value:function(){var N=this;s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(j){N.root.classList.contains("ql-editing")?N.save():N.edit("link",N.preview.textContent),j.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(j){if(N.linkRange!=null){var B=N.linkRange;N.restoreFocus(),N.quill.formatText(B,"link",!1,f.default.sources.USER),delete N.linkRange}j.preventDefault(),N.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(j,B,H){if(j!=null){if(j.length===0&&H===f.default.sources.USER){var K=N.quill.scroll.descendant(y.default,j.index),G=o(K,2),q=G[0],L=G[1];if(q!=null){N.linkRange=new _.Range(j.index-L,q.length());var x=y.default.formats(q.domNode);N.preview.textContent=x,N.preview.setAttribute("href",x),N.show(),N.position(N.quill.getBounds(N.linkRange));return}}else delete N.linkRange;N.hide()}})}},{key:"show",value:function(){s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),P}(d.BaseTooltip);D.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(29),s=ee(o),a=i(36),l=i(38),u=i(64),c=i(65),f=ee(c),d=i(66),h=ee(d),w=i(67),y=ee(w),_=i(37),g=i(26),p=i(39),E=i(40),v=i(56),b=ee(v),k=i(68),I=ee(k),O=i(27),D=ee(O),C=i(69),P=ee(C),R=i(70),N=ee(R),j=i(71),B=ee(j),H=i(72),K=ee(H),G=i(73),q=ee(G),L=i(13),x=ee(L),F=i(74),U=ee(F),Q=i(75),M=ee(Q),V=i(57),W=ee(V),X=i(41),Y=ee(X),ne=i(28),fe=ee(ne),ge=i(59),_e=ee(ge),Pe=i(60),De=ee(Pe),wt=i(61),We=ee(wt),te=i(108),J=ee(te),le=i(62),ae=ee(le);function ee(Ee){return Ee&&Ee.__esModule?Ee:{default:Ee}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":_.BackgroundClass,"attributors/class/color":g.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":p.FontClass,"attributors/class/size":E.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":_.BackgroundStyle,"attributors/style/color":g.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":p.FontStyle,"attributors/style/size":E.SizeStyle},!0),s.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":_.BackgroundStyle,"formats/color":g.ColorStyle,"formats/font":p.FontClass,"formats/size":E.SizeClass,"formats/blockquote":f.default,"formats/code-block":x.default,"formats/header":h.default,"formats/list":y.default,"formats/bold":b.default,"formats/code":L.Code,"formats/italic":I.default,"formats/link":D.default,"formats/script":P.default,"formats/strike":N.default,"formats/underline":B.default,"formats/image":K.default,"formats/video":q.default,"formats/list/item":w.ListItem,"modules/formula":U.default,"modules/syntax":M.default,"modules/toolbar":W.default,"themes/bubble":J.default,"themes/snow":ae.default,"ui/icons":Y.default,"ui/picker":fe.default,"ui/icon-picker":De.default,"ui/color-picker":_e.default,"ui/tooltip":We.default},!0),r.default=s.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function y(_,g){for(var p=0;p<g.length;p++){var E=g[p];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}return function(_,g,p){return g&&y(_.prototype,g),p&&y(_,p),_}}(),s=function y(_,g,p){_===null&&(_=Function.prototype);var E=Object.getOwnPropertyDescriptor(_,g);if(E===void 0){var v=Object.getPrototypeOf(_);return v===null?void 0:y(v,g,p)}else{if("value"in E)return E.value;var b=E.get;return b===void 0?void 0:b.call(p)}},a=i(0),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function f(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function d(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var h=function(y){d(_,y);function _(){return c(this,_),f(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"add",value:function(p,E){if(E==="+1"||E==="-1"){var v=this.value(p)||0;E=E==="+1"?v+1:v-1}return E===0?(this.remove(p),!0):s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"add",this).call(this,p,E)}},{key:"canAdd",value:function(p,E){return s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,p,E)||s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,p,parseInt(E))}},{key:"value",value:function(p){return parseInt(s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,p))||void 0}}]),_}(l.default.Attributor.Class),w=new h("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function u(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function c(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var f=function(d){c(h,d);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);f.blotName="blockquote",f.tagName="blockquote",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function h(w,y){for(var _=0;_<y.length;_++){var g=y[_];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(w,g.key,g)}}return function(w,y,_){return y&&h(w.prototype,y),_&&h(w,_),w}}(),s=i(4),a=l(s);function l(h){return h&&h.__esModule?h:{default:h}}function u(h,w){if(!(h instanceof w))throw new TypeError("Cannot call a class as a function")}function c(h,w){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:h}function f(h,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);h.prototype=Object.create(w&&w.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(h,w):h.__proto__=w)}var d=function(h){f(w,h);function w(){return u(this,w),c(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,null,[{key:"formats",value:function(_){return this.tagName.indexOf(_.tagName)+1}}]),w}(a.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function v(b,k){for(var I=0;I<k.length;I++){var O=k[I];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(b,O.key,O)}}return function(b,k,I){return k&&v(b.prototype,k),I&&v(b,I),b}}(),s=function v(b,k,I){b===null&&(b=Function.prototype);var O=Object.getOwnPropertyDescriptor(b,k);if(O===void 0){var D=Object.getPrototypeOf(b);return D===null?void 0:v(D,k,I)}else{if("value"in O)return O.value;var C=O.get;return C===void 0?void 0:C.call(I)}},a=i(0),l=h(a),u=i(4),c=h(u),f=i(25),d=h(f);function h(v){return v&&v.__esModule?v:{default:v}}function w(v,b,k){return b in v?Object.defineProperty(v,b,{value:k,enumerable:!0,configurable:!0,writable:!0}):v[b]=k,v}function y(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function _(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function g(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var p=function(v){g(b,v);function b(){return y(this,b),_(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return o(b,[{key:"format",value:function(I,O){I===E.blotName&&!O?this.replaceWith(l.default.create(this.statics.scope)):s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,I,O)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(I,O){return this.parent.isolate(this.offset(this.parent),this.length()),I===this.parent.statics.blotName?(this.parent.replaceWith(I,O),this):(this.parent.unwrap(),s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"replaceWith",this).call(this,I,O))}}],[{key:"formats",value:function(I){return I.tagName===this.tagName?void 0:s(b.__proto__||Object.getPrototypeOf(b),"formats",this).call(this,I)}}]),b}(c.default);p.blotName="list-item",p.tagName="LI";var E=function(v){g(b,v),o(b,null,[{key:"create",value:function(I){var O=I==="ordered"?"OL":"UL",D=s(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,O);return(I==="checked"||I==="unchecked")&&D.setAttribute("data-checked",I==="checked"),D}},{key:"formats",value:function(I){if(I.tagName==="OL")return"ordered";if(I.tagName==="UL")return I.hasAttribute("data-checked")?I.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function b(k){y(this,b);var I=_(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,k)),O=function(C){if(C.target.parentNode===k){var P=I.statics.formats(k),R=l.default.find(C.target);P==="checked"?R.format("list","unchecked"):P==="unchecked"&&R.format("list","checked")}};return k.addEventListener("touchstart",O),k.addEventListener("mousedown",O),I}return o(b,[{key:"format",value:function(I,O){this.children.length>0&&this.children.tail.format(I,O)}},{key:"formats",value:function(){return w({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(I,O){if(I instanceof p)s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertBefore",this).call(this,I,O);else{var D=O==null?this.length():O.offset(this),C=this.split(D);C.parent.insertBefore(I,C)}}},{key:"optimize",value:function(I){s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,I);var O=this.next;O!=null&&O.prev===this&&O.statics.blotName===this.statics.blotName&&O.domNode.tagName===this.domNode.tagName&&O.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(O.moveChildren(this),O.remove())}},{key:"replace",value:function(I){if(I.statics.blotName!==this.statics.blotName){var O=l.default.create(this.statics.defaultChild);I.moveChildren(O),this.appendChild(O)}s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"replace",this).call(this,I)}}]),b}(d.default);E.blotName="list",E.scope=l.default.Scope.BLOCK_BLOT,E.tagName=["OL","UL"],E.defaultChild="list-item",E.allowedChildren=[p],r.ListItem=p,r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(56),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function u(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function c(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var f=function(d){c(h,d);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);f.blotName="italic",f.tagName=["EM","I"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(y,_){for(var g=0;g<_.length;g++){var p=_[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}return function(y,_,g){return _&&w(y.prototype,_),g&&w(y,g),y}}(),s=function w(y,_,g){y===null&&(y=Function.prototype);var p=Object.getOwnPropertyDescriptor(y,_);if(p===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:w(E,_,g)}else{if("value"in p)return p.value;var v=p.get;return v===void 0?void 0:v.call(g)}},a=i(6),l=u(a);function u(w){return w&&w.__esModule?w:{default:w}}function c(w,y){if(!(w instanceof y))throw new TypeError("Cannot call a class as a function")}function f(w,y){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:w}function d(w,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);w.prototype=Object.create(y&&y.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(w,y):w.__proto__=y)}var h=function(w){d(y,w);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,null,[{key:"create",value:function(g){return g==="super"?document.createElement("sup"):g==="sub"?document.createElement("sub"):s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,g)}},{key:"formats",value:function(g){if(g.tagName==="SUB")return"sub";if(g.tagName==="SUP")return"super"}}]),y}(l.default);h.blotName="script",h.tagName=["SUB","SUP"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function u(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function c(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var f=function(d){c(h,d);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);f.blotName="strike",f.tagName="S",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function u(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function c(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var f=function(d){c(h,d);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);f.blotName="underline",f.tagName="U",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(g,p){for(var E=0;E<p.length;E++){var v=p[E];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}return function(g,p,E){return p&&_(g.prototype,p),E&&_(g,E),g}}(),s=function _(g,p,E){g===null&&(g=Function.prototype);var v=Object.getOwnPropertyDescriptor(g,p);if(v===void 0){var b=Object.getPrototypeOf(g);return b===null?void 0:_(b,p,E)}else{if("value"in v)return v.value;var k=v.get;return k===void 0?void 0:k.call(E)}},a=i(0),l=c(a),u=i(27);function c(_){return _&&_.__esModule?_:{default:_}}function f(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}function d(_,g){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:_}function h(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(_,g):_.__proto__=g)}var w=["alt","height","width"],y=function(_){h(g,_);function g(){return f(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"format",value:function(E,v){w.indexOf(E)>-1?v?this.domNode.setAttribute(E,v):this.domNode.removeAttribute(E):s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,E,v)}}],[{key:"create",value:function(E){var v=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,E);return typeof E=="string"&&v.setAttribute("src",this.sanitize(E)),v}},{key:"formats",value:function(E){return w.reduce(function(v,b){return E.hasAttribute(b)&&(v[b]=E.getAttribute(b)),v},{})}},{key:"match",value:function(E){return/\.(jpe?g|gif|png)$/.test(E)||/^data:image\/.+;base64/.test(E)}},{key:"sanitize",value:function(E){return(0,u.sanitize)(E,["http","https","data"])?E:"//:0"}},{key:"value",value:function(E){return E.getAttribute("src")}}]),g}(l.default.Embed);y.blotName="image",y.tagName="IMG",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(g,p){for(var E=0;E<p.length;E++){var v=p[E];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}return function(g,p,E){return p&&_(g.prototype,p),E&&_(g,E),g}}(),s=function _(g,p,E){g===null&&(g=Function.prototype);var v=Object.getOwnPropertyDescriptor(g,p);if(v===void 0){var b=Object.getPrototypeOf(g);return b===null?void 0:_(b,p,E)}else{if("value"in v)return v.value;var k=v.get;return k===void 0?void 0:k.call(E)}},a=i(4),l=i(27),u=c(l);function c(_){return _&&_.__esModule?_:{default:_}}function f(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}function d(_,g){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:_}function h(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(_,g):_.__proto__=g)}var w=["height","width"],y=function(_){h(g,_);function g(){return f(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"format",value:function(E,v){w.indexOf(E)>-1?v?this.domNode.setAttribute(E,v):this.domNode.removeAttribute(E):s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,E,v)}}],[{key:"create",value:function(E){var v=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,E);return v.setAttribute("frameborder","0"),v.setAttribute("allowfullscreen",!0),v.setAttribute("src",this.sanitize(E)),v}},{key:"formats",value:function(E){return w.reduce(function(v,b){return E.hasAttribute(b)&&(v[b]=E.getAttribute(b)),v},{})}},{key:"sanitize",value:function(E){return u.default.sanitize(E)}},{key:"value",value:function(E){return E.getAttribute("src")}}]),g}(a.BlockEmbed);y.blotName="video",y.className="ql-video",y.tagName="IFRAME",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function E(v,b){for(var k=0;k<b.length;k++){var I=b[k];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(v,I.key,I)}}return function(v,b,k){return b&&E(v.prototype,b),k&&E(v,k),v}}(),s=function E(v,b,k){v===null&&(v=Function.prototype);var I=Object.getOwnPropertyDescriptor(v,b);if(I===void 0){var O=Object.getPrototypeOf(v);return O===null?void 0:E(O,b,k)}else{if("value"in I)return I.value;var D=I.get;return D===void 0?void 0:D.call(k)}},a=i(35),l=h(a),u=i(5),c=h(u),f=i(9),d=h(f);function h(E){return E&&E.__esModule?E:{default:E}}function w(E,v){if(!(E instanceof v))throw new TypeError("Cannot call a class as a function")}function y(E,v){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:E}function _(E,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);E.prototype=Object.create(v&&v.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(E,v):E.__proto__=v)}var g=function(E){_(v,E);function v(){return w(this,v),y(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,null,[{key:"create",value:function(k){var I=s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,k);return typeof k=="string"&&(window.katex.render(k,I,{throwOnError:!1,errorColor:"#f00"}),I.setAttribute("data-value",k)),I}},{key:"value",value:function(k){return k.getAttribute("data-value")}}]),v}(l.default);g.blotName="formula",g.className="ql-formula",g.tagName="SPAN";var p=function(E){_(v,E),o(v,null,[{key:"register",value:function(){c.default.register(g,!0)}}]);function v(){w(this,v);var b=y(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return b}return v}(d.default);r.FormulaBlot=g,r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function k(I,O){for(var D=0;D<O.length;D++){var C=O[D];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(I,C.key,C)}}return function(I,O,D){return O&&k(I.prototype,O),D&&k(I,D),I}}(),s=function k(I,O,D){I===null&&(I=Function.prototype);var C=Object.getOwnPropertyDescriptor(I,O);if(C===void 0){var P=Object.getPrototypeOf(I);return P===null?void 0:k(P,O,D)}else{if("value"in C)return C.value;var R=C.get;return R===void 0?void 0:R.call(D)}},a=i(0),l=y(a),u=i(5),c=y(u),f=i(9),d=y(f),h=i(13),w=y(h);function y(k){return k&&k.__esModule?k:{default:k}}function _(k,I){if(!(k instanceof I))throw new TypeError("Cannot call a class as a function")}function g(k,I){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:k}function p(k,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);k.prototype=Object.create(I&&I.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(k,I):k.__proto__=I)}var E=function(k){p(I,k);function I(){return _(this,I),g(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return o(I,[{key:"replaceWith",value:function(D){this.domNode.textContent=this.domNode.textContent,this.attach(),s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"replaceWith",this).call(this,D)}},{key:"highlight",value:function(D){var C=this.domNode.textContent;this.cachedText!==C&&((C.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=D(C),this.domNode.normalize(),this.attach()),this.cachedText=C)}}]),I}(w.default);E.className="ql-syntax";var v=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),b=function(k){p(I,k),o(I,null,[{key:"register",value:function(){c.default.register(v,!0),c.default.register(E,!0)}}]);function I(O,D){_(this,I);var C=g(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,O,D));if(typeof C.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var P=null;return C.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(P),P=setTimeout(function(){C.highlight(),P=null},C.options.interval)}),C.highlight(),C}return o(I,[{key:"highlight",value:function(){var D=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var C=this.quill.getSelection();this.quill.scroll.descendants(E).forEach(function(P){P.highlight(D.options.highlight)}),this.quill.update(c.default.sources.SILENT),C!=null&&this.quill.setSelection(C,c.default.sources.SILENT)}}}]),I}(d.default);b.DEFAULTS={highlight:function(){return window.hljs==null?null:function(k){var I=window.hljs.highlightAuto(k);return I.value}}(),interval:1e3},r.CodeBlock=E,r.CodeToken=v,r.default=b},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function I(O,D,C){O===null&&(O=Function.prototype);var P=Object.getOwnPropertyDescriptor(O,D);if(P===void 0){var R=Object.getPrototypeOf(O);return R===null?void 0:I(R,D,C)}else{if("value"in P)return P.value;var N=P.get;return N===void 0?void 0:N.call(C)}},s=function(){function I(O,D){for(var C=0;C<D.length;C++){var P=D[C];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(O,P.key,P)}}return function(O,D,C){return D&&I(O.prototype,D),C&&I(O,C),O}}(),a=i(3),l=_(a),u=i(8),c=_(u),f=i(43),d=_(f),h=i(15),w=i(41),y=_(w);function _(I){return I&&I.__esModule?I:{default:I}}function g(I,O){if(!(I instanceof O))throw new TypeError("Cannot call a class as a function")}function p(I,O){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:I}function E(I,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);I.prototype=Object.create(O&&O.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(I,O):I.__proto__=O)}var v=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],b=function(I){E(O,I);function O(D,C){g(this,O),C.modules.toolbar!=null&&C.modules.toolbar.container==null&&(C.modules.toolbar.container=v);var P=p(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,D,C));return P.quill.container.classList.add("ql-bubble"),P}return s(O,[{key:"extendToolbar",value:function(C){this.tooltip=new k(this.quill,this.options.bounds),this.tooltip.root.appendChild(C.container),this.buildButtons([].slice.call(C.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(C.container.querySelectorAll("select")),y.default)}}]),O}(d.default);b.DEFAULTS=(0,l.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(O){O?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var k=function(I){E(O,I);function O(D,C){g(this,O);var P=p(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,D,C));return P.quill.on(c.default.events.EDITOR_CHANGE,function(R,N,j,B){if(R===c.default.events.SELECTION_CHANGE)if(N!=null&&N.length>0&&B===c.default.sources.USER){P.show(),P.root.style.left="0px",P.root.style.width="",P.root.style.width=P.root.offsetWidth+"px";var H=P.quill.getLines(N.index,N.length);if(H.length===1)P.position(P.quill.getBounds(N));else{var K=H[H.length-1],G=P.quill.getIndex(K),q=Math.min(K.length()-1,N.index+N.length-G),L=P.quill.getBounds(new h.Range(G,q));P.position(L)}}else document.activeElement!==P.textbox&&P.quill.hasFocus()&&P.hide()}),P}return s(O,[{key:"listen",value:function(){var C=this;o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){C.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!C.root.classList.contains("ql-hidden")){var P=C.quill.getSelection();P!=null&&C.position(C.quill.getBounds(P))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(C){var P=o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"position",this).call(this,C),R=this.root.querySelector(".ql-tooltip-arrow");if(R.style.marginLeft="",P===0)return P;R.style.marginLeft=-1*P-R.offsetWidth/2+"px"}}]),O}(f.BaseTooltip);k.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=k,r.default=b},function(n,r,i){n.exports=i(63)}]).default})})(ak);var q8=ak.exports,z8=Ae&&Ae.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hc=Ae&&Ae.__assign||function(){return Hc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Hc.apply(this,arguments)},H8=Ae&&Ae.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},cd=Ae&&Ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Gn=cd(re),W8=cd($T),Xs=cd($8),S1=cd(q8),K8=function(t){z8(e,t);function e(n){var r=t.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(o,s,a,l){var u,c,f,d;o==="text-change"?(c=(u=r).onEditorChangeText)===null||c===void 0||c.call(u,r.editor.root.innerHTML,s,l,r.unprivilegedEditor):o==="selection-change"&&((d=(f=r).onEditorChangeSelection)===null||d===void 0||d.call(f,s,l,r.unprivilegedEditor))};var i=r.isControlled()?n.value:n.defaultValue;return r.value=i??"",r}return e.prototype.validateProps=function(n){var r;if(Gn.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Gn.default.Children.count(n.children)){var i=Gn.default.Children.only(n.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(n,r){var i=this,o;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var s=this.getEditorContents(),a=(o=n.value,o??"");this.isEqualValue(a,s)||this.setEditorContents(this.editor,a)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),H8(this.cleanProps,this.dirtyProps).some(function(l){return!Xs.default(n[l],i.props[l])})},e.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(i){return!Xs.default(n[i],r.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(n,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(n)){var o=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:o,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var a=this.regenerationSnapshot,o=a.delta,l=a.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(o),I1(function(){return i.setEditorSelection(u,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(n,r){var i=new S1.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(n){return n&&n.ops},e.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?Xs.default(n.ops,r.ops):Xs.default(n,r)},e.prototype.setEditorContents=function(n,r){var i=this;this.value=r;var o=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),I1(function(){return i.setEditorSelection(n,o)})},e.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var i=n.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),n.setSelection(r)}},e.prototype.setEditorTabIndex=function(n,r){var i,o;!((o=(i=n)===null||i===void 0?void 0:i.scroll)===null||o===void 0)&&o.domNode&&(n.scroll.domNode.tabIndex=r)},e.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},e.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=W8.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},e.prototype.renderEditingArea=function(){var n=this,r=this.props,i=r.children,o=r.preserveWhitespace,s=this.state.generation,a={key:s,ref:function(l){n.editingArea=l}};return Gn.default.Children.count(i)?Gn.default.cloneElement(Gn.default.Children.only(i),a):o?Gn.default.createElement("pre",Hc({},a)):Gn.default.createElement("div",Hc({},a))},e.prototype.render=function(){var n;return Gn.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(n,r,i,o){var s,a;if(this.editor){var l=this.isDelta(this.value)?o.getContents():o.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=l,(a=(s=this.props).onChange)===null||a===void 0||a.call(s,n,r,i,o))}},e.prototype.onEditorChangeSelection=function(n,r,i){var o,s,a,l,u,c;if(this.editor){var f=this.getEditorSelection(),d=!f&&n,h=f&&!n;Xs.default(n,f)||(this.selection=n,(s=(o=this.props).onChangeSelection)===null||s===void 0||s.call(o,n,r,i),d?(l=(a=this.props).onFocus)===null||l===void 0||l.call(a,n,r,i):h&&((c=(u=this.props).onBlur)===null||c===void 0||c.call(u,f,r,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=S1.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(Gn.default.Component);function I1(t){Promise.resolve().then(t)}var G8=K8;const Q8=Wc(G8);const Y8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJ4AAACeCAYAAADDhbN7AAAAAXNSR0IArs4c6QAADspJREFUeAHtXQtwVcUZ/vfcJMUgr7SogKUDBikN5CFUbVUgENCWGkSqham0NUIStLRCO06dThk7HVHbsUxbSl6CzJTWOrZF5SGMAkUFhQp5gIBFKm1jSy0or4Ca3Lv99pbDJOHc3Ne55+6e+5+B2dw9e3b//9vv/Pv6dw8RX4wAI8AIMAKMACPACDACjAAjwAgwAowAI8AIMAKMACPACDACjAAjwAgwAowAI8AIMAKMACPACDACjAAjwAgwAowAI8AIMAKMACPACDACjAAjwAgwAowAI8AIMAKMACPACDACjAAjwAgwAowAI+AfBIR/VHFXk4VXykva8mgUWTTIkpQXEvRJIWkAIURJeUJQnpSEgE5KQacQdxL330f4bkjS33Gjta5JHHJXKv/kxsQ7X5f3lcjPBEN0O0h0C0gzGtGDXalmSY3I81UK0XYQc2tti3jPlXwNzySjiVdZKK+zLCpHHZbDkimypfySRM0A/fmgpLUNTeIvKS9Q0wIyjnjzx8jhoQBVg2h3QflBaa0XSe9CjpUfEf3qyUbx37TK4nHhGUO86hI5kyQtQEVP8BjjWItbKYL005oW8VasD5iczvfEqy6SM9DHWox+W7HuFYXBCkSl9SJED4OAr+subzLy+ZZ4VcXyywDmYRMIF6ECX0F/8Md1jWJzhPtGR/uOeFUlsghKrUCtjDW6ZmzhJT2DEfG3/TYatmz9/BBWFsv7MWWxE7r4g3SqUgTdgbnEg1VF8m4/1JGtgy8s3j0FMi87h1ZDqS/ZivkxRNO7Vlo0p363OGm6fsYTb16x/HyAaA0swxDTKyMW+UG+f2BlZDrmAJtiSa9rGqObWkyRzA8I2pUppFMkgqUYCp0b5xfLubqSKha5jCVedbF8DAouj0VJP6bBvEsD+rT3maqbkU0tSLcKr/43TQXdTbnR7D5Q3yR+5maeXuRlHPEwP7cGc3O3eQGOKWXIEP2grlmoFsCYyxji3VEgc/JyaAMEnmwMul4KGqLq2mZR52WRyZRlSB9PirxsWsOki1zV6PPVYMBhTPfDCOJVFdNSNK9qCYyvCAgAHwHyrZpfIpWbl/aX9k0tBhLzMJCo1x5JTQSEo0GbDNK4+r3ioCYiOYqhNfHUuitcmXbhbc5xlJ4jHRHAJPPhs0Eq+k2LaHNMoEGktk3tnELZG6R7hkkXP0tgTa7qHaDfxf+kd09oS7zcAP0CpBvhHRS+K6lcZ8cCLZvayiJZir0QW3xHBY8VQpN78mOiETq61Wtn8SrHylyQTnma8JUkArAq/XIkPZlkNil5XDviwe37J9DUna2FKYHMrEzRXZmGNV3tVnq0Il5lgRyKal1gVtXqLy0q+VEKb+fQR1ZtiFc5Rn5W5NAyNA/Z+sATWRL0n85GvqvZHUEjq0qoQiep0jK4AMnGUAA79onK0BSMAiCf1gmUaLKAdB8izc0UpH4iQM9HS6/Ffezh/fAE5a86IpTsab+yvJIAk8HjUNY3QLaZCI3twynSwRtkSn2zeFVhV1Uoy40gHzy0ew2gu+kI1Si5032l1OLdWyAvDWXTvaisuX6Yk+tOOrvy0HmfZglaZ//WNYT8h7FdMl8H+VJCPBDuimA2LQLZqqBkXx0UTVoGSWewCD8VFfeaU15YnC8LUdhtS+s+KhxHZ8Bx9FknHbyMc5V4C/Jl3/betBjb8b7npRIpLwukC4WorL5F7OypLEMs3yu1jWJ8T3p4cc814uGoiAp4kTyK/wO9ENyzMmIknS2PCeTrCNLwJ1rEO7bM6QiTnk6pKJGDMXDYBiu3wo+kQ/NaGs3Sda44NGPr8TZPQX+qvXO8Tn8HLJqVbnmSIh4INxv+SgcAdNpNt9tAwq/ttGpe0ad7I968axrFSwB2erzPeZj+Tg/Lciwq4aYWm26UV/D9jrkaHqlIh6MwyrCHYVcyqmCq5RZMtbyQTB6pehY6Xp3Oo3LjtngVI2UfeAW/6FfSwQfwDLoMk5IlnSJMXYvYqJpd5ImzF7W70rqVIC7i4TTNAdm5tB0VU6YdjO4IdEr16RJpXiMVr5pdvKQ360Y+yDQpksxexMdMPEW6UBZtwxs8xgvB0lDGKQwIxrtJOlsHkG+bduSTinh4zdJ0xUS88ApEgLb4lXThPl0HTQLpmlNVD4p8qOZpqco/7nwFXVpZSNfG/ZxLD8TEePTp1qJ5/YpLZWqVjSKdFaTSmr1itxeCYSZgMkB/yYuyYikDVn4vBlIHkHY/ugMH8H8/DoHcF8uzyaSJSjyMXpegmXgwmUI0ftZuXlNm6Zx0x/LaBBB+E17mTzjd1yDuHGTYgOW1pz8+QWtT4dHSI/EwHXCrEZ4XCdRUuHmVNAGj18YEHk/6EVP2lSic8II0BIO0FKsdrUkrfj6DiMQ7f8rmm0h3hVuF6ZIPwDyB5kVNmaSFdDYOppDPlhe4PYXN4o9gs/heOy7RMOLgAke7/hqZ+pJ08CIpTTfpVIXBp28r3vyJ6Gdp4ZwZjUTocs22sqgF3a91+J/U1lNHi2fCQnc0kJzuK0uHZmNiKkevTuVGi8OAQy05bkJl9IqWVrP734Wnyy8TkcmReBjFHkYFDU8kQ12f0ZV0Nl6mkg+4rg+006zlb4ozti6xhBc1tTChD/qNdJgi+AA63aCbpetcQZDtZfyehP9qRGnMheZ3Gpx+dyovpXiE7mLxwqsTAfonMusdTyY6p1WWDh3i8W50iL3QEwOOG4VFLxrX7Ep6LxSEs2yMA48uFk991dBPpLMtXaxgeEGsaGWc30RknOVDi3IZpt62q88/RNNR3e9CPDzsp83Ux/EGTkATtj8WIHRKA5lfgy/gVFNGuzZ2MFp9sOnpz+ivfsGOixReIB5c1+fAvA+KlNCw+OP42vYEkyxdd3yV5VM+gegqtHW/p/NvcCgXLc2GytHyqp7kvEA82L7ZPSU06N5x5WXS0CzU5LfRV22T2I45x6nGkU9QfyubNobPOIxQA2HiKe8TVNbUCGmMiYYOx2Dpvmhi8xoJZHw6age6QBNhReKaroiUn4fx+b0tWhapvDDx4Gd3J0wkPglm7qVIh37RDbB0fzVXC2fJ8SK9oRxUjSOfoG9FOgz8/02tZfaJ6n4mnU1FU8mHbkID9ltf5IUTJh5ultoKmhZmAunsOjGSfJhmae9DD9g62KG49xo5Cn5Xxk05nFfgKIbvNy3fI962FcqEEDMQ16LpVXs5+hihr9oUH6Bh+M7uMVteC/2iG+0fRoWYKRdBmphppFN1pHbAqROr0FKdNqLO4GYPL++FnWUVmOx7HAOLRZ0jTfgboD8FuV0ZSKC5/hf2mNZ7oTes1UKMUvu5VNZY5GXElgTU14ncYzR4aasIr0VnofK0OLYq3opAM+PavCMwUPstPCEe5kvVm2/UQZTx1o1TetRX/3MDaR61UtiNygITjSSek3IcpzcCaFkqbAktmOoh9g8OU48AwMe/zLzQshRVF8rRSns1naL1QYKZWUX+1VoG6GtKOyaex3WMtx7/MveC40Op0h7TYGzxMrn58/wVEHSdWskIr1x4XrhmBXpphZjklNWRSyWKeMc144GvxfGS5LoCiVWMqy2MscyY/dYVRZYrbgTw8uWr6ZRTcT/JDzACSSCAueNhagL5aBJ58KOMQCIIXG5hKcOV9c5ESudnMhaBgRZcog5mrPppUJxHtWHQP2VZkjLKly0NXOtSJI9qMYMuKGjhi9hJHanfBVX+wQjEgoA6hRVHsH4A8+/piZixyMZpfI3AqfDKBdbPtvhaTVZOLwQE/TtMPGwa3qyXZP6VhgcX4bo9FCbe4CbapFyT/Vvd+mjGg4uwQ+LbYeI9RKIDVfNbfaqHJfEzApjCOxAmXlhJQav8rCzrpgcCaFnbhjTR6xeIF94sTLRHD/H8K0Wm9/HQ1diKFjZ0gXjnq/oR/1a5Hppleh8PA9mNqia6EK+ukf4IU8hrt3pw1H9SSArhaKjVFxEPixk4GYHY6qWwyjO5qYXua3GMxUkFL3h28YXTBXbjxjUX3/FnjLLy0LfKI+2eBuqXeVSWVsUA59twYsNzSqhIxBsHz+RdWMx1vK+VNiyMGQhIOoITTofZwnbp49mRaoSLvxvs3xwyAi4gsKRzHo7EUwnaz9H3YfX+1jkx/80IJIIAmthWWLsuhiwi8Va+JU5jPWMGOoTtiRTGzzACFxAQXY8oU/ERiadu1uwTLQi+o/7mixFIBAFYu63ouv2h+7M9Ek8lxkO1sHoruj/IvxmBaAiAdG04hf8ep3RRiaceGtRIlejvbXPKgOMYgUgIwM9zFr7q/Y7T/ZiIp9bWsPt7Ohh8yCkTjmMEuiOAVvLnODJ3Xfd4+3dc83RzR8vLA1m0GfN7BXYGHDIC3RGAgXq2roluVyth3e/Zv2OyeHbiJ/aJ/+CjuNdzs2sjwmF3BEC6De830Vd7Ip16Ji6L17kQfMV7NZ7+euc4/juzEQDp1mNJLKbDwOOyeJ1hxYTgXTjyvgK29GzneP47MxEA6Z6DpZseq/YJWzy7gPmFciS8+v6Eft/n7DgOMwwBSUtgiH4Yj9ZJE08V9hDJrKPFtAjWbzEI6JvPyscDZEamxcI/PtAzs75FxO257grxbNArC+RQkUPLkOmtdhyHPkUgRI9fcpx+ZH8wJV4tXSWeXTj8+ZRb1RJYvyl2HIf+QACt2h6rgypxAoX6KE3CV0qIZ0uD/t/1El+ygVtzOQrqZcdzaCQCvwfparCE+rIb0qeUeLaA6hPhuQEqx2/1GajJKDTXvseh1ggcRcu1oiNEtVj6anVTUk+I111gWMKbQoLK0BSPx1uUj/DK7mn4d5oQkLQDdbID36HYUtMoXkiVFGkhnpMyVcVyBIQZgvmgPIT9kaYfJqj7ItRGRie5TY8DyT7C3q992P11GM2oqd8tNr0aWH5GgBFgBBgBRoARYAQYAUaAEWAEGAFGgBFgBBgBRoARYAQYAUaAEWAEGAFGgBFgBBgBRoARYAQYAUaAEWAEGAFGgBFgBBgBRoARYAQYAUaAEWAEGAFGgBFgBBgBRoARYAQYAUaAEWAEGAFGwHAE/gdK0Pg7iDRBZwAAAABJRU5ErkJggg==";const k1=()=>{let t=16777215,e=Math.random()*t;return e=Math.floor(e),e=e.toString(16),`#${e.padStart(6,0).toUpperCase()}`},X8=["#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF"],J8=({setOpen:t,note:e,createNote:n,updateNote:r})=>{const[i,o]=re.useState(e?e==null?void 0:e.title:""),[s,a]=re.useState(e?e==null?void 0:e.desc:""),[l,u]=re.useState(e?e==null?void 0:e.color:k1()),[c,f]=re.useState(null),d=()=>{o(""),a(""),u(k1()),f(null)},h=v=>{const b=document.getElementById("img-view");b.style.backgroundImage="";const k=b.querySelector("img"),I=b.querySelector("p"),O=b.querySelector("span");k&&(k.style.visibility="visible"),I&&(I.style.visibility="visible"),O&&(O.style.visibility="visible"),v.preventDefault(),d()},w=()=>{const v=new Date,b={weekday:"short",month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"};return v.toLocaleString("en-US",b)},y=v=>{v.preventDefault();const b=w();if(e){const k={...e,title:i,desc:s,color:l,createdAt:b,media:c||null};r(k)}else n({id:mB(),title:i,desc:s,color:l,media:c,createdAt:b});d(),t(!1)},_=()=>{f(null);const v=document.getElementById("img-view");v.style.backgroundImage="";const b=v.querySelector("img"),k=v.querySelector("p"),I=v.querySelector("span");b&&(b.style.visibility="visible"),k&&(k.style.visibility="visible"),I&&(I.style.visibility="visible")},g=(v,b)=>{const k=document.getElementById("input-file"),I=document.getElementById("img-view");if(b){const D=new DataTransfer;D.items.add(b),k.files=D.files}const O=k.files[0];if(k&&k.files.length>0){if(O.size>=778240){um.fire({icon:"error",title:"Oops...",text:"You can only insert upto (750 KB). Please select a smaller file!!"}),_(),k.value=null;return}const D=new FileReader;D.onload=j=>{const B=j.target.result;f(B)},D.readAsDataURL(O);let C=URL.createObjectURL(k.files[0]);I.style.backgroundImage=`url(${C})`;const P=I.querySelector("img"),R=I.querySelector("p"),N=I.querySelector("span");P&&(P.style.visibility="hidden"),R&&(R.style.visibility="hidden"),N&&(N.style.visibility="hidden")}else _()},p=v=>{v.preventDefault()},E=v=>{v.preventDefault();const b=v.dataTransfer.files[0];g(null,b)};return z.jsx("div",{className:"upsert-note",children:z.jsxs("div",{className:"upsert-wrapper",children:[z.jsxs("div",{className:"upsert-header",children:[z.jsx("h2",{className:"heading",children:e?"Update Note":"Add Note"}),z.jsx("div",{className:"close-btn",onClick:()=>t(!1),children:z.jsx("i",{className:"fa-solid fa-xmark"})})]}),z.jsxs("form",{className:"upsert-form",onSubmit:y,children:[z.jsx("input",{required:!0,type:"text",placeholder:"Title",className:"input-form",value:i,onChange:v=>o(v.target.value)}),z.jsx(Q8,{className:"quill-editor",theme:"snow",placeholder:"Enter your description",value:s,onChange:v=>a(v)}),z.jsxs("label",{id:"drop-area",children:[z.jsx("input",{type:"file",accept:"image/*, video/*",id:"input-file",hidden:!0,onChange:v=>g()}),z.jsx("center",{children:z.jsxs("div",{id:"img-view",onDragOver:p,onDrop:E,children:[z.jsx("img",{src:Y8,alt:"Uploaded"}),z.jsxs("p",{children:["Drag and drop or click here",z.jsx("br",{}),"to upload image",z.jsx("br",{})]}),z.jsx("span",{children:"Upload any images from desktop"})]})})]}),z.jsxs("div",{className:"upsert-actions",children:[z.jsx("i",{className:"fa-solid fa-palette"}),z.jsx("input",{type:"color",value:l,onChange:v=>u(v.target.value),list:"primaryColors"}),z.jsx("datalist",{id:"primaryColors",children:X8.map((v,b)=>z.jsx("option",{value:v},b))}),z.jsx("button",{className:"clear-btn",onClick:h,children:"Clear"}),z.jsx("button",{type:"submit",className:"save-btn",children:"Save"})]})]})]})})},Z8={palette:JSON.parse(localStorage.getItem("palette"))},lk=re.createContext(),e7=(t,e)=>{switch(e.type){case"SET_PALETTE":return{...t,palette:e.payload};default:return t}},t7=({children:t})=>{var r;const[e,n]=re.useReducer(e7,Z8);return re.useEffect(()=>{localStorage.setItem("palette",JSON.stringify(e.palette))},[(r=e==null?void 0:e.palette)==null?void 0:r.color]),z.jsx(lk.Provider,{value:{state:e,dispatch:n},children:t})},Ch=[{id:1,color:"#1e4161",name:"blue-palette"},{id:2,color:"#501b1d",name:"maroon-palette"},{id:3,color:"#314731",name:"green-palette"},{id:4,color:"#212020",name:"black-palette"}];function n7(){var B;const{state:t,dispatch:e}=re.useContext(lk),[n,r]=re.useState(!1),[i,o]=re.useState(!1),[s,a]=re.useState([]),[l,u]=re.useState(null),[c,f]=re.useState(""),[d,h]=re.useState(!1),[w,y]=re.useState(!1),[_,g]=re.useState(!1),[p,E]=re.useState(t!=null&&t.palette?Ch.find(H=>H.id===t.palette.id):Ch[0]),[v,b]=re.useState("desc");re.useEffect(()=>{const H=tA(er,async K=>{if(K)try{const q=(await Q3(O3(wu,"users",K.uid,"notes"))).docs.map(L=>({id:L.id,...L.data()}));a(q)}catch(G){console.error("Error fetching notes:",G)}else a([])});return()=>H()},[]);const k=async H=>{try{const K=er.currentUser;if(K){const G=Th(wu,"users",K.uid),q=J3(wu);H.forEach((L,x)=>{const F=Th(G,"notes",`${L.id}`);q.set(F,L)}),await q.commit()}console.log("Current User UID:",K==null?void 0:K.uid)}catch(K){console.log("Error saving notes:",K)}},I=H=>H.sort((K,G)=>{const q=new Date(K.createdAt),L=new Date(G.createdAt);return v==="asc"?q-L:L-q}),O=H=>{if(H){const K=I([...s,H]);a(K),k(K),h(!0)}},D=H=>{u(H),r(!0)},C=H=>{if(H){const K=I([...s.map(G=>G.id===H.id?H:G)]);a(K),u(null),k(K),y(!0)}},P=async H=>{const K=I([...s.filter(G=>G.id!==H)]);a(K),k(K),g(!0),await Y3(Th(wu,"users",er.currentUser.uid,"notes",H))},R=H=>{u(H),o(!0)};let N=[];c?N=[...I(s.filter(H=>H.title.toLowerCase().includes(c.toLowerCase())))]:N=I([...s]);const j=()=>{u(null),r(!0)};return re.useEffect(()=>{if(d){const H=setTimeout(()=>{h(!1)},5e3);return()=>clearTimeout(H)}if(w){const H=setTimeout(()=>{y(!1)},5e3);return()=>clearTimeout(H)}if(_){const H=setTimeout(()=>{g(!1)},5e3);return()=>clearTimeout(H)}},[d,w,_]),z.jsxs("div",{className:`app ${t!=null&&t.palette?(B=t==null?void 0:t.palette)==null?void 0:B.name:p==null?void 0:p.name}`,children:[z.jsx(rF,{setOpen:j,state:t,dispatch:e,setCurrentPalette:E,palettes:Ch,currentPalette:p}),z.jsxs("div",{className:"wrapper container",children:[z.jsxs("div",{className:"search-and-sort-wrapper",children:[z.jsxs("div",{className:"search-wrapper",children:[z.jsx("input",{onChange:H=>f(H.target.value),type:"text",className:"search-input",placeholder:"Search"}),z.jsx("button",{className:"search-btn",children:z.jsx("i",{className:"fa-solid fa-magnifying-glass"})})]}),z.jsxs("div",{className:"sort-wrapper",children:[z.jsx("label",{htmlFor:"sortOrder",className:"sort-label",children:"Sort Order:"}),z.jsxs("select",{id:"sortOrder",className:"sort-select",value:v,onChange:H=>b(H.target.value),children:[z.jsx("option",{value:"desc",children:"Newest"}),z.jsx("option",{value:"asc",children:"Oldest"})]})]})]}),z.jsx("div",{className:"notes-wrapper",children:N.map(H=>z.jsx(uB,{note:H,onDelete:P,onUpdate:D,onPreview:R},H==null?void 0:H.id))}),n&&z.jsx(J8,{note:l,createNote:O,updateNote:C,setOpen:r}),i&&z.jsx(cB,{note:l,setView:o})]}),d&&z.jsx(Wi,{message:"Note Successfully Created..",toastType:"success",duration:5e3}),w&&z.jsx(Wi,{message:"Note Successfully Updated..",toastType:"success",duration:5e3}),_&&z.jsx(Wi,{message:"Note Successfully Deleted..",toastType:"success",duration:5e3})]})}const r7=({children:t,user:e})=>e?t:z.jsx(os,{to:"/"});function i7(){const[t,e]=re.useState(null),[n,r]=re.useState(!1);return re.useEffect(()=>{const i=tA(er,o=>{e(o),r(!0)});return()=>i()},[]),n?z.jsx(rx,{children:z.jsx(XR,{children:t?z.jsxs(z.Fragment,{children:[z.jsx(Ci,{path:"/home",element:z.jsx(r7,{user:t,children:z.jsx(n7,{})})}),z.jsx(Ci,{path:"*",element:z.jsx(os,{to:"/home"})})]}):z.jsxs(z.Fragment,{children:[z.jsx(Ci,{index:!0,path:"/",element:z.jsx(ax,{})}),z.jsx(Ci,{path:"/login",element:z.jsx(tF,{user:t})}),z.jsx(Ci,{path:"/contactus",element:z.jsx(nF,{})}),z.jsx(Ci,{path:"*",element:z.jsx(os,{to:"/",replace:!0})})]})})}):z.jsx("div",{className:"loader"})}Oh.createRoot(document.getElementById("root")).render(z.jsx(j1.StrictMode,{children:z.jsx(t7,{children:z.jsx(i7,{})})}));
